(this["webpackJsonpadvisory-h5"]=this["webpackJsonpadvisory-h5"]||[]).push([[21],{179:function(e,t,c){"use strict";c.d(t,"a",(function(){return n})),c.d(t,"b",(function(){return a})),c.d(t,"c",(function(){return r}));var n=function(e){return e?e.replace(/\s/g,"").replace(/(\d{4})\d+(\d{4})$/,"**** **** **** $2"):""},a=function(e){return e?e.toFixed(2):0},r=function(e){if(!e)return"";var t=(e+"").split(".")[0];return 1==t.length?"\u4e2a":2==t.length?"\u5341":3==t.length?"\u767e":4==t.length?"\u5343":5==t.length?"\u4e07":e.toFixed(2)}},180:function(e,t,c){"use strict";c.d(t,"c",(function(){return a})),c.d(t,"b",(function(){return r})),c.d(t,"e",(function(){return s})),c.d(t,"d",(function(){return i})),c.d(t,"f",(function(){return o})),c.d(t,"a",(function(){return O}));var n=c(188),a=function(e){if(e)return Object(n.a)(e).format("MM-DD HH:mm:ss")},r=function(e){var t=Object(n.a)().valueOf(),c=Object(n.a)(e).valueOf()-t,a=Object(n.a)(c).minute(),r=Object(n.a)(c).second();return"".concat(a,"\u5206").concat(r,"\u79d2")},s=function(e){var t=Object(n.a)(),c=Object(n.a)(e).diff(t,"seconds");return c>0?c:0},i=function(e){return Object(n.a)(1e3*e).format("mm\u5206ss\u79d2")},o=function(e){var t=Object(n.a)(e).valueOf();return Object(n.a)().add(3,"m").valueOf()>t},O=function(e){var t=Object(n.a)(e),c=Object(n.a)().add(3,"m"),a=t.diff(c,"seconds");return a>0?a:0}},184:function(e,t,c){"use strict";var n=c(199),a=c(37),r=c(174),s=(c(181),c(182)),i=c.n(s),o=c(0),O=[],u=new i.a.DataSource({rowHasChanged:function(e,t){return e!==t}});t.a=function(e){var t=Object(o.useState)({indicator:!1,refreshing:!0,page:1,size:100,isLastPage:!1,dataSource:u}),c=Object(r.a)(t,2),s=c[0],i=c[1],d=e.queryPages,N=e.params,j=function(){setTimeout((function(){d(Object(a.a)({page:1,size:s.size,rows:s.size},N)).then((function(e){var t=e.last,c=e.content,n=e.number;O=c,i(Object(a.a)(Object(a.a)({},s),{},{refreshing:!1,indicator:!!t,isLastPage:t,dataSource:s.dataSource.cloneWithRows(O),page:n+1}))})).catch((function(e){i(Object(a.a)(Object(a.a)({},s),{},{refreshing:!1,isLastPage:!1,indicator:!1}))}))}),500)},S=function(){d(Object(a.a)({page:s.page+1,size:s.size,rows:s.size},N)).then((function(e){var t=e.last,c=e.content;O=[].concat(Object(n.a)(O),Object(n.a)(c)),i(Object(a.a)(Object(a.a)({},s),{},{indicator:!1,isLastPage:t,dataSource:s.dataSource.cloneWithRows(O),page:s.page+1}))})).catch((function(e){i(Object(a.a)(Object(a.a)({},s),{},{indicator:!1,isLastPage:!1,page:s.page+1}))}))};return Object(o.useEffect)((function(){s.refreshing&&j()}),[s.refreshing]),Object(o.useEffect)((function(){s.isLastPage||s.indicator&&S()}),[s.indicator]),{setIndicator:function(){return i(Object(a.a)(Object(a.a)({},s),{},{indicator:!0}))},setRefresing:function(){return i(Object(a.a)(Object(a.a)({},s),{},{refreshing:!0}))},refreshHandle:j,indicatorHandle:S,indicator:s.indicator,refreshing:s.refreshing,isLastPage:s.isLastPage,dataSource:s.dataSource}}},244:function(e,t,c){},261:function(e,t,c){"use strict";c.r(t);var n=c(6),a=(c(181),c(182)),r=c.n(a),s=(c(194),c(195)),i=c.n(s),o=c(174),O=c(0),u=c(5),d=c(11),N=function(e){return Object(d.c)("/api/v1/app/mine/query-trans-log-by-trans-reason",e,{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"})},j=c(180),S=c(19),_=c(184),l=c(179),b=(c(244),[{code:"TRANSFER_OUT",text:"\u8f6c\u51fa"},{code:"TRANSFER_IN",text:"\u8f6c\u5165"},{code:"DEPOSIT_COST",text:"\u4ee3\u6536\u6263\u6b3e"},{code:"DEPOSIT_REFUND",text:"\u4ee3\u6536\u9000\u6b3e"},{code:"DEPOSIT_BONUS",text:"\u4ee3\u6536\u6536\u76ca"},{code:"DEPOSIT_RECALL",text:"\u4ee3\u9500\u8ffd\u56de"},{code:"MANUAL_ADJUST",text:"\u989d\u5ea6\u4fee\u6b63"},{code:"TIMING_TASK_REVOKE",text:"\u9650\u65f6\u4efb\u52a1\u51b2\u6b63"},{code:"TIMING_TASK_INCOME",text:"\u9650\u65f6\u4efb\u52a1\u5956\u52b1"},{code:"TIMING_TASK_BONUS",text:"\u9650\u65f6\u4efb\u52a1\u6536\u76ca"},{code:"MERCHANT_DEPOSIT_FEE",text:"\u5546\u6237\u4ee3\u6536\u8d39\u7528"},{code:"MERCHANT_DEPOSIT_ADD",text:"\u5546\u6237\u4ee3\u6536\u8d39\u6210\u529f\uff0c\u989d\u5ea6\u589e\u52a0"},{code:"MERCHANT_TIMING_TASK_FEE",text:"\u5546\u6237\u9650\u65f6\u4efb\u52a1\u8d39\u7528"},{code:"MERCHANT_TIMING_TASK_MINUS",text:"\u5546\u6237\u9650\u65f6\u4efb\u52a1\u6210\u529f\uff0c\u989d\u5ea6\u51cf\u5c11"},{code:"MERCHANT_TIMING_TASK_RETURN",text:"\u5546\u6237\u9650\u65f6\u4efb\u52a1\u9000\u56de\uff0c\u989d\u5ea6\u8865\u56de"},{code:"DEPOSIT_BONUS_TOP",text:"\u4ee3\u6536\u4ee3\u7406\u6536\u76ca"},{code:"DEPOSIT_BONUS_SECOND",text:"\u4ee3\u6536\u4ee3\u7406\u6536\u76ca"},{code:"DEPOSIT_BONUS_RECOMMEND1",text:"\u4ee3\u6536\u6536\u76ca\u63a8\u8350\u4eba1"},{code:"DEPOSIT_BONUS_RECOMMEND2",text:"\u4ee3\u6536\u6536\u76ca\u63a8\u8350\u4eba2"},{code:"DEPOSIT_BONUS_RECOMMEND3",text:"\u4ee3\u6536\u6536\u76ca\u63a8\u8350\u4eba3"},{code:"TIMING_TASK_BONUS_TOP",text:"\u9650\u65f6\u4efb\u52a1\u4ee3\u7406\u6536\u76ca"},{code:"TIMING_TASK_BONUS_SECOND",text:"\u9650\u65f6\u4efb\u52a1\u4ee3\u7406\u6536\u76ca"},{code:"TIMING_TASK_BONUS_RECOMMEND1",text:"\u9650\u65f6\u4efb\u52a1\u6536\u76ca\u63a8\u8350\u4eba1"},{code:"TIMING_TASK_BONUS_RECOMMEND2",text:"\u9650\u65f6\u4efb\u52a1\u6536\u76ca\u63a8\u8350\u4eba2"},{code:"TIMING_TASK_BONUS_RECOMMEND3",text:"\u9650\u65f6\u4efb\u52a1\u6536\u76ca\u63a8\u8350\u4eba3"}]),T={TRANSFER_OUT:"\u8f6c\u51fa",TRANSFER_IN:"\u8f6c\u5165",DEPOSIT_COST:"\u4ee3\u6536\u6263\u6b3e",DEPOSIT_REFUND:"\u4ee3\u6536\u9000\u6b3e",DEPOSIT_BONUS:"\u4ee3\u6536\u6536\u76ca",DEPOSIT_RECALL:"\u4ee3\u6536\u8ffd\u56de",MANUAL_ADJUST:"\u989d\u5ea6\u4fee\u6b63",TIMING_TASK_REVOKE:"\u9650\u65f6\u4efb\u52a1\u51b2\u6b63",TIMING_TASK_INCOME:"\u9650\u65f6\u4efb\u52a1\u5956\u52b1",TIMING_TASK_BONUS:"\u9650\u65f6\u4efb\u52a1\u6536\u76ca",MERCHANT_DEPOSIT_FEE:"\u5546\u6237\u4ee3\u6536\u8d39\u7528",MERCHANT_DEPOSIT_ADD:"\u5546\u6237\u4ee3\u6536\u8d39\u6210\u529f\uff0c\u989d\u5ea6\u589e\u52a0",MERCHANT_TIMING_TASK_FEE:"\u5546\u6237\u9650\u65f6\u4efb\u52a1\u8d39\u7528",MERCHANT_TIMING_TASK_MINUS:"\u5546\u6237\u9650\u65f6\u4efb\u52a1\u6210\u529f\uff0c\u989d\u5ea6\u51cf\u5c11",MERCHANT_TIMING_TASK_RETURN:"\u5546\u6237\u9650\u65f6\u4efb\u52a1\u9000\u56de\uff0c\u989d\u5ea6\u8865\u56de",DEPOSIT_BONUS_TOP:"\u4ee3\u6536\u4ee3\u7406\u6536\u76ca",DEPOSIT_BONUS_SECOND:"\u4ee3\u6536\u4ee3\u7406\u6536\u76ca",DEPOSIT_BONUS_RECOMMEND1:"\u4ee3\u6536\u6536\u76ca\u63a8\u8350\u4eba1",DEPOSIT_BONUS_RECOMMEND2:"\u4ee3\u6536\u6536\u76ca\u63a8\u8350\u4eba2",DEPOSIT_BONUS_RECOMMEND3:"\u4ee3\u6536\u6536\u76ca\u63a8\u8350\u4eba3",TIMING_TASK_BONUS_TOP:"\u9650\u65f6\u4efb\u52a1\u4ee3\u7406\u6536\u76ca",TIMING_TASK_BONUS_SECOND:"\u9650\u65f6\u4efb\u52a1\u4ee3\u7406\u6536\u76ca",TIMING_TASK_BONUS_RECOMMEND1:"\u9650\u65f6\u4efb\u52a1\u6536\u76ca\u63a8\u8350\u4eba1",TIMING_TASK_BONUS_RECOMMEND2:"\u9650\u65f6\u4efb\u52a1\u6536\u76ca\u63a8\u8350\u4eba2",TIMING_TASK_BONUS_RECOMMEND3:"\u9650\u65f6\u4efb\u52a1\u6536\u76ca\u63a8\u8350\u4eba3"};t.default=Object(S.b)("commonState")(Object(S.c)((function(e){var t=Object(u.g)().goBack,c=Object(O.useState)(!1),a=Object(o.a)(c,2),s=a[0],S=a[1],f=Object(O.useState)({}),E=Object(o.a)(f,2),I=E[0],M=E[1],h=Object(O.useState)(""),m=Object(o.a)(h,2),x=m[0],p=m[1],D=e.commonState,R=Object(O.useRef)(null),A=Object(O.useState)(5),g=Object(o.a)(A,2),C=g[0],P=g[1],U=Object(_.a)({queryPages:N,params:{transReasons:x}}),B=U.setIndicator,v=U.setRefresing,K=U.indicator,y=U.refreshing,G=U.dataSource;Object(O.useEffect)((function(){var e=Number(document.documentElement.style.fontSize.slice(0,2)),t=D.clientHeight,c=ReactDOM.findDOMNode(R.current).offsetTop;P((t-c)/e)}),[]),Object(O.useEffect)((function(){var e;(e={},Object(d.c)("/api/v1/app/mine/query-coin-statistics",e)).then((function(e){M(e)}))}),[]);return Object(n.jsxs)(n.Fragment,{children:[s&&Object(n.jsx)("ul",{className:"selects",children:b.map((function(e){return Object(n.jsx)("li",{onClick:function(){p(e.code),S(!1),v()},children:e.text},e.code)}))}),Object(n.jsx)("header",{className:"bills-header-wrap",children:Object(n.jsxs)("ul",{className:"container",children:[Object(n.jsx)("li",{className:"goback",onClick:t}),Object(n.jsx)("li",{className:"title",children:"\u8d26\u5355"}),Object(n.jsx)("li",{className:"title small-title",onClick:function(){return S(!s)}})]})}),Object(n.jsxs)("div",{className:"bills-detail",children:[Object(n.jsxs)("p",{children:["\u8fd17\u65e5\u4e2a\u4eba\u4ee3\u552e\u6536\u76ca \xa5",Object(l.b)(I.depositAmount)]}),Object(n.jsxs)("p",{children:["\u8fd17\u65e5\u6210\u529f\u4ee3\u552e\u603b\u989d \xa5",Object(l.b)(I.withdrawAmount)]})]}),Object(n.jsx)(r.a,{className:"bills-list",ref:R,style:{height:"".concat(C,"rem")},dataSource:G,renderFooter:function(){return Object(n.jsx)("div",{style:{textAlign:"center"},children:K?"\u6ca1\u6709\u66f4\u591a\u6570\u636e":"\u6b63\u5728\u52a0\u8f7d\u4e2d....."})},renderRow:function(e,t,c){return Object(n.jsxs)("li",{className:"bills-list-item",children:[Object(n.jsxs)("p",{children:[Object(n.jsx)("span",{className:"type-name",children:T[e.transReason]}),"CREDIT"===e.accountingAction?Object(n.jsxs)("span",{className:"type-money add-money",children:["+",Object(l.b)(e.amount)]}):Object(n.jsxs)("span",{className:"type-money less-money",children:["-",Object(l.b)(e.amount)]})]}),Object(n.jsx)("p",{children:Object(n.jsxs)("span",{className:"type-time",children:["\u8ba2\u5355\u7f16\u53f7:",e.orderNo]})}),Object(n.jsxs)("p",{children:[Object(n.jsxs)("span",{className:"type-order",children:["\u63a5\u5355\u4f1a\u5458\u8d26\u53f7:",e.acceptOrderLoginName]}),Object(n.jsxs)("span",{className:"type-order",children:["\u63a5\u5355\u989d\u5ea6:",e.orderAmount]})]}),Object(n.jsx)("p",{children:Object(n.jsxs)("span",{className:"type-time",children:["\u8ba2\u5355\u65e5\u671f:",Object(j.c)(e.createdDate)]})})]},c)},useBodyScroll:!1,pullToRefresh:Object(n.jsx)(i.a,{refreshing:y,onRefresh:v}),onEndReached:B,pageSize:20})]})})))}}]);