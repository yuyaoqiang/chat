(this["webpackJsonpadvisory-h5"]=this["webpackJsonpadvisory-h5"]||[]).push([[4],{0:function(t,e){t.exports=React},11:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return s})),n.d(e,"d",(function(){return l}));var a=n(37),r=n(48),i=n.n(r),o=n(35),c=function(t,e){return Object(o.a)({url:t,method:"get",params:e,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"}})},u=function(t,e,n){return Object(o.a)({url:t,method:"post",data:e,headers:n||{"Content-Type":"application/json;charset=utf-8"}})},s=function(t,e,n){return Object(o.a)({url:t,method:"put",params:e,headers:n||{"Content-Type":"application/json;charset=utf-8"}})},l=function(t,e,n){var r=sessionStorage.getItem("user"),o=JSON.parse(r)||{},c=sessionStorage.getItem("text-url");window.location.hostname;return t=c?"".concat(c).concat(t):"".concat(window.myConfig.domain).concat(t),i.a.post(""+t,e,{headers:Object(a.a)({"Content-Type":"multipart/form-data",Authorization:o.Authorization},n)})}},169:function(t,e,n){},171:function(t,e,n){},172:function(t,e,n){"use strict";n.r(e);var a=n(37),r=n(6),i=n(0),o=n.n(i),c=n(24),u=n.n(c),s=n(36),l=(n(41),n(20)),b=n.n(l),h=n(5),p=n(19),f=[{path:"/",name:"home",component:o.a.lazy((function(){return n.e(19).then(n.bind(null,249))})),exact:!0,auth:!0},{path:"/login",name:"login",component:o.a.lazy((function(){return n.e(14).then(n.bind(null,255))})),auth:!1},{path:"/register",name:"register",component:o.a.lazy((function(){return n.e(17).then(n.bind(null,250))})),auth:!1},{path:"/userInfo",name:"userInfo",component:o.a.lazy((function(){return n.e(9).then(n.bind(null,251))})),auth:!0},{path:"/transform",name:"transform",component:o.a.lazy((function(){return n.e(18).then(n.bind(null,256))})),auth:!0},{path:"/consignment",name:"consignment",component:o.a.lazy((function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,254))})),auth:!0},{path:"/consignmentRecord",name:"consignmentRecord",component:o.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(11)]).then(n.bind(null,257))})),auth:!0},{path:"/timeMission",name:"timeMission",component:o.a.lazy((function(){return Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(10)]).then(n.bind(null,253))})),auth:!0},{path:"/offTimer",name:"offTimer",component:o.a.lazy((function(){return Promise.all([n.e(2),n.e(3),n.e(15)]).then(n.bind(null,258))})),auth:!1},{path:"/banks",name:"banks",component:o.a.lazy((function(){return Promise.all([n.e(8),n.e(20)]).then(n.bind(null,252))})),auth:!0},{path:"/addBank",name:"addBank",component:o.a.lazy((function(){return Promise.all([n.e(2),n.e(13)]).then(n.bind(null,259))})),auth:!0},{path:"/password",name:"password",component:o.a.lazy((function(){return n.e(16).then(n.bind(null,260))})),auth:!0},{path:"/bills",name:"bills",component:o.a.lazy((function(){return Promise.all([n.e(0),n.e(1),n.e(21)]).then(n.bind(null,261))})),auth:!0},{path:"/activation",name:"activation",component:o.a.lazy((function(){return n.e(12).then(n.bind(null,262))})),auth:!1}],m=Object(p.b)("userState")(Object(p.c)((function(t){var e=Object(h.h)().pathname,n=t.userState.user,a=f.find((function(t){return t.path===e})),i=a.component;return!a||a.auth||n.isLogin?n.isLogin?"/login"===e?Object(r.jsx)(h.a,{to:"/"}):Object(r.jsx)(h.b,{path:e,component:i}):a&&a.auth?(b.a.info("\u8bf7\u5148\u767b\u5f55",1.3),Object(r.jsx)(h.a,{to:"/login"})):Object(r.jsx)(h.a,{to:"/404"}):Object(r.jsx)(h.b,{path:e,component:i})}))),d=n(11),g=n(91),j=function(t){return Object(d.a)("/api/v1/app/sale/my-status",t)},O=(n(169),n(68));b.a.config({duration:1.3});var y,v,w,S,z,x,k,I,N,R,P,C,B,A,L,T,D,J,E,H,M,q,U=Object(p.b)("userState","banksState","homeState")(Object(p.c)((function(t){var e=t.userState,n=t.banksState,a=t.homeState,o=e.user,c=e.logout,u=n.setBanks,s=a.changeData,l=a.data,b=Object(h.g)().push,p=function(){var t;(t={},Object(d.b)("/api/v1/app/login/ping",t)).then((function(){})).catch((function(t){}))},f=function(){j({}).then((function(t){"DISABLE"===t.status&&(c(),b("/login")),s(t)}))};Object(i.useEffect)((function(){if(o.isLogin){f(),Object(g.a)().then((function(t){if(t&&t.length>0){var e=Object(O.b)(t);u(e,t)}}));var t=setInterval((function(){o.isLogin&&(f(),p())}),3e3);return function(){return clearInterval(t)}}}),[o]);return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)(i.Suspense,{fallback:Object(r.jsx)("div",{children:"Loading..."}),children:[o.isLogin&&"NORMAL"!==l.status&&Object(r.jsx)("p",{className:"status-icon"}),Object(r.jsx)(h.d,{children:Object(r.jsx)(m,{})})]})})}))),F=n(4),W=n(15),_=n(3),G=(n(40),n(1)),K=(y=function t(){Object(W.a)(this,t),Object(F.a)(this,"clientHeight",v,this),Object(F.a)(this,"footerHeight",w,this),Object(F.a)(this,"updateFooterHeight",S,this),Object(G.n)(this)},v=Object(_.a)(y.prototype,"clientHeight",[G.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return document.documentElement.clientHeight}}),w=Object(_.a)(y.prototype,"footerHeight",[G.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 60}}),S=Object(_.a)(y.prototype,"updateFooterHeight",[G.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var t=this;return function(e){t.footerHeight=e}}}),y),Q=n(96),V=(z=function(){function t(){var e=this;Object(W.a)(this,t),Object(F.a)(this,"user",x,this),Object(F.a)(this,"logout",k,this),Object(F.a)(this,"updateUser",I,this),Object(G.n)(this),Object(G.g)((function(){var t=sessionStorage.getItem("user");t&&e.updateUser(JSON.parse(t))}))}return Object(Q.a)(t,[{key:"msg",get:function(){return"".concat(this.user.mobilePhone)}}]),t}(),x=Object(_.a)(z.prototype,"user",[G.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{Authorization:"",isLogin:!1}}}),k=Object(_.a)(z.prototype,"logout",[G.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var t=this;return function(){t.user.isLogin=!1,sessionStorage.clear()}}}),I=Object(_.a)(z.prototype,"updateUser",[G.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var t=this;return function(e){t.user=e,sessionStorage.setItem("user",JSON.stringify(e))}}}),Object(_.a)(z.prototype,"msg",[G.h],Object.getOwnPropertyDescriptor(z.prototype,"msg"),z.prototype),z),X=n(92),Y=(N=function t(){Object(W.a)(this,t),Object(F.a)(this,"phoneNumber",R,this),Object(F.a)(this,"step",P,this),Object(F.a)(this,"changeStep",C,this),Object(F.a)(this,"changePhoneNum",B,this),Object(F.a)(this,"register",A,this),Object(G.n)(this)},R=Object(_.a)(N.prototype,"phoneNumber",[G.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),P=Object(_.a)(N.prototype,"step",[G.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),C=Object(_.a)(N.prototype,"changeStep",[G.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var t=this;return function(e){t.step=e}}}),B=Object(_.a)(N.prototype,"changePhoneNum",[G.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var t=this;return function(e){t.phoneNumber=e}}}),A=Object(_.a)(N.prototype,"register",[G.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var t=this;return function(){return Object(X.b)({data:{phoneAreaCode:"86",mobilePhone:t.phoneNumber}})}}}),N),Z=(L=function t(){Object(W.a)(this,t),Object(F.a)(this,"data",T,this),Object(F.a)(this,"changeData",D,this),Object(F.a)(this,"refreshData",J,this),Object(G.n)(this)},T=Object(_.a)(L.prototype,"data",[G.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),D=Object(_.a)(L.prototype,"changeData",[G.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var t=this;return function(e){if("COMMON_USER"===e.agencyType&&e.extraReceiveShareRate)return e.cardToCardPromotionRate=e.cardToCardPromotionRate+e.extraReceiveShareRate,void(t.data=e);t.data=e}}}),J=Object(_.a)(L.prototype,"refreshData",[G.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var t=this;return function(){j({}).then((function(e){t.changeData(e)}))}}}),L),$=(E=function t(){Object(W.a)(this,t),Object(F.a)(this,"banks",H,this),Object(F.a)(this,"mapBanks",M,this),Object(F.a)(this,"setBanks",q,this),Object(G.n)(this)},H=Object(_.a)(E.prototype,"banks",[G.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=Object(_.a)(E.prototype,"mapBanks",[G.o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),q=Object(_.a)(E.prototype,"setBanks",[G.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var t=this;return function(e,n){t.banks=n,t.mapBanks=e}}}),E),tt={commonState:new K,userState:new V,registerState:new Y,homeState:new Z,banksState:new $},et=(n(170),n(97)),nt=n.n(et);n(171);nt.a.attach(document.body),u.a.render(Object(r.jsx)(p.a,Object(a.a)(Object(a.a)({},tt),{},{children:Object(r.jsx)(s.a,{children:Object(r.jsx)(U,{})})})),document.getElementById("root"))},24:function(t,e){t.exports=ReactDOM},35:function(t,e,n){"use strict";n(41);var a=n(20),r=n.n(a),i=n(48),o=n.n(i).a.create({timeout:6e4,transformRequest:[function(t){return"string"===typeof t?t:t=JSON.stringify(t)}],transformResponse:[function(t){return"string"===typeof t&&t.startsWith("{")&&(t=JSON.parse(t)),t}]});o.interceptors.request.use((function(t){var e=sessionStorage.getItem("user"),n=sessionStorage.getItem("text-url"),a=JSON.parse(e)||{};return t.url=n?"".concat(n).concat("").concat(t.url):"".concat(window.myConfig.domain).concat(t.url),t.headers.Authorization=a.Authorization,t}),(function(t){return t.msg="\u670d\u52a1\u5668\u5f02\u5e38\uff0c\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458\uff01",Promise.resolve(t)})),o.interceptors.response.use((function(t){var e=t.data;t.status;return e&&"string"===typeof e&&(e.startsWith("{")||e.startsWith("["))?JSON.parse(e):e}),(function(t){return r.a.fail("".concat(t.response&&t.response.data?t.response.data.message:"\u8bf7\u6c42\u9519\u8bef")),Promise.reject(t.response)})),e.a=o},68:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return o}));n(41);var a=n(20),r=n.n(a),i=function(t){var e={};return t.map((function(t){e[t.code]=t.name})),e},o=function(t){var e=document.createElement("input");e.setAttribute("id","copyId"),e.value=t,document.querySelector("body").appendChild(e);var n=document.createRange();n.selectNode(document.getElementById("copyId"));var a=window.getSelection();a.rangeCount>0&&a.removeAllRanges(),a.addRange(n),document.execCommand("copy"),document.getElementById("copyId").remove(),r.a.success("\u590d\u5236\u6210\u529f!")}},91:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"c",(function(){return c})),n.d(e,"b",(function(){return u}));var a=n(35),r=n(11),i={"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"},o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r.b)("/pub/banks",t)},c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r.a)("/api/v1/app/mine/query-cards",t)},u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(a.a)({url:"/api/v1/app/mine/delete-card",method:"post",params:t,headers:i})}},92:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return i}));var a=n(11),r=function(t){return Object(a.b)("/index/redlists/smsinfo/sendSms",t)},i=function(t){return Object(a.b)("/api/v1/app/login/register",t)}}},[[172,5,6]]]);