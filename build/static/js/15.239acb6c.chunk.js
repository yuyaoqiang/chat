(this["webpackJsonpadvisory-h5"]=this["webpackJsonpadvisory-h5"]||[]).push([[15],{174:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(175);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],a=!0,c=!1,i=void 0;try{for(var r,s=e[Symbol.iterator]();!(a=(r=s.next()).done)&&(n.push(r.value),!t||n.length!==t);a=!0);}catch(l){c=!0,i=l}finally{try{a||null==s.return||s.return()}finally{if(c)throw i}}return n}}(e,t)||Object(a.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},175:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(176);function c(e,t){if(e){if("string"===typeof e)return Object(a.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(a.a)(e,t):void 0}}},176:function(e,t,n){"use strict";function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}n.d(t,"a",(function(){return a}))},177:function(e,t,n){},178:function(e,t,n){"use strict";var a=n(6),c=n(0),i=n(5),r=n(174),s=function(){var e=Object(c.useState)("http://ayx.ltd/kefu/5fe0753addc8c"),t=Object(r.a)(e,1)[0];return{onService:function(){var e=document.createElement("a");e.setAttribute("href",t),e.setAttribute("target","_blank"),e.setAttribute("id","online"),document.getElementById("online")||document.body.appendChild(e),e.click()},onlineService:t}};n(177),t.a=function(e){var t=Object(i.g)(),n=(s().onService,e.goback),c=e.title,r=e.rightTitle,l=e.cb;return Object(a.jsx)("header",{className:"header-wrap",children:Object(a.jsxs)("ul",{className:"container",children:[Object(a.jsx)("li",{className:"goback",onClick:function(){"function"===typeof n?n():t.replace(n)}}),Object(a.jsx)("li",{className:"title",children:c}),Object(a.jsx)("li",{className:"title small-title",onClick:function(){l&&l()},children:r})]})})}},234:function(e,t,n){},258:function(e,t,n){"use strict";n.r(t);var a=n(6),c=(n(41),n(20)),i=n.n(c),r=n(174),s=n(0),l=n(178),o=n(5),u=n(197),j=n.n(u),d=n(205),m=n.n(d),p=n(11),f=n(186),b=function(e){var t={"Content-Type":"application/x-www-form-urlencoded;charset=utf-8",taskId:e.taskId,cancelReason:e.cancelReason,remark:e.remark};return Object(p.b)("/api/v1/app/timing/cancel-timing-task/ack",Object(f.stringify)(e),t)};n(234),t.default=function(){var e=Object(o.g)().goBack,t=Object(s.useState)("\u6536\u6b3e\u8d26\u53f7\u5f02\u5e38"),n=Object(r.a)(t,2),c=n[0],u=n[1],d=Object(s.useState)(null),f=Object(r.a)(d,2),g=f[0],O=f[1],h=Object(s.useState)(null),v=Object(r.a)(h,2),x=v[0],k=v[1],y=Object(s.useState)(null),N=Object(r.a)(y,2),S=N[0],w=N[1],I=Object(s.useState)(null),C=Object(r.a)(I,2),A=C[0],R=C[1],E=Object(s.useState)(""),T=Object(r.a)(E,2),U=T[0],B=T[1],D=function(e,t,n){if(e.target.files){var a=e.target.files[0];if(a){var c={};m.a.getData(a,(function(){c=m.a.getAllTags(a)}));var r=new FormData;j()(a,{quality:.1}).then((function(e){n(e.base64),r.append("file",e.file,a.name),i.a.loading("\u4e0a\u4f20\u4e2d...",0),function(e,t){return Object(p.d)("/api/v1/app/timing/cancel-timing-task/upload-img",e,t)}(r,{taskId:g.taskOrderId,appPackageNameEncoded:c.UserComment,imgCreateTime:c.Artist,imgIndex:t}).then((function(e){i.a.success("\u4e0a\u4f20\u6210\u529f")})).catch((function(e){i.a.fail(e.response&&e.response.data&&e.response.data.message||"\u63d0\u4ea4\u51fa\u9519 ")}))}))}}},F=function(){var e;(e={},Object(p.a)("/api/v1/app/timing/my-task-detail",e)).then((function(e){O(e)}))};return Object(s.useEffect)((function(){F()}),[]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(l.a,{goback:e,title:"\u53d6\u6d88\u4ed8\u6b3e"}),Object(a.jsxs)("p",{className:"select-wrap",children:[Object(a.jsx)("span",{children:"\u53d6\u6d88\u539f\u56e0*"}),Object(a.jsxs)("select",{className:"select",onChange:function(e){return u(e.target.value)},children:[Object(a.jsx)("option",{value:"\u6536\u6b3e\u8d26\u53f7\u5f02\u5e38",children:"\u6536\u6b3e\u8d26\u53f7\u5f02\u5e38"}),Object(a.jsx)("option",{value:"\u81ea\u8eab\u8d44\u91d1\u4e0d\u8db3",children:"\u81ea\u8eab\u8d44\u91d1\u4e0d\u8db3"}),Object(a.jsx)("option",{value:"\u5176\u4ed6",children:"\u5176\u4ed6"})]})]}),Object(a.jsxs)("p",{className:"select-wrap",children:[Object(a.jsx)("span",{children:"\u8bf4\u660e*"}),Object(a.jsx)("textarea",{rows:4,maxLength:30,className:"select",onChange:function(e){return B(e.target.value)}})]}),Object(a.jsxs)("div",{className:"timer-update",children:[Object(a.jsxs)("p",{className:"vlidate",children:[Object(a.jsx)("span",{children:"*"}),"\u4e0a\u4f20\u51ed\u8bc1"]}),Object(a.jsxs)("p",{className:"update-wrap",children:[Object(a.jsxs)("span",{className:"update-img",children:[x&&Object(a.jsx)("img",{className:"task-img",src:x}),Object(a.jsx)("input",{type:"file",accept:"image/png, image/jpeg, image/gif, image/jpg",multiple:!1,onChange:function(e){return D(e,1,k)}})]}),Object(a.jsxs)("span",{className:"update-img",children:[S&&Object(a.jsx)("img",{className:"task-img",src:S}),Object(a.jsx)("input",{type:"file",accept:"image/png, image/jpeg, image/gif, image/jpg",multiple:!1,onChange:function(e){return D(e,2,w)}})]}),Object(a.jsxs)("span",{className:"update-img",children:[A&&Object(a.jsx)("img",{className:"task-img",src:A}),Object(a.jsx)("input",{type:"file",accept:"image/png, image/jpeg, image/gif, image/jpg",multiple:!1,onChange:function(e){return D(e,3,R)}})]})]})]}),Object(a.jsx)("p",{className:"submit-btn",onClick:function(){if(U){var t=encodeURI(c),n=encodeURI(U);if("\u6536\u6b3e\u8d26\u53f7\u5f02\u5e38"===c)return x||S||A?(i.a.loading("\u63d0\u4ea4\u4e2d...",0),void b({taskId:g.taskOrderId,cancelReason:t,remark:n}).then((function(t){i.a.success("\u63d0\u4ea4\u6210\u529f"),e()}))):void i.a.info("\u9700\u8981\u4e0a\u4f20\u51ed\u8bc1");i.a.loading("\u63d0\u4ea4\u4e2d...",0),b({taskId:g.taskOrderId,cancelReason:t,remark:n}).then((function(t){i.a.success("\u63d0\u4ea4\u6210\u529f"),e()}))}else i.a.info("\u9700\u8981\u586b\u5199\u5907\u6ce8")},children:"\u63d0\u4ea4"})]})}}}]);