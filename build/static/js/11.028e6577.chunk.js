(this["webpackJsonpadvisory-h5"]=this["webpackJsonpadvisory-h5"]||[]).push([[11],{177:function(e,t,n){},178:function(e,t,n){"use strict";var c=n(6),r=n(0),a=n(5),s=n(174),i=function(){var e=Object(r.useState)("http://ayx.ltd/kefu/5fe0753addc8c"),t=Object(s.a)(e,1)[0];return{onService:function(){var e=document.createElement("a");e.setAttribute("href",t),e.setAttribute("target","_blank"),e.setAttribute("id","online"),document.getElementById("online")||document.body.appendChild(e),e.click()},onlineService:t}};n(177),t.a=function(e){var t=Object(a.g)(),n=(i().onService,e.goback),r=e.title,s=e.rightTitle,o=e.cb;return Object(c.jsx)("header",{className:"header-wrap",children:Object(c.jsxs)("ul",{className:"container",children:[Object(c.jsx)("li",{className:"goback",onClick:function(){"function"===typeof n?n():t.replace(n)}}),Object(c.jsx)("li",{className:"title",children:r}),Object(c.jsx)("li",{className:"title small-title",onClick:function(){o&&o()},children:s})]})})}},179:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a}));var c=function(e){return e?e.replace(/\s/g,"").replace(/(\d{4})\d+(\d{4})$/,"**** **** **** $2"):""},r=function(e){return e?e.toFixed(2):0},a=function(e){if(!e)return"";var t=(e+"").split(".")[0];return 1==t.length?"\u4e2a":2==t.length?"\u5341":3==t.length?"\u767e":4==t.length?"\u5343":5==t.length?"\u4e07":e.toFixed(2)}},180:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return i})),n.d(t,"f",(function(){return o})),n.d(t,"a",(function(){return l}));var c=n(188),r=function(e){if(e)return Object(c.a)(e).format("MM-DD HH:mm:ss")},a=function(e){var t=Object(c.a)().valueOf(),n=Object(c.a)(e).valueOf()-t,r=Object(c.a)(n).minute(),a=Object(c.a)(n).second();return"".concat(r,"\u5206").concat(a,"\u79d2")},s=function(e){var t=Object(c.a)(),n=Object(c.a)(e).diff(t,"seconds");return n>0?n:0},i=function(e){return Object(c.a)(1e3*e).format("mm\u5206ss\u79d2")},o=function(e){var t=Object(c.a)(e).valueOf();return Object(c.a)().add(3,"m").valueOf()>t},l=function(e){var t=Object(c.a)(e),n=Object(c.a)().add(3,"m"),r=t.diff(n,"seconds");return r>0?r:0}},184:function(e,t,n){"use strict";var c=n(199),r=n(37),a=n(174),s=(n(181),n(182)),i=n.n(s),o=n(0),l=[],d=new i.a.DataSource({rowHasChanged:function(e,t){return e!==t}});t.a=function(e){var t=Object(o.useState)({indicator:!1,refreshing:!0,page:1,size:100,isLastPage:!1,dataSource:d}),n=Object(a.a)(t,2),s=n[0],i=n[1],u=e.queryPages,j=e.params,O=function(){setTimeout((function(){u(Object(r.a)({page:1,size:s.size,rows:s.size},j)).then((function(e){var t=e.last,n=e.content,c=e.number;l=n,i(Object(r.a)(Object(r.a)({},s),{},{refreshing:!1,indicator:!!t,isLastPage:t,dataSource:s.dataSource.cloneWithRows(l),page:c+1}))})).catch((function(e){i(Object(r.a)(Object(r.a)({},s),{},{refreshing:!1,isLastPage:!1,indicator:!1}))}))}),500)},b=function(){u(Object(r.a)({page:s.page+1,size:s.size,rows:s.size},j)).then((function(e){var t=e.last,n=e.content;l=[].concat(Object(c.a)(l),Object(c.a)(n)),i(Object(r.a)(Object(r.a)({},s),{},{indicator:!1,isLastPage:t,dataSource:s.dataSource.cloneWithRows(l),page:s.page+1}))})).catch((function(e){i(Object(r.a)(Object(r.a)({},s),{},{indicator:!1,isLastPage:!1,page:s.page+1}))}))};return Object(o.useEffect)((function(){s.refreshing&&O()}),[s.refreshing]),Object(o.useEffect)((function(){s.isLastPage||s.indicator&&b()}),[s.indicator]),{setIndicator:function(){return i(Object(r.a)(Object(r.a)({},s),{},{indicator:!0}))},setRefresing:function(){return i(Object(r.a)(Object(r.a)({},s),{},{refreshing:!0}))},refreshHandle:O,indicatorHandle:b,indicator:s.indicator,refreshing:s.refreshing,isLastPage:s.isLastPage,dataSource:s.dataSource}}},232:function(e,t,n){},257:function(e,t,n){"use strict";n.r(t);n(181);var c=n(182),r=n.n(c),a=(n(194),n(195)),s=n.n(a),i=n(6),o=n(174),l=n(0),d=n(178),u=n(5),j=n(11),O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(j.a)("/api/v1/app/sale/query-history-sale-item",e)},b=n(19),f=n(184),h=(n(232),n(180)),p=n(179);t.default=Object(b.b)("commonState")(Object(b.c)((function(e){var t=Object(l.useRef)(null),n=Object(l.useState)(5),c=Object(o.a)(n,2),a=c[0],j=c[1],b=Object(f.a)({queryPages:O}),g=b.setIndicator,m=b.setRefresing,S=b.indicator,x=b.refreshing,y=b.dataSource,v=Object(u.g)().goBack,N=e.commonState;Object(l.useEffect)((function(){var e=Number(document.documentElement.style.fontSize.slice(0,2)),n=N.clientHeight,c=ReactDOM.findDOMNode(t.current).offsetTop;j((n-c)/e)}),[]);return Object(i.jsxs)("div",{className:"consignment-record-wrap",children:[Object(i.jsx)(d.a,{goback:v,title:"\u4ee3\u552e\u8bb0\u5f55"}),Object(i.jsx)(r.a,{className:"consignments",ref:t,style:{height:"".concat(a,"rem")},dataSource:y,renderFooter:function(){return Object(i.jsx)("div",{style:{textAlign:"center"},children:S?"\u6ca1\u6709\u66f4\u591a\u6570\u636e":"\u6b63\u5728\u52a0\u8f7d\u4e2d....."})},renderRow:function(e,t,n){return Object(i.jsxs)("li",{className:"item",children:[Object(i.jsxs)("div",{className:"item-info",children:[Object(i.jsxs)("div",{className:"item-top",children:[Object(i.jsx)("span",{className:"order-icon"}),Object(i.jsxs)("p",{className:"order-i",children:[Object(i.jsxs)("span",{className:"special",children:["\xa5",Object(p.b)(e.payAmount)]}),Object(i.jsxs)("span",{children:["\u8d5a:",Object(i.jsx)("i",{className:"info-icon"}),"\xa5",Object(p.b)(e.bonus)]})]})]}),Object(i.jsxs)("span",{className:"success",children:["SUCCESS"!==e.orderStatus||e.copyNewOrder?null:Object(i.jsx)("span",{style:{color:"#45db5e"},children:"\u6210\u529f"}),"SUCCESS"===e.orderStatus&&e.copyNewOrder?Object(i.jsx)("span",{style:{color:"#45db5e"},children:"\u590d\u5236\u8865\u5355\u6210\u529f"}):null,"CHASE_SUCCESS"===e.orderStatus?Object(i.jsx)("span",{style:{color:"red"},children:"\u5df2\u8ffd\u56de"}):null,"NOT_RECEIVE_MONEY"!==e.orderStatus||e.copyNewOrder?null:Object(i.jsx)("span",{style:{color:"red"},children:"\u5931\u8d25"}),"NOT_RECEIVE_MONEY"===e.orderStatus&&e.copyNewOrder?Object(i.jsx)("span",{style:{color:"red"},children:"\u590d\u5236\u8865\u5355\u5931\u8d25"}):null,"WAIT_USER_ACK"===e.orderStatus&&e.resetOrder?Object(i.jsx)("span",{style:{color:"red"},children:"\u91cd\u7f6e\u786e\u8ba4"}):null,"WAIT_USER_ACK"===e.orderStatus&&e.dropOrder?Object(i.jsx)("span",{style:{color:"red"},children:"\u6389\u5355.\u5f85\u786e\u8ba4"}):null,"WAIT_USER_ACK"===e.orderStatus&&e.copyNewOrder?Object(i.jsx)("span",{style:{color:"red"},children:"\u590d\u5236\u8865\u5355.\u5f85\u786e\u8ba4"}):null,"WAIT_USER_ACK"!==e.orderStatus||e.resetOrder||e.dropOrder||e.copyNewOrder?null:Object(i.jsx)("span",{style:{color:"red"},children:"\u7b49\u5f85\u4f1a\u5458\u786e\u8ba4"}),"SUBMIT_TIMEOUT"===e.orderStatus?Object(i.jsx)("span",{style:{color:"red"},children:"\u786e\u8ba4\u8d85\u65f6"}):null,"WAIT_PLATFORM_CHECK_FOR_NOT_RECEIVE"===e.orderStatus?Object(i.jsx)("span",{style:{color:"red"},children:"\u5f85\u5ba1\u6838\u672a\u5230\u6b3e"}):null]})]}),Object(i.jsxs)("p",{className:"item-bank",children:[Object(i.jsxs)("span",{children:["\u94f6\u884c\u5361\u53f7:",e.bankCardNo]}),Object(i.jsxs)("span",{children:["\u59d3\u540d:",e.payerName]})]}),Object(i.jsxs)("p",{className:"item-order",children:[Object(i.jsxs)("span",{children:["\u8ba2\u5355\u7f16\u53f7:",e.orderId]}),Object(i.jsx)("span",{style:{flex:"1 1 30%",textAlign:"end"},children:Object(h.c)(e.payTime)})]})]},n)},useBodyScroll:!1,pullToRefresh:Object(i.jsx)(s.a,{refreshing:x,onRefresh:m}),onEndReached:g,pageSize:20})]})})))}}]);