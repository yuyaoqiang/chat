{"code":"(this[\"webpackJsonpadvisory-h5\"]=this[\"webpackJsonpadvisory-h5\"]||[]).push([[21],{179:function(e,t,c){\"use strict\";c.d(t,\"a\",(function(){return n})),c.d(t,\"b\",(function(){return a})),c.d(t,\"c\",(function(){return r}));var n=function(e){return e?e.replace(/\\s/g,\"\").replace(/(\\d{4})\\d+(\\d{4})$/,\"**** **** **** $2\"):\"\"},a=function(e){return e?e.toFixed(2):0},r=function(e){if(!e)return\"\";var t=(e+\"\").split(\".\")[0];return 1==t.length?\"\\u4e2a\":2==t.length?\"\\u5341\":3==t.length?\"\\u767e\":4==t.length?\"\\u5343\":5==t.length?\"\\u4e07\":e.toFixed(2)}},180:function(e,t,c){\"use strict\";c.d(t,\"c\",(function(){return a})),c.d(t,\"b\",(function(){return r})),c.d(t,\"e\",(function(){return s})),c.d(t,\"d\",(function(){return i})),c.d(t,\"f\",(function(){return o})),c.d(t,\"a\",(function(){return O}));var n=c(188),a=function(e){if(e)return Object(n.a)(e).format(\"MM-DD HH:mm:ss\")},r=function(e){var t=Object(n.a)().valueOf(),c=Object(n.a)(e).valueOf()-t,a=Object(n.a)(c).minute(),r=Object(n.a)(c).second();return\"\".concat(a,\"\\u5206\").concat(r,\"\\u79d2\")},s=function(e){var t=Object(n.a)(),c=Object(n.a)(e).diff(t,\"seconds\");return c>0?c:0},i=function(e){return Object(n.a)(1e3*e).format(\"mm\\u5206ss\\u79d2\")},o=function(e){var t=Object(n.a)(e).valueOf();return Object(n.a)().add(3,\"m\").valueOf()>t},O=function(e){var t=Object(n.a)(e),c=Object(n.a)().add(3,\"m\"),a=t.diff(c,\"seconds\");return a>0?a:0}},184:function(e,t,c){\"use strict\";var n=c(199),a=c(37),r=c(174),s=(c(181),c(182)),i=c.n(s),o=c(0),O=[],u=new i.a.DataSource({rowHasChanged:function(e,t){return e!==t}});t.a=function(e){var t=Object(o.useState)({indicator:!1,refreshing:!0,page:1,size:100,isLastPage:!1,dataSource:u}),c=Object(r.a)(t,2),s=c[0],i=c[1],d=e.queryPages,N=e.params,j=function(){setTimeout((function(){d(Object(a.a)({page:1,size:s.size,rows:s.size},N)).then((function(e){var t=e.last,c=e.content,n=e.number;O=c,i(Object(a.a)(Object(a.a)({},s),{},{refreshing:!1,indicator:!!t,isLastPage:t,dataSource:s.dataSource.cloneWithRows(O),page:n+1}))})).catch((function(e){i(Object(a.a)(Object(a.a)({},s),{},{refreshing:!1,isLastPage:!1,indicator:!1}))}))}),500)},S=function(){d(Object(a.a)({page:s.page+1,size:s.size,rows:s.size},N)).then((function(e){var t=e.last,c=e.content;O=[].concat(Object(n.a)(O),Object(n.a)(c)),i(Object(a.a)(Object(a.a)({},s),{},{indicator:!1,isLastPage:t,dataSource:s.dataSource.cloneWithRows(O),page:s.page+1}))})).catch((function(e){i(Object(a.a)(Object(a.a)({},s),{},{indicator:!1,isLastPage:!1,page:s.page+1}))}))};return Object(o.useEffect)((function(){s.refreshing&&j()}),[s.refreshing]),Object(o.useEffect)((function(){s.isLastPage||s.indicator&&S()}),[s.indicator]),{setIndicator:function(){return i(Object(a.a)(Object(a.a)({},s),{},{indicator:!0}))},setRefresing:function(){return i(Object(a.a)(Object(a.a)({},s),{},{refreshing:!0}))},refreshHandle:j,indicatorHandle:S,indicator:s.indicator,refreshing:s.refreshing,isLastPage:s.isLastPage,dataSource:s.dataSource}}},244:function(e,t,c){},261:function(e,t,c){\"use strict\";c.r(t);var n=c(6),a=(c(181),c(182)),r=c.n(a),s=(c(194),c(195)),i=c.n(s),o=c(174),O=c(0),u=c(5),d=c(11),N=function(e){return Object(d.c)(\"/api/v1/app/mine/query-trans-log-by-trans-reason\",e,{\"Content-Type\":\"application/x-www-form-urlencoded;charset=utf-8\"})},j=c(180),S=c(19),_=c(184),l=c(179),b=(c(244),[{code:\"TRANSFER_OUT\",text:\"\\u8f6c\\u51fa\"},{code:\"TRANSFER_IN\",text:\"\\u8f6c\\u5165\"},{code:\"DEPOSIT_COST\",text:\"\\u4ee3\\u6536\\u6263\\u6b3e\"},{code:\"DEPOSIT_REFUND\",text:\"\\u4ee3\\u6536\\u9000\\u6b3e\"},{code:\"DEPOSIT_BONUS\",text:\"\\u4ee3\\u6536\\u6536\\u76ca\"},{code:\"DEPOSIT_RECALL\",text:\"\\u4ee3\\u9500\\u8ffd\\u56de\"},{code:\"MANUAL_ADJUST\",text:\"\\u989d\\u5ea6\\u4fee\\u6b63\"},{code:\"TIMING_TASK_REVOKE\",text:\"\\u9650\\u65f6\\u4efb\\u52a1\\u51b2\\u6b63\"},{code:\"TIMING_TASK_INCOME\",text:\"\\u9650\\u65f6\\u4efb\\u52a1\\u5956\\u52b1\"},{code:\"TIMING_TASK_BONUS\",text:\"\\u9650\\u65f6\\u4efb\\u52a1\\u6536\\u76ca\"},{code:\"MERCHANT_DEPOSIT_FEE\",text:\"\\u5546\\u6237\\u4ee3\\u6536\\u8d39\\u7528\"},{code:\"MERCHANT_DEPOSIT_ADD\",text:\"\\u5546\\u6237\\u4ee3\\u6536\\u8d39\\u6210\\u529f\\uff0c\\u989d\\u5ea6\\u589e\\u52a0\"},{code:\"MERCHANT_TIMING_TASK_FEE\",text:\"\\u5546\\u6237\\u9650\\u65f6\\u4efb\\u52a1\\u8d39\\u7528\"},{code:\"MERCHANT_TIMING_TASK_MINUS\",text:\"\\u5546\\u6237\\u9650\\u65f6\\u4efb\\u52a1\\u6210\\u529f\\uff0c\\u989d\\u5ea6\\u51cf\\u5c11\"},{code:\"MERCHANT_TIMING_TASK_RETURN\",text:\"\\u5546\\u6237\\u9650\\u65f6\\u4efb\\u52a1\\u9000\\u56de\\uff0c\\u989d\\u5ea6\\u8865\\u56de\"},{code:\"DEPOSIT_BONUS_TOP\",text:\"\\u4ee3\\u6536\\u4ee3\\u7406\\u6536\\u76ca\"},{code:\"DEPOSIT_BONUS_SECOND\",text:\"\\u4ee3\\u6536\\u4ee3\\u7406\\u6536\\u76ca\"},{code:\"DEPOSIT_BONUS_RECOMMEND1\",text:\"\\u4ee3\\u6536\\u6536\\u76ca\\u63a8\\u8350\\u4eba1\"},{code:\"DEPOSIT_BONUS_RECOMMEND2\",text:\"\\u4ee3\\u6536\\u6536\\u76ca\\u63a8\\u8350\\u4eba2\"},{code:\"DEPOSIT_BONUS_RECOMMEND3\",text:\"\\u4ee3\\u6536\\u6536\\u76ca\\u63a8\\u8350\\u4eba3\"},{code:\"TIMING_TASK_BONUS_TOP\",text:\"\\u9650\\u65f6\\u4efb\\u52a1\\u4ee3\\u7406\\u6536\\u76ca\"},{code:\"TIMING_TASK_BONUS_SECOND\",text:\"\\u9650\\u65f6\\u4efb\\u52a1\\u4ee3\\u7406\\u6536\\u76ca\"},{code:\"TIMING_TASK_BONUS_RECOMMEND1\",text:\"\\u9650\\u65f6\\u4efb\\u52a1\\u6536\\u76ca\\u63a8\\u8350\\u4eba1\"},{code:\"TIMING_TASK_BONUS_RECOMMEND2\",text:\"\\u9650\\u65f6\\u4efb\\u52a1\\u6536\\u76ca\\u63a8\\u8350\\u4eba2\"},{code:\"TIMING_TASK_BONUS_RECOMMEND3\",text:\"\\u9650\\u65f6\\u4efb\\u52a1\\u6536\\u76ca\\u63a8\\u8350\\u4eba3\"}]),T={TRANSFER_OUT:\"\\u8f6c\\u51fa\",TRANSFER_IN:\"\\u8f6c\\u5165\",DEPOSIT_COST:\"\\u4ee3\\u6536\\u6263\\u6b3e\",DEPOSIT_REFUND:\"\\u4ee3\\u6536\\u9000\\u6b3e\",DEPOSIT_BONUS:\"\\u4ee3\\u6536\\u6536\\u76ca\",DEPOSIT_RECALL:\"\\u4ee3\\u6536\\u8ffd\\u56de\",MANUAL_ADJUST:\"\\u989d\\u5ea6\\u4fee\\u6b63\",TIMING_TASK_REVOKE:\"\\u9650\\u65f6\\u4efb\\u52a1\\u51b2\\u6b63\",TIMING_TASK_INCOME:\"\\u9650\\u65f6\\u4efb\\u52a1\\u5956\\u52b1\",TIMING_TASK_BONUS:\"\\u9650\\u65f6\\u4efb\\u52a1\\u6536\\u76ca\",MERCHANT_DEPOSIT_FEE:\"\\u5546\\u6237\\u4ee3\\u6536\\u8d39\\u7528\",MERCHANT_DEPOSIT_ADD:\"\\u5546\\u6237\\u4ee3\\u6536\\u8d39\\u6210\\u529f\\uff0c\\u989d\\u5ea6\\u589e\\u52a0\",MERCHANT_TIMING_TASK_FEE:\"\\u5546\\u6237\\u9650\\u65f6\\u4efb\\u52a1\\u8d39\\u7528\",MERCHANT_TIMING_TASK_MINUS:\"\\u5546\\u6237\\u9650\\u65f6\\u4efb\\u52a1\\u6210\\u529f\\uff0c\\u989d\\u5ea6\\u51cf\\u5c11\",MERCHANT_TIMING_TASK_RETURN:\"\\u5546\\u6237\\u9650\\u65f6\\u4efb\\u52a1\\u9000\\u56de\\uff0c\\u989d\\u5ea6\\u8865\\u56de\",DEPOSIT_BONUS_TOP:\"\\u4ee3\\u6536\\u4ee3\\u7406\\u6536\\u76ca\",DEPOSIT_BONUS_SECOND:\"\\u4ee3\\u6536\\u4ee3\\u7406\\u6536\\u76ca\",DEPOSIT_BONUS_RECOMMEND1:\"\\u4ee3\\u6536\\u6536\\u76ca\\u63a8\\u8350\\u4eba1\",DEPOSIT_BONUS_RECOMMEND2:\"\\u4ee3\\u6536\\u6536\\u76ca\\u63a8\\u8350\\u4eba2\",DEPOSIT_BONUS_RECOMMEND3:\"\\u4ee3\\u6536\\u6536\\u76ca\\u63a8\\u8350\\u4eba3\",TIMING_TASK_BONUS_TOP:\"\\u9650\\u65f6\\u4efb\\u52a1\\u4ee3\\u7406\\u6536\\u76ca\",TIMING_TASK_BONUS_SECOND:\"\\u9650\\u65f6\\u4efb\\u52a1\\u4ee3\\u7406\\u6536\\u76ca\",TIMING_TASK_BONUS_RECOMMEND1:\"\\u9650\\u65f6\\u4efb\\u52a1\\u6536\\u76ca\\u63a8\\u8350\\u4eba1\",TIMING_TASK_BONUS_RECOMMEND2:\"\\u9650\\u65f6\\u4efb\\u52a1\\u6536\\u76ca\\u63a8\\u8350\\u4eba2\",TIMING_TASK_BONUS_RECOMMEND3:\"\\u9650\\u65f6\\u4efb\\u52a1\\u6536\\u76ca\\u63a8\\u8350\\u4eba3\"};t.default=Object(S.b)(\"commonState\")(Object(S.c)((function(e){var t=Object(u.g)().goBack,c=Object(O.useState)(!1),a=Object(o.a)(c,2),s=a[0],S=a[1],f=Object(O.useState)({}),E=Object(o.a)(f,2),I=E[0],M=E[1],h=Object(O.useState)(\"\"),m=Object(o.a)(h,2),x=m[0],p=m[1],D=e.commonState,R=Object(O.useRef)(null),A=Object(O.useState)(5),g=Object(o.a)(A,2),C=g[0],P=g[1],U=Object(_.a)({queryPages:N,params:{transReasons:x}}),B=U.setIndicator,v=U.setRefresing,K=U.indicator,y=U.refreshing,G=U.dataSource;Object(O.useEffect)((function(){var e=Number(document.documentElement.style.fontSize.slice(0,2)),t=D.clientHeight,c=ReactDOM.findDOMNode(R.current).offsetTop;P((t-c)/e)}),[]),Object(O.useEffect)((function(){var e;(e={},Object(d.c)(\"/api/v1/app/mine/query-coin-statistics\",e)).then((function(e){M(e)}))}),[]);return Object(n.jsxs)(n.Fragment,{children:[s&&Object(n.jsx)(\"ul\",{className:\"selects\",children:b.map((function(e){return Object(n.jsx)(\"li\",{onClick:function(){p(e.code),S(!1),v()},children:e.text},e.code)}))}),Object(n.jsx)(\"header\",{className:\"bills-header-wrap\",children:Object(n.jsxs)(\"ul\",{className:\"container\",children:[Object(n.jsx)(\"li\",{className:\"goback\",onClick:t}),Object(n.jsx)(\"li\",{className:\"title\",children:\"\\u8d26\\u5355\"}),Object(n.jsx)(\"li\",{className:\"title small-title\",onClick:function(){return S(!s)}})]})}),Object(n.jsxs)(\"div\",{className:\"bills-detail\",children:[Object(n.jsxs)(\"p\",{children:[\"\\u8fd17\\u65e5\\u4e2a\\u4eba\\u4ee3\\u552e\\u6536\\u76ca \\xa5\",Object(l.b)(I.depositAmount)]}),Object(n.jsxs)(\"p\",{children:[\"\\u8fd17\\u65e5\\u6210\\u529f\\u4ee3\\u552e\\u603b\\u989d \\xa5\",Object(l.b)(I.withdrawAmount)]})]}),Object(n.jsx)(r.a,{className:\"bills-list\",ref:R,style:{height:\"\".concat(C,\"rem\")},dataSource:G,renderFooter:function(){return Object(n.jsx)(\"div\",{style:{textAlign:\"center\"},children:K?\"\\u6ca1\\u6709\\u66f4\\u591a\\u6570\\u636e\":\"\\u6b63\\u5728\\u52a0\\u8f7d\\u4e2d.....\"})},renderRow:function(e,t,c){return Object(n.jsxs)(\"li\",{className:\"bills-list-item\",children:[Object(n.jsxs)(\"p\",{children:[Object(n.jsx)(\"span\",{className:\"type-name\",children:T[e.transReason]}),\"CREDIT\"===e.accountingAction?Object(n.jsxs)(\"span\",{className:\"type-money add-money\",children:[\"+\",Object(l.b)(e.amount)]}):Object(n.jsxs)(\"span\",{className:\"type-money less-money\",children:[\"-\",Object(l.b)(e.amount)]})]}),Object(n.jsx)(\"p\",{children:Object(n.jsxs)(\"span\",{className:\"type-time\",children:[\"\\u8ba2\\u5355\\u7f16\\u53f7:\",e.orderNo]})}),Object(n.jsxs)(\"p\",{children:[Object(n.jsxs)(\"span\",{className:\"type-order\",children:[\"\\u63a5\\u5355\\u4f1a\\u5458\\u8d26\\u53f7:\",e.acceptOrderLoginName]}),Object(n.jsxs)(\"span\",{className:\"type-order\",children:[\"\\u63a5\\u5355\\u989d\\u5ea6:\",e.orderAmount]})]}),Object(n.jsx)(\"p\",{children:Object(n.jsxs)(\"span\",{className:\"type-time\",children:[\"\\u8ba2\\u5355\\u65e5\\u671f:\",Object(j.c)(e.createdDate)]})})]},c)},useBodyScroll:!1,pullToRefresh:Object(n.jsx)(i.a,{refreshing:y,onRefresh:v}),onEndReached:B,pageSize:20})]})})))}}]);","name":"static/js/21.4a29aa8d.chunk.js","input":"(this[\"webpackJsonpadvisory-h5\"] = this[\"webpackJsonpadvisory-h5\"] || []).push([[21],{\n\n/***/ 179:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return bankNumberHide; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return toFixed; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return zhNumber; });\nvar bankNumberHide=function bankNumberHide(data){if(!data)return\"\";return data.replace(/\\s/g,'').replace(/(\\d{4})\\d+(\\d{4})$/,\"**** **** **** $2\");};var toFixed=function toFixed(num){if(!num)return 0.00;return num.toFixed(2);};var zhNumber=function zhNumber(num){if(!num)return\"\";var number=num+\"\";var reslut=number.split(\".\")[0];if(reslut.length==1){return\"个\";}if(reslut.length==2){return\"十\";}if(reslut.length==3){return\"百\";}if(reslut.length==4){return\"千\";}if(reslut.length==5){return\"万\";}return num.toFixed(2);};\n\n/***/ }),\n\n/***/ 180:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export yyyymmddhhmmss */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return mm_dd_hh_mm_ss2; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return hh_mm_ss_zh; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return seconds; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return mm_ss_zh; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"f\", function() { return timeDisparity; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return downTime; });\n/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(188);\nvar yyyymmddhhmmss=function yyyymmddhhmmss(date){return Object(dayjs__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(date).format(\"YYYY-MM-DD HH:mm:ss\");};var mm_dd_hh_mm_ss2=function mm_dd_hh_mm_ss2(date){if(date){return Object(dayjs__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(date).format(\"MM-DD HH:mm:ss\");}};var hh_mm_ss_zh=function hh_mm_ss_zh(date){var start=Object(dayjs__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])().valueOf();var end=Object(dayjs__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(date).valueOf();var result=end-start;var minute=Object(dayjs__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(result).minute();var second=Object(dayjs__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(result).second();return\"\".concat(minute,\"\\u5206\").concat(second,\"\\u79D2\");};var seconds=function seconds(date){var start=Object(dayjs__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])();var end=Object(dayjs__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(date);var diff=end.diff(start,\"seconds\");return diff>0?diff:0;};var mm_ss_zh=function mm_ss_zh(seconds){return Object(dayjs__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(seconds*1000).format(\"mm分ss秒\");};var timeDisparity=function timeDisparity(date){var end=Object(dayjs__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(date).valueOf();var start=Object(dayjs__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])().add(3,'m').valueOf();return start>end?true:false;};var downTime=function downTime(date){var end=Object(dayjs__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(date);var start=Object(dayjs__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])().add(3,'m');var diff=end.diff(start,\"seconds\");return diff>0?diff:0;};\n\n/***/ }),\n\n/***/ 184:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var _Users_yuanfang_code_advisory_h5_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(199);\n/* harmony import */ var _Users_yuanfang_code_advisory_h5_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(37);\n/* harmony import */ var _Users_yuanfang_code_advisory_h5_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(174);\n/* harmony import */ var antd_mobile_lib_list_view_style_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(181);\n/* harmony import */ var antd_mobile_lib_list_view_style_css__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(antd_mobile_lib_list_view_style_css__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var antd_mobile_lib_list_view__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(182);\n/* harmony import */ var antd_mobile_lib_list_view__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(antd_mobile_lib_list_view__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(0);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);\nvar rData=[];var listDataSource=new antd_mobile_lib_list_view__WEBPACK_IMPORTED_MODULE_4___default.a.DataSource({rowHasChanged:function rowHasChanged(row1,row2){return row1!==row2;}});var usePaginationHooks=function usePaginationHooks(props){var _useState=Object(react__WEBPACK_IMPORTED_MODULE_5__[\"useState\"])({indicator:false,refreshing:true,page:1,size:100,isLastPage:false,dataSource:listDataSource}),_useState2=Object(_Users_yuanfang_code_advisory_h5_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(_useState,2),config=_useState2[0],setConfig=_useState2[1];var queryPages=props.queryPages,params=props.params;/**\n  * 下拉刷新\n  */var refreshHandle=function refreshHandle(){setTimeout(function(){queryPages(Object(_Users_yuanfang_code_advisory_h5_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])({page:1,size:config.size,rows:config.size},params)).then(function(res){var last=res.last,content=res.content,number=res.number;rData=content;setConfig(Object(_Users_yuanfang_code_advisory_h5_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(Object(_Users_yuanfang_code_advisory_h5_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])({},config),{},{refreshing:false,indicator:last?true:false,isLastPage:last,dataSource:config.dataSource.cloneWithRows(rData),page:number+1}));}).catch(function(err){setConfig(Object(_Users_yuanfang_code_advisory_h5_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(Object(_Users_yuanfang_code_advisory_h5_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])({},config),{},{refreshing:false,isLastPage:false,indicator:false}));});},500);};/**\n * 上拉更多\n */var indicatorHandle=function indicatorHandle(){queryPages(Object(_Users_yuanfang_code_advisory_h5_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])({page:config.page+1,size:config.size,rows:config.size},params)).then(function(res){var last=res.last,content=res.content;rData=[].concat(Object(_Users_yuanfang_code_advisory_h5_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(rData),Object(_Users_yuanfang_code_advisory_h5_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(content));setConfig(Object(_Users_yuanfang_code_advisory_h5_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(Object(_Users_yuanfang_code_advisory_h5_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])({},config),{},{indicator:false,isLastPage:last,dataSource:config.dataSource.cloneWithRows(rData),page:config.page+1}));}).catch(function(err){setConfig(Object(_Users_yuanfang_code_advisory_h5_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(Object(_Users_yuanfang_code_advisory_h5_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])({},config),{},{indicator:false,isLastPage:false,page:config.page+1}));});};Object(react__WEBPACK_IMPORTED_MODULE_5__[\"useEffect\"])(function(){if(!config.refreshing)return;refreshHandle();},[config.refreshing]);Object(react__WEBPACK_IMPORTED_MODULE_5__[\"useEffect\"])(function(){if(config.isLastPage)return;config.indicator&&indicatorHandle();},[config.indicator]);return{setIndicator:function setIndicator(){return setConfig(Object(_Users_yuanfang_code_advisory_h5_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(Object(_Users_yuanfang_code_advisory_h5_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])({},config),{},{indicator:true}));},setRefresing:function setRefresing(){return setConfig(Object(_Users_yuanfang_code_advisory_h5_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(Object(_Users_yuanfang_code_advisory_h5_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])({},config),{},{refreshing:true}));},refreshHandle:refreshHandle,indicatorHandle:indicatorHandle,indicator:config.indicator,refreshing:config.refreshing,isLastPage:config.isLastPage,dataSource:config.dataSource};};/* harmony default export */ __webpack_exports__[\"a\"] = (usePaginationHooks);\n\n/***/ }),\n\n/***/ 244:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 261:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(6);\n\n// EXTERNAL MODULE: ./node_modules/antd-mobile/lib/list-view/style/css.js\nvar css = __webpack_require__(181);\n\n// EXTERNAL MODULE: ./node_modules/antd-mobile/lib/list-view/index.js\nvar list_view = __webpack_require__(182);\nvar list_view_default = /*#__PURE__*/__webpack_require__.n(list_view);\n\n// EXTERNAL MODULE: ./node_modules/antd-mobile/lib/pull-to-refresh/style/css.js\nvar style_css = __webpack_require__(194);\n\n// EXTERNAL MODULE: ./node_modules/antd-mobile/lib/pull-to-refresh/index.js\nvar pull_to_refresh = __webpack_require__(195);\nvar pull_to_refresh_default = /*#__PURE__*/__webpack_require__.n(pull_to_refresh);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(174);\n\n// EXTERNAL MODULE: external \"React\"\nvar external_React_ = __webpack_require__(0);\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(5);\n\n// EXTERNAL MODULE: ./src/request/api.ts\nvar api = __webpack_require__(11);\n\n// CONCATENATED MODULE: ./src/pages/bills/request.ts\nvar request_queryPagesByParams=function queryPagesByParams(params){var headers={'Content-Type':'application/x-www-form-urlencoded;charset=utf-8'};return Object(api[\"c\" /* put */])('/api/v1/app/mine/query-trans-log-by-trans-reason',params,headers);};var request_queryPages=function queryPages(params){var headers={'Content-Type':'application/x-www-form-urlencoded;charset=utf-8'};return Object(api[\"c\" /* put */])('/api/v1/app/mine/query-trans-log',params,headers);};var request_statistics=function statistics(data){return Object(api[\"c\" /* put */])('/api/v1/app/mine/query-coin-statistics',data);};\n// EXTERNAL MODULE: ./src/utils/dataTime.ts\nvar dataTime = __webpack_require__(180);\n\n// EXTERNAL MODULE: ./node_modules/mobx-react/dist/mobxreact.esm.js + 11 modules\nvar mobxreact_esm = __webpack_require__(19);\n\n// EXTERNAL MODULE: ./src/hooks/usePaginationHooks.tsx\nvar usePaginationHooks = __webpack_require__(184);\n\n// EXTERNAL MODULE: ./src/utils/numberUtils.tsx\nvar numberUtils = __webpack_require__(179);\n\n// EXTERNAL MODULE: ./src/pages/bills/style.scss\nvar style = __webpack_require__(244);\n\n// CONCATENATED MODULE: ./src/pages/bills/index.tsx\nvar arr=[{code:'TRANSFER_OUT',text:\"转出\"},{code:'TRANSFER_IN',text:\"转入\"},{code:'DEPOSIT_COST',text:\"代收扣款\"},{code:'DEPOSIT_REFUND',text:\"代收退款\"},{code:'DEPOSIT_BONUS',text:\"代收收益\"},{code:'DEPOSIT_RECALL',text:\"代销追回\"},{code:'MANUAL_ADJUST',text:\"额度修正\"},{code:'TIMING_TASK_REVOKE',text:\"限时任务冲正\"},{code:'TIMING_TASK_INCOME',text:\"限时任务奖励\"},{code:'TIMING_TASK_BONUS',text:\"限时任务收益\"},{code:'MERCHANT_DEPOSIT_FEE',text:\"商户代收费用\"},{code:'MERCHANT_DEPOSIT_ADD',text:\"商户代收费成功，额度增加\"},{code:'MERCHANT_TIMING_TASK_FEE',text:\"商户限时任务费用\"},{code:'MERCHANT_TIMING_TASK_MINUS',text:\"商户限时任务成功，额度减少\"},{code:'MERCHANT_TIMING_TASK_RETURN',text:\"商户限时任务退回，额度补回\"},{code:'DEPOSIT_BONUS_TOP',text:'代收代理收益'},{code:'DEPOSIT_BONUS_SECOND',text:'代收代理收益'},{code:'DEPOSIT_BONUS_RECOMMEND1',text:'代收收益推荐人1'},{code:'DEPOSIT_BONUS_RECOMMEND2',text:'代收收益推荐人2'},{code:'DEPOSIT_BONUS_RECOMMEND3',text:'代收收益推荐人3'},{code:'TIMING_TASK_BONUS_TOP',text:'限时任务代理收益'},{code:'TIMING_TASK_BONUS_SECOND',text:'限时任务代理收益'},{code:'TIMING_TASK_BONUS_RECOMMEND1',text:'限时任务收益推荐人1'},{code:'TIMING_TASK_BONUS_RECOMMEND2',text:'限时任务收益推荐人2'},{code:'TIMING_TASK_BONUS_RECOMMEND3',text:'限时任务收益推荐人3'}];var Status={'TRANSFER_OUT':\"转出\",'TRANSFER_IN':\"转入\",'DEPOSIT_COST':\"代收扣款\",'DEPOSIT_REFUND':\"代收退款\",'DEPOSIT_BONUS':\"代收收益\",'DEPOSIT_RECALL':\"代收追回\",'MANUAL_ADJUST':\"额度修正\",'TIMING_TASK_REVOKE':\"限时任务冲正\",'TIMING_TASK_INCOME':\"限时任务奖励\",'TIMING_TASK_BONUS':\"限时任务收益\",'MERCHANT_DEPOSIT_FEE':\"商户代收费用\",'MERCHANT_DEPOSIT_ADD':\"商户代收费成功，额度增加\",'MERCHANT_TIMING_TASK_FEE':\"商户限时任务费用\",'MERCHANT_TIMING_TASK_MINUS':\"商户限时任务成功，额度减少\",'MERCHANT_TIMING_TASK_RETURN':\"商户限时任务退回，额度补回\",'DEPOSIT_BONUS_TOP':'代收代理收益','DEPOSIT_BONUS_SECOND':'代收代理收益','DEPOSIT_BONUS_RECOMMEND1':'代收收益推荐人1','DEPOSIT_BONUS_RECOMMEND2':'代收收益推荐人2','DEPOSIT_BONUS_RECOMMEND3':'代收收益推荐人3','TIMING_TASK_BONUS_TOP':'限时任务代理收益','TIMING_TASK_BONUS_SECOND':'限时任务代理收益','TIMING_TASK_BONUS_RECOMMEND1':'限时任务收益推荐人1','TIMING_TASK_BONUS_RECOMMEND2':'限时任务收益推荐人2','TIMING_TASK_BONUS_RECOMMEND3':'限时任务收益推荐人3'};var bills_Bills=function Bills(props){var _useHistory=Object(react_router[\"g\" /* useHistory */])(),goBack=_useHistory.goBack;var _useState=Object(external_React_[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),selector=_useState2[0],setSelector=_useState2[1];var _useState3=Object(external_React_[\"useState\"])({}),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),dataInfo=_useState4[0],setDataInfo=_useState4[1];var _useState5=Object(external_React_[\"useState\"])(''),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),type=_useState6[0],setType=_useState6[1];var commonState=props.commonState;var ref=Object(external_React_[\"useRef\"])(null);var _useState7=Object(external_React_[\"useState\"])(5),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),containerHeieght=_useState8[0],setContainerHeight=_useState8[1];var _usePaginationHooks=Object(usePaginationHooks[\"a\" /* default */])({queryPages:request_queryPagesByParams,params:{transReasons:type}}),setIndicator=_usePaginationHooks.setIndicator,setRefresing=_usePaginationHooks.setRefresing,indicator=_usePaginationHooks.indicator,refreshing=_usePaginationHooks.refreshing,dataSource=_usePaginationHooks.dataSource;Object(external_React_[\"useEffect\"])(function(){var htmlFont=Number(document.documentElement.style.fontSize.slice(0,2));var clientHeight=commonState.clientHeight;//@ts-ignore\nvar top=ReactDOM.findDOMNode(ref.current).offsetTop;setContainerHeight((clientHeight-top)/htmlFont);},[]);Object(external_React_[\"useEffect\"])(function(){request_statistics({}).then(function(data){setDataInfo(data);});},[]);var row=function row(rowData,sectionID,rowID){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"li\",{className:\"bills-list-item\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"type-name\",children:Status[rowData.transReason]}),rowData.accountingAction==='CREDIT'?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{className:\"type-money add-money\",children:[\"+\",Object(numberUtils[\"b\" /* toFixed */])(rowData.amount)]}):/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{className:\"type-money less-money\",children:[\"-\",Object(numberUtils[\"b\" /* toFixed */])(rowData.amount)]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{className:\"type-time\",children:[\"\\u8BA2\\u5355\\u7F16\\u53F7:\",rowData.orderNo]})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{className:\"type-order\",children:[\"\\u63A5\\u5355\\u4F1A\\u5458\\u8D26\\u53F7:\",rowData.acceptOrderLoginName]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{className:\"type-order\",children:[\"\\u63A5\\u5355\\u989D\\u5EA6:\",rowData.orderAmount]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{className:\"type-time\",children:[\"\\u8BA2\\u5355\\u65E5\\u671F:\",Object(dataTime[\"c\" /* mm_dd_hh_mm_ss2 */])(rowData.createdDate)]})})]},rowID);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[selector&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"ul\",{className:\"selects\",children:arr.map(function(item){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{onClick:function onClick(){setType(item.code);setSelector(false);setRefresing();},children:item.text},item.code);})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"header\",{className:\"bills-header-wrap\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"ul\",{className:\"container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{className:\"goback\",onClick:goBack}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{className:\"title\",children:\"\\u8D26\\u5355\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{className:\"title small-title\",onClick:function onClick(){return setSelector(!selector);}})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"bills-detail\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[\"\\u8FD17\\u65E5\\u4E2A\\u4EBA\\u4EE3\\u552E\\u6536\\u76CA \\xA5\",Object(numberUtils[\"b\" /* toFixed */])(dataInfo.depositAmount)]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[\"\\u8FD17\\u65E5\\u6210\\u529F\\u4EE3\\u552E\\u603B\\u989D \\xA5\",Object(numberUtils[\"b\" /* toFixed */])(dataInfo.withdrawAmount)]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(list_view_default.a,{className:\"bills-list\",ref:ref,style:{height:\"\".concat(containerHeieght,\"rem\")},dataSource:dataSource,renderFooter:function renderFooter(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{textAlign:'center'},children:!indicator?'正在加载中.....':'没有更多数据'});},renderRow:row,useBodyScroll:false//@ts-ignore\n,pullToRefresh:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(pull_to_refresh_default.a,{refreshing:refreshing,onRefresh:setRefresing}),onEndReached:setIndicator,pageSize:20})]});};/* harmony default export */ var bills = __webpack_exports__[\"default\"] = (Object(mobxreact_esm[\"b\" /* inject */])('commonState')(Object(mobxreact_esm[\"c\" /* observer */])(bills_Bills)));\n\n/***/ })\n\n}]);","inputSourceMap":null}