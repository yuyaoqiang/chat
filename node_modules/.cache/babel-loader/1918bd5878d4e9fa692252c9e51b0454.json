{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _defineProperty2 = require('babel-runtime/helpers/defineProperty');\n\nvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _classnames2 = require('classnames');\n\nvar _classnames3 = _interopRequireDefault(_classnames2);\n\nvar _react = require('react');\n\nvar React = _interopRequireWildcard(_react);\n\nvar _reactDom = require('react-dom');\n\nvar ReactDOM = _interopRequireWildcard(_reactDom);\n\nvar _rmcDialog = require('rmc-dialog');\n\nvar _rmcDialog2 = _interopRequireDefault(_rmcDialog);\n\nvar _rmcFeedback = require('rmc-feedback');\n\nvar _rmcFeedback2 = _interopRequireDefault(_rmcFeedback);\n\nvar _getDataAttr = require('../_util/getDataAttr');\n\nvar _getDataAttr2 = _interopRequireDefault(_getDataAttr);\n\nvar _badge = require('../badge');\n\nvar _badge2 = _interopRequireDefault(_badge);\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n\n    newObj['default'] = obj;\n    return newObj;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nvar NORMAL = 'NORMAL';\n/* tslint:disable:jsx-no-multiline-js */\n\nvar SHARE = 'SHARE'; // tslint:disable-next-line:no-empty\n\nfunction noop() {}\n\nvar queue = [];\n\nfunction createActionSheet(flag, config, callback) {\n  var props = (0, _extends3['default'])({\n    prefixCls: 'am-action-sheet',\n    cancelButtonText: '取消'\n  }, config);\n  var prefixCls = props.prefixCls,\n      className = props.className,\n      transitionName = props.transitionName,\n      maskTransitionName = props.maskTransitionName,\n      _props$maskClosable = props.maskClosable,\n      maskClosable = _props$maskClosable === undefined ? true : _props$maskClosable;\n  var div = document.createElement('div');\n  document.body.appendChild(div);\n  queue.push(close);\n\n  function close() {\n    if (div) {\n      ReactDOM.unmountComponentAtNode(div);\n\n      if (div.parentNode) {\n        div.parentNode.removeChild(div);\n      }\n\n      var index = queue.indexOf(close);\n\n      if (index !== -1) {\n        queue.splice(index, 1);\n      }\n    }\n  }\n\n  function cb(index) {\n    var rowIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    var res = callback(index, rowIndex);\n\n    if (res && res.then) {\n      res.then(function () {\n        close();\n      });\n    } else {\n      close();\n    }\n  }\n\n  var title = props.title,\n      message = props.message,\n      options = props.options,\n      destructiveButtonIndex = props.destructiveButtonIndex,\n      cancelButtonIndex = props.cancelButtonIndex,\n      cancelButtonText = props.cancelButtonText,\n      _props$badges = props.badges,\n      badges = _props$badges === undefined ? [] : _props$badges;\n  var titleMsg = [title ? React.createElement('h3', {\n    key: '0',\n    className: prefixCls + '-title'\n  }, title) : null, message ? React.createElement('div', {\n    key: '1',\n    className: prefixCls + '-message'\n  }, message) : null];\n  var children = null;\n  var mode = 'normal';\n\n  switch (flag) {\n    case NORMAL:\n      mode = 'normal';\n      var normalOptions = options;\n      var badgesMap = {};\n\n      if (badges && badges.length > 0) {\n        badges.forEach(function (element) {\n          if (element.index >= 0) {\n            badgesMap[element.index] = React.createElement(_badge2['default'], element);\n          }\n        });\n      }\n\n      children = React.createElement('div', (0, _getDataAttr2['default'])(props), titleMsg, React.createElement('div', {\n        className: prefixCls + '-button-list',\n        role: 'group'\n      }, normalOptions.map(function (item, index) {\n        var _classnames;\n\n        var itemProps = {\n          className: (0, _classnames3['default'])(prefixCls + '-button-list-item', (_classnames = {}, (0, _defineProperty3['default'])(_classnames, prefixCls + '-destructive-button', destructiveButtonIndex === index), (0, _defineProperty3['default'])(_classnames, prefixCls + '-cancel-button', cancelButtonIndex === index), _classnames)),\n          onClick: function onClick() {\n            return cb(index);\n          },\n          role: 'button'\n        };\n        var bContent = React.createElement('div', itemProps, item); // 仅在设置徽标的情况下修改dom结构\n\n        if (badgesMap[index]) {\n          bContent = React.createElement('div', (0, _extends3['default'])({}, itemProps, {\n            className: itemProps.className + ' ' + prefixCls + '-button-list-badge'\n          }), React.createElement('span', {\n            className: prefixCls + '-button-list-item-content'\n          }, item), badgesMap[index]);\n        }\n\n        var bItem = React.createElement(_rmcFeedback2['default'], {\n          key: index,\n          activeClassName: prefixCls + '-button-list-item-active'\n        }, bContent);\n\n        if (cancelButtonIndex === index || destructiveButtonIndex === index) {\n          bItem = React.createElement(_rmcFeedback2['default'], {\n            key: index,\n            activeClassName: prefixCls + '-button-list-item-active'\n          }, React.createElement('div', itemProps, item, cancelButtonIndex === index ? React.createElement('span', {\n            className: prefixCls + '-cancel-button-mask'\n          }) : null));\n        }\n\n        return bItem;\n      })));\n      break;\n\n    case SHARE:\n      mode = 'share';\n      var multipleLine = options.length && Array.isArray(options[0]) || false;\n\n      var createList = function createList(item, index) {\n        var rowIndex = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n        return React.createElement('div', {\n          className: prefixCls + '-share-list-item',\n          role: 'button',\n          key: index,\n          onClick: function onClick() {\n            return cb(index, rowIndex);\n          }\n        }, React.createElement('div', {\n          className: prefixCls + '-share-list-item-icon'\n        }, item.icon), React.createElement('div', {\n          className: prefixCls + '-share-list-item-title'\n        }, item.title));\n      };\n\n      children = React.createElement('div', (0, _getDataAttr2['default'])(props), titleMsg, React.createElement('div', {\n        className: prefixCls + '-share'\n      }, multipleLine ? options.map(function (item, index) {\n        return React.createElement('div', {\n          key: index,\n          className: prefixCls + '-share-list'\n        }, item.map(function (ii, ind) {\n          return createList(ii, ind, index);\n        }));\n      }) : React.createElement('div', {\n        className: prefixCls + '-share-list'\n      }, options.map(function (item, index) {\n        return createList(item, index);\n      })), React.createElement(_rmcFeedback2['default'], {\n        activeClassName: prefixCls + '-share-cancel-button-active'\n      }, React.createElement('div', {\n        className: prefixCls + '-share-cancel-button',\n        role: 'button',\n        onClick: function onClick() {\n          return cb(-1);\n        }\n      }, cancelButtonText))));\n      break;\n\n    default:\n      break;\n  }\n\n  var rootCls = (0, _classnames3['default'])(prefixCls + '-' + mode, className);\n  ReactDOM.render(React.createElement(_rmcDialog2['default'], {\n    visible: true,\n    title: '',\n    footer: '',\n    prefixCls: prefixCls,\n    className: rootCls,\n    transitionName: transitionName || 'am-slide-up',\n    maskTransitionName: maskTransitionName || 'am-fade',\n    onClose: function onClose() {\n      return cb(cancelButtonIndex || -1);\n    },\n    maskClosable: maskClosable,\n    wrapProps: props.wrapProps || {}\n  }, children), div);\n  return {\n    close: close\n  };\n}\n\nexports['default'] = {\n  showActionSheetWithOptions: function showActionSheetWithOptions(config) {\n    var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n    createActionSheet(NORMAL, config, callback);\n  },\n  showShareActionSheetWithOptions: function showShareActionSheetWithOptions(config) {\n    var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n    createActionSheet(SHARE, config, callback);\n  },\n  close: function close() {\n    queue.forEach(function (q) {\n      return q();\n    });\n  }\n};\nmodule.exports = exports['default'];","map":{"version":3,"sources":["/Users/yuanfang/Downloads/Telegram Desktop/封存/advisory-h5/node_modules/antd-mobile/lib/action-sheet/index.js"],"names":["Object","defineProperty","exports","value","_defineProperty2","require","_defineProperty3","_interopRequireDefault","_extends2","_extends3","_classnames2","_classnames3","_react","React","_interopRequireWildcard","_reactDom","ReactDOM","_rmcDialog","_rmcDialog2","_rmcFeedback","_rmcFeedback2","_getDataAttr","_getDataAttr2","_badge","_badge2","obj","__esModule","newObj","key","prototype","hasOwnProperty","call","NORMAL","SHARE","noop","queue","createActionSheet","flag","config","callback","props","prefixCls","cancelButtonText","className","transitionName","maskTransitionName","_props$maskClosable","maskClosable","undefined","div","document","createElement","body","appendChild","push","close","unmountComponentAtNode","parentNode","removeChild","index","indexOf","splice","cb","rowIndex","arguments","length","res","then","title","message","options","destructiveButtonIndex","cancelButtonIndex","_props$badges","badges","titleMsg","children","mode","normalOptions","badgesMap","forEach","element","role","map","item","_classnames","itemProps","onClick","bContent","bItem","activeClassName","multipleLine","Array","isArray","createList","icon","ii","ind","rootCls","render","visible","footer","onClose","wrapProps","showActionSheetWithOptions","showShareActionSheetWithOptions","q","module"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _defineProperty2 = require('babel-runtime/helpers/defineProperty');\n\nvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _classnames2 = require('classnames');\n\nvar _classnames3 = _interopRequireDefault(_classnames2);\n\nvar _react = require('react');\n\nvar React = _interopRequireWildcard(_react);\n\nvar _reactDom = require('react-dom');\n\nvar ReactDOM = _interopRequireWildcard(_reactDom);\n\nvar _rmcDialog = require('rmc-dialog');\n\nvar _rmcDialog2 = _interopRequireDefault(_rmcDialog);\n\nvar _rmcFeedback = require('rmc-feedback');\n\nvar _rmcFeedback2 = _interopRequireDefault(_rmcFeedback);\n\nvar _getDataAttr = require('../_util/getDataAttr');\n\nvar _getDataAttr2 = _interopRequireDefault(_getDataAttr);\n\nvar _badge = require('../badge');\n\nvar _badge2 = _interopRequireDefault(_badge);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar NORMAL = 'NORMAL'; /* tslint:disable:jsx-no-multiline-js */\n\nvar SHARE = 'SHARE';\n// tslint:disable-next-line:no-empty\nfunction noop() {}\nvar queue = [];\nfunction createActionSheet(flag, config, callback) {\n    var props = (0, _extends3['default'])({ prefixCls: 'am-action-sheet', cancelButtonText: '取消' }, config);\n    var prefixCls = props.prefixCls,\n        className = props.className,\n        transitionName = props.transitionName,\n        maskTransitionName = props.maskTransitionName,\n        _props$maskClosable = props.maskClosable,\n        maskClosable = _props$maskClosable === undefined ? true : _props$maskClosable;\n\n    var div = document.createElement('div');\n    document.body.appendChild(div);\n    queue.push(close);\n    function close() {\n        if (div) {\n            ReactDOM.unmountComponentAtNode(div);\n            if (div.parentNode) {\n                div.parentNode.removeChild(div);\n            }\n            var index = queue.indexOf(close);\n            if (index !== -1) {\n                queue.splice(index, 1);\n            }\n        }\n    }\n    function cb(index) {\n        var rowIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n        var res = callback(index, rowIndex);\n        if (res && res.then) {\n            res.then(function () {\n                close();\n            });\n        } else {\n            close();\n        }\n    }\n    var title = props.title,\n        message = props.message,\n        options = props.options,\n        destructiveButtonIndex = props.destructiveButtonIndex,\n        cancelButtonIndex = props.cancelButtonIndex,\n        cancelButtonText = props.cancelButtonText,\n        _props$badges = props.badges,\n        badges = _props$badges === undefined ? [] : _props$badges;\n\n    var titleMsg = [title ? React.createElement(\n        'h3',\n        { key: '0', className: prefixCls + '-title' },\n        title\n    ) : null, message ? React.createElement(\n        'div',\n        { key: '1', className: prefixCls + '-message' },\n        message\n    ) : null];\n    var children = null;\n    var mode = 'normal';\n    switch (flag) {\n        case NORMAL:\n            mode = 'normal';\n            var normalOptions = options;\n            var badgesMap = {};\n            if (badges && badges.length > 0) {\n                badges.forEach(function (element) {\n                    if (element.index >= 0) {\n                        badgesMap[element.index] = React.createElement(_badge2['default'], element);\n                    }\n                });\n            }\n            children = React.createElement(\n                'div',\n                (0, _getDataAttr2['default'])(props),\n                titleMsg,\n                React.createElement(\n                    'div',\n                    { className: prefixCls + '-button-list', role: 'group' },\n                    normalOptions.map(function (item, index) {\n                        var _classnames;\n\n                        var itemProps = {\n                            className: (0, _classnames3['default'])(prefixCls + '-button-list-item', (_classnames = {}, (0, _defineProperty3['default'])(_classnames, prefixCls + '-destructive-button', destructiveButtonIndex === index), (0, _defineProperty3['default'])(_classnames, prefixCls + '-cancel-button', cancelButtonIndex === index), _classnames)),\n                            onClick: function onClick() {\n                                return cb(index);\n                            },\n                            role: 'button'\n                        };\n                        var bContent = React.createElement(\n                            'div',\n                            itemProps,\n                            item\n                        );\n                        // 仅在设置徽标的情况下修改dom结构\n                        if (badgesMap[index]) {\n                            bContent = React.createElement(\n                                'div',\n                                (0, _extends3['default'])({}, itemProps, { className: itemProps.className + ' ' + prefixCls + '-button-list-badge' }),\n                                React.createElement(\n                                    'span',\n                                    { className: prefixCls + '-button-list-item-content' },\n                                    item\n                                ),\n                                badgesMap[index]\n                            );\n                        }\n                        var bItem = React.createElement(\n                            _rmcFeedback2['default'],\n                            { key: index, activeClassName: prefixCls + '-button-list-item-active' },\n                            bContent\n                        );\n                        if (cancelButtonIndex === index || destructiveButtonIndex === index) {\n                            bItem = React.createElement(\n                                _rmcFeedback2['default'],\n                                { key: index, activeClassName: prefixCls + '-button-list-item-active' },\n                                React.createElement(\n                                    'div',\n                                    itemProps,\n                                    item,\n                                    cancelButtonIndex === index ? React.createElement('span', { className: prefixCls + '-cancel-button-mask' }) : null\n                                )\n                            );\n                        }\n                        return bItem;\n                    })\n                )\n            );\n            break;\n        case SHARE:\n            mode = 'share';\n            var multipleLine = options.length && Array.isArray(options[0]) || false;\n            var createList = function createList(item, index) {\n                var rowIndex = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n                return React.createElement(\n                    'div',\n                    { className: prefixCls + '-share-list-item', role: 'button', key: index, onClick: function onClick() {\n                            return cb(index, rowIndex);\n                        } },\n                    React.createElement(\n                        'div',\n                        { className: prefixCls + '-share-list-item-icon' },\n                        item.icon\n                    ),\n                    React.createElement(\n                        'div',\n                        { className: prefixCls + '-share-list-item-title' },\n                        item.title\n                    )\n                );\n            };\n            children = React.createElement(\n                'div',\n                (0, _getDataAttr2['default'])(props),\n                titleMsg,\n                React.createElement(\n                    'div',\n                    { className: prefixCls + '-share' },\n                    multipleLine ? options.map(function (item, index) {\n                        return React.createElement(\n                            'div',\n                            { key: index, className: prefixCls + '-share-list' },\n                            item.map(function (ii, ind) {\n                                return createList(ii, ind, index);\n                            })\n                        );\n                    }) : React.createElement(\n                        'div',\n                        { className: prefixCls + '-share-list' },\n                        options.map(function (item, index) {\n                            return createList(item, index);\n                        })\n                    ),\n                    React.createElement(\n                        _rmcFeedback2['default'],\n                        { activeClassName: prefixCls + '-share-cancel-button-active' },\n                        React.createElement(\n                            'div',\n                            { className: prefixCls + '-share-cancel-button', role: 'button', onClick: function onClick() {\n                                    return cb(-1);\n                                } },\n                            cancelButtonText\n                        )\n                    )\n                )\n            );\n            break;\n        default:\n            break;\n    }\n    var rootCls = (0, _classnames3['default'])(prefixCls + '-' + mode, className);\n    ReactDOM.render(React.createElement(\n        _rmcDialog2['default'],\n        { visible: true, title: '', footer: '', prefixCls: prefixCls, className: rootCls, transitionName: transitionName || 'am-slide-up', maskTransitionName: maskTransitionName || 'am-fade', onClose: function onClose() {\n                return cb(cancelButtonIndex || -1);\n            }, maskClosable: maskClosable, wrapProps: props.wrapProps || {} },\n        children\n    ), div);\n    return {\n        close: close\n    };\n}\nexports['default'] = {\n    showActionSheetWithOptions: function showActionSheetWithOptions(config) {\n        var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n\n        createActionSheet(NORMAL, config, callback);\n    },\n    showShareActionSheetWithOptions: function showShareActionSheetWithOptions(config) {\n        var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n\n        createActionSheet(SHARE, config, callback);\n    },\n    close: function close() {\n        queue.forEach(function (q) {\n            return q();\n        });\n    }\n};\nmodule.exports = exports['default'];"]},"metadata":{},"sourceType":"script"}