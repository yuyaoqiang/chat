{"ast":null,"code":"import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import\"antd-mobile/lib/toast/style/css\";import _Toast from\"antd-mobile/lib/toast\";import React,{useEffect}from'react';import{Switch}from\"react-router-dom\";import{observer,inject}from\"mobx-react\";import AuthRoute from\"./utils/authRoute\";import{ping}from\"@pages/userInfo/request\";import{banks}from\"@pages/banks/request\";import{myStatus}from\"@pages/home/request\";import'./App.scss';import{transferArrayToObj}from'@utils/helpers';_Toast.config({duration:1.3});var id=0;var App=function App(props){var userState=props.userState,banksState=props.banksState,homeState=props.homeState;var user=userState.user;var setBanks=banksState.setBanks;var changeData=homeState.changeData;var pings=function pings(){ping({}).then(function(){}).catch(function(err){});};var myInfoHandle=function myInfoHandle(){myStatus({}).then(function(data){changeData(data);});};var banksStateHandle=function banksStateHandle(){banks().then(function(data){if(data&&data.length>0){var map=transferArrayToObj(data);setBanks(map,data);}});};useEffect(function(){if(user.isLogin){myInfoHandle();banksStateHandle();var _id=setInterval(function(){if(!user.isLogin)return;myInfoHandle();pings();},3000);return function(){return clearInterval(_id);};}},[user]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Switch,{children:/*#__PURE__*/_jsx(AuthRoute,{})})});};export default inject('userState','banksState','homeState')(observer(App));","map":null,"metadata":{},"sourceType":"module"}