{"ast":null,"code":"(function webpackUniversalModuleDefinition(root, factory) {\n  if (typeof exports === 'object' && typeof module === 'object') module.exports = factory();else if (typeof define === 'function' && define.amd) define([], factory);else {\n    var a = factory();\n\n    for (var i in a) {\n      (typeof exports === 'object' ? exports : root)[i] = a[i];\n    }\n  }\n})(this, function () {\n  return (\n    /******/\n    function (modules) {\n      // webpackBootstrap\n\n      /******/\n      // The module cache\n\n      /******/\n      var installedModules = {};\n      /******/\n      // The require function\n\n      /******/\n\n      function __webpack_require__(moduleId) {\n        /******/\n        // Check if module is in cache\n\n        /******/\n        if (installedModules[moduleId])\n          /******/\n          return installedModules[moduleId].exports;\n        /******/\n        // Create a new module (and put it into the cache)\n\n        /******/\n\n        var module = installedModules[moduleId] = {\n          /******/\n          exports: {},\n\n          /******/\n          id: moduleId,\n\n          /******/\n          loaded: false\n          /******/\n\n        };\n        /******/\n        // Execute the module function\n\n        /******/\n\n        modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n        /******/\n        // Flag the module as loaded\n\n        /******/\n\n        module.loaded = true;\n        /******/\n        // Return the exports of the module\n\n        /******/\n\n        return module.exports;\n        /******/\n      }\n      /******/\n      // expose the modules object (__webpack_modules__)\n\n      /******/\n\n\n      __webpack_require__.m = modules;\n      /******/\n      // expose the module cache\n\n      /******/\n\n      __webpack_require__.c = installedModules;\n      /******/\n      // __webpack_public_path__\n\n      /******/\n\n      __webpack_require__.p = \"\";\n      /******/\n      // Load entry module and return exports\n\n      /******/\n\n      return __webpack_require__(0);\n      /******/\n    }(\n    /************************************************************************/\n\n    /******/\n    [\n    /* 0 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      __webpack_require__(7);\n\n      __webpack_require__(8);\n\n      module.exports = __webpack_require__(9);\n      /**\n       *\n       * 　　　┏┓　　　┏┓\n       * 　　┏┛┻━━━┛┻┓\n       * 　　┃　　　　　　　┃\n       * 　　┃　　　━　　　┃\n       * 　　┃　┳┛　┗┳　┃\n       * 　　┃　　　　　　　┃\n       * 　　┃　　　┻　　　┃\n       * 　　┃　　　　　　　┃\n       * 　　┗━┓　　　┏━┛Code is far away from bug with the animal protecting\n       * 　　　　┃　　　┃    神兽保佑,代码无bug\n       * 　　　　┃　　　┃\n       * 　　　　┃　　　┗━━━┓\n       * 　　　　┃　　　　　 ┣┓\n       * 　　　　┃　　　　 ┏┛\n       * 　　　　┗┓┓┏━┳┓┏┛\n       * 　　　　　┃┫┫　┃┫┫\n       * 　　　　　┗┻┛　┗┻┛\n       *\n       */\n\n      /***/\n    },\n    /* 1 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      /* WEBPACK VAR INJECTION */\n      (function (setImmediate) {\n        (function (root) {\n          // Use polyfill for setImmediate for performance gains\n          var asap = typeof setImmediate === 'function' && setImmediate || function (fn) {\n            setTimeout(fn, 1);\n          }; // Polyfill for Function.prototype.bind\n\n\n          function bind(fn, thisArg) {\n            return function () {\n              fn.apply(thisArg, arguments);\n            };\n          }\n\n          var isArray = Array.isArray || function (value) {\n            return Object.prototype.toString.call(value) === \"[object Array]\";\n          };\n\n          function Promise(fn) {\n            if (typeof this !== 'object') throw new TypeError('Promises must be constructed via new');\n            if (typeof fn !== 'function') throw new TypeError('not a function');\n            this._state = null;\n            this._value = null;\n            this._deferreds = [];\n            doResolve(fn, bind(resolve, this), bind(reject, this));\n          }\n\n          function handle(deferred) {\n            var me = this;\n\n            if (this._state === null) {\n              this._deferreds.push(deferred);\n\n              return;\n            }\n\n            asap(function () {\n              var cb = me._state ? deferred.onFulfilled : deferred.onRejected;\n\n              if (cb === null) {\n                (me._state ? deferred.resolve : deferred.reject)(me._value);\n                return;\n              }\n\n              var ret;\n\n              try {\n                ret = cb(me._value);\n              } catch (e) {\n                deferred.reject(e);\n                return;\n              }\n\n              deferred.resolve(ret);\n            });\n          }\n\n          function resolve(newValue) {\n            try {\n              //Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n              if (newValue === this) throw new TypeError('A promise cannot be resolved with itself.');\n\n              if (newValue && (typeof newValue === 'object' || typeof newValue === 'function')) {\n                var then = newValue.then;\n\n                if (typeof then === 'function') {\n                  doResolve(bind(then, newValue), bind(resolve, this), bind(reject, this));\n                  return;\n                }\n              }\n\n              this._state = true;\n              this._value = newValue;\n              finale.call(this);\n            } catch (e) {\n              reject.call(this, e);\n            }\n          }\n\n          function reject(newValue) {\n            this._state = false;\n            this._value = newValue;\n            finale.call(this);\n          }\n\n          function finale() {\n            for (var i = 0, len = this._deferreds.length; i < len; i++) {\n              handle.call(this, this._deferreds[i]);\n            }\n\n            this._deferreds = null;\n          }\n\n          function Handler(onFulfilled, onRejected, resolve, reject) {\n            this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n            this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n            this.resolve = resolve;\n            this.reject = reject;\n          }\n          /**\n           * Take a potentially misbehaving resolver function and make sure\n           * onFulfilled and onRejected are only called once.\n           *\n           * Makes no guarantees about asynchrony.\n           */\n\n\n          function doResolve(fn, onFulfilled, onRejected) {\n            var done = false;\n\n            try {\n              fn(function (value) {\n                if (done) return;\n                done = true;\n                onFulfilled(value);\n              }, function (reason) {\n                if (done) return;\n                done = true;\n                onRejected(reason);\n              });\n            } catch (ex) {\n              if (done) return;\n              done = true;\n              onRejected(ex);\n            }\n          }\n\n          Promise.prototype['catch'] = function (onRejected) {\n            return this.then(null, onRejected);\n          };\n\n          Promise.prototype.then = function (onFulfilled, onRejected) {\n            var me = this;\n            return new Promise(function (resolve, reject) {\n              handle.call(me, new Handler(onFulfilled, onRejected, resolve, reject));\n            });\n          };\n\n          Promise.all = function () {\n            var args = Array.prototype.slice.call(arguments.length === 1 && isArray(arguments[0]) ? arguments[0] : arguments);\n            return new Promise(function (resolve, reject) {\n              if (args.length === 0) return resolve([]);\n              var remaining = args.length;\n\n              function res(i, val) {\n                try {\n                  if (val && (typeof val === 'object' || typeof val === 'function')) {\n                    var then = val.then;\n\n                    if (typeof then === 'function') {\n                      then.call(val, function (val) {\n                        res(i, val);\n                      }, reject);\n                      return;\n                    }\n                  }\n\n                  args[i] = val;\n\n                  if (--remaining === 0) {\n                    resolve(args);\n                  }\n                } catch (ex) {\n                  reject(ex);\n                }\n              }\n\n              for (var i = 0; i < args.length; i++) {\n                res(i, args[i]);\n              }\n            });\n          };\n\n          Promise.resolve = function (value) {\n            if (value && typeof value === 'object' && value.constructor === Promise) {\n              return value;\n            }\n\n            return new Promise(function (resolve) {\n              resolve(value);\n            });\n          };\n\n          Promise.reject = function (value) {\n            return new Promise(function (resolve, reject) {\n              reject(value);\n            });\n          };\n\n          Promise.race = function (values) {\n            return new Promise(function (resolve, reject) {\n              for (var i = 0, len = values.length; i < len; i++) {\n                values[i].then(resolve, reject);\n              }\n            });\n          };\n          /**\n           * Set the immediate function to execute callbacks\n           * @param fn {function} Function to execute\n           * @private\n           */\n\n\n          Promise._setImmediateFn = function _setImmediateFn(fn) {\n            asap = fn;\n          };\n\n          Promise.prototype.always = function (callback) {\n            var constructor = this.constructor;\n            return this.then(function (value) {\n              return constructor.resolve(callback()).then(function () {\n                return value;\n              });\n            }, function (reason) {\n              return constructor.resolve(callback()).then(function () {\n                throw reason;\n              });\n            });\n          };\n\n          if (typeof module !== 'undefined' && module.exports) {\n            module.exports = Promise;\n          } else if (!root.Promise) {\n            root.Promise = Promise;\n          }\n        })(this);\n        /* WEBPACK VAR INJECTION */\n\n      }).call(exports, __webpack_require__(2).setImmediate);\n      /***/\n    },\n    /* 2 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      /* WEBPACK VAR INJECTION */\n      (function (global) {\n        var scope = typeof global !== \"undefined\" && global || typeof self !== \"undefined\" && self || window;\n        var apply = Function.prototype.apply; // DOM APIs, for completeness\n\n        exports.setTimeout = function () {\n          return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);\n        };\n\n        exports.setInterval = function () {\n          return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);\n        };\n\n        exports.clearTimeout = exports.clearInterval = function (timeout) {\n          if (timeout) {\n            timeout.close();\n          }\n        };\n\n        function Timeout(id, clearFn) {\n          this._id = id;\n          this._clearFn = clearFn;\n        }\n\n        Timeout.prototype.unref = Timeout.prototype.ref = function () {};\n\n        Timeout.prototype.close = function () {\n          this._clearFn.call(scope, this._id);\n        }; // Does not start the time, just sets up the members needed.\n\n\n        exports.enroll = function (item, msecs) {\n          clearTimeout(item._idleTimeoutId);\n          item._idleTimeout = msecs;\n        };\n\n        exports.unenroll = function (item) {\n          clearTimeout(item._idleTimeoutId);\n          item._idleTimeout = -1;\n        };\n\n        exports._unrefActive = exports.active = function (item) {\n          clearTimeout(item._idleTimeoutId);\n          var msecs = item._idleTimeout;\n\n          if (msecs >= 0) {\n            item._idleTimeoutId = setTimeout(function onTimeout() {\n              if (item._onTimeout) item._onTimeout();\n            }, msecs);\n          }\n        }; // setimmediate attaches itself to the global object\n\n\n        __webpack_require__(3); // On some exotic environments, it's not clear which object `setimmediate` was\n        // able to install onto.  Search each possibility in the same order as the\n        // `setimmediate` library.\n\n\n        exports.setImmediate = typeof self !== \"undefined\" && self.setImmediate || typeof global !== \"undefined\" && global.setImmediate || this && this.setImmediate;\n        exports.clearImmediate = typeof self !== \"undefined\" && self.clearImmediate || typeof global !== \"undefined\" && global.clearImmediate || this && this.clearImmediate;\n        /* WEBPACK VAR INJECTION */\n      }).call(exports, function () {\n        return this;\n      }());\n      /***/\n    },\n    /* 3 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      /* WEBPACK VAR INJECTION */\n      (function (global, process) {\n        (function (global, undefined) {\n          \"use strict\";\n\n          if (global.setImmediate) {\n            return;\n          }\n\n          var nextHandle = 1; // Spec says greater than zero\n\n          var tasksByHandle = {};\n          var currentlyRunningATask = false;\n          var doc = global.document;\n          var registerImmediate;\n\n          function setImmediate(callback) {\n            // Callback can either be a function or a string\n            if (typeof callback !== \"function\") {\n              callback = new Function(\"\" + callback);\n            } // Copy function arguments\n\n\n            var args = new Array(arguments.length - 1);\n\n            for (var i = 0; i < args.length; i++) {\n              args[i] = arguments[i + 1];\n            } // Store and register the task\n\n\n            var task = {\n              callback: callback,\n              args: args\n            };\n            tasksByHandle[nextHandle] = task;\n            registerImmediate(nextHandle);\n            return nextHandle++;\n          }\n\n          function clearImmediate(handle) {\n            delete tasksByHandle[handle];\n          }\n\n          function run(task) {\n            var callback = task.callback;\n            var args = task.args;\n\n            switch (args.length) {\n              case 0:\n                callback();\n                break;\n\n              case 1:\n                callback(args[0]);\n                break;\n\n              case 2:\n                callback(args[0], args[1]);\n                break;\n\n              case 3:\n                callback(args[0], args[1], args[2]);\n                break;\n\n              default:\n                callback.apply(undefined, args);\n                break;\n            }\n          }\n\n          function runIfPresent(handle) {\n            // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n            // So if we're currently running a task, we'll need to delay this invocation.\n            if (currentlyRunningATask) {\n              // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n              // \"too much recursion\" error.\n              setTimeout(runIfPresent, 0, handle);\n            } else {\n              var task = tasksByHandle[handle];\n\n              if (task) {\n                currentlyRunningATask = true;\n\n                try {\n                  run(task);\n                } finally {\n                  clearImmediate(handle);\n                  currentlyRunningATask = false;\n                }\n              }\n            }\n          }\n\n          function installNextTickImplementation() {\n            registerImmediate = function registerImmediate(handle) {\n              process.nextTick(function () {\n                runIfPresent(handle);\n              });\n            };\n          }\n\n          function canUsePostMessage() {\n            // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n            // where `global.postMessage` means something completely different and can't be used for this purpose.\n            if (global.postMessage && !global.importScripts) {\n              var postMessageIsAsynchronous = true;\n              var oldOnMessage = global.onmessage;\n\n              global.onmessage = function () {\n                postMessageIsAsynchronous = false;\n              };\n\n              global.postMessage(\"\", \"*\");\n              global.onmessage = oldOnMessage;\n              return postMessageIsAsynchronous;\n            }\n          }\n\n          function installPostMessageImplementation() {\n            // Installs an event handler on `global` for the `message` event: see\n            // * https://developer.mozilla.org/en/DOM/window.postMessage\n            // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n            var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n\n            var onGlobalMessage = function onGlobalMessage(event) {\n              if (event.source === global && typeof event.data === \"string\" && event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n              }\n            };\n\n            if (global.addEventListener) {\n              global.addEventListener(\"message\", onGlobalMessage, false);\n            } else {\n              global.attachEvent(\"onmessage\", onGlobalMessage);\n            }\n\n            registerImmediate = function registerImmediate(handle) {\n              global.postMessage(messagePrefix + handle, \"*\");\n            };\n          }\n\n          function installMessageChannelImplementation() {\n            var channel = new MessageChannel();\n\n            channel.port1.onmessage = function (event) {\n              var handle = event.data;\n              runIfPresent(handle);\n            };\n\n            registerImmediate = function registerImmediate(handle) {\n              channel.port2.postMessage(handle);\n            };\n          }\n\n          function installReadyStateChangeImplementation() {\n            var html = doc.documentElement;\n\n            registerImmediate = function registerImmediate(handle) {\n              // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n              // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n              var script = doc.createElement(\"script\");\n\n              script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n              };\n\n              html.appendChild(script);\n            };\n          }\n\n          function installSetTimeoutImplementation() {\n            registerImmediate = function registerImmediate(handle) {\n              setTimeout(runIfPresent, 0, handle);\n            };\n          } // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n\n\n          var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n          attachTo = attachTo && attachTo.setTimeout ? attachTo : global; // Don't get fooled by e.g. browserify environments.\n\n          if ({}.toString.call(global.process) === \"[object process]\") {\n            // For Node.js before 0.9\n            installNextTickImplementation();\n          } else if (canUsePostMessage()) {\n            // For non-IE10 modern browsers\n            installPostMessageImplementation();\n          } else if (global.MessageChannel) {\n            // For web workers, where supported\n            installMessageChannelImplementation();\n          } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n            // For IE 6–8\n            installReadyStateChangeImplementation();\n          } else {\n            // For older browsers\n            installSetTimeoutImplementation();\n          }\n\n          attachTo.setImmediate = setImmediate;\n          attachTo.clearImmediate = clearImmediate;\n        })(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self);\n        /* WEBPACK VAR INJECTION */\n\n      }).call(exports, function () {\n        return this;\n      }(), __webpack_require__(4));\n      /***/\n    },\n    /* 4 */\n\n    /***/\n    function (module, exports) {\n      // shim for using process in browser\n      var process = module.exports = {}; // cached from whatever global is present so that test runners that stub it\n      // don't break things.  But we need to wrap it in a try catch in case it is\n      // wrapped in strict mode code which doesn't define any globals.  It's inside a\n      // function because try/catches deoptimize in certain engines.\n\n      var cachedSetTimeout;\n      var cachedClearTimeout;\n\n      function defaultSetTimout() {\n        throw new Error('setTimeout has not been defined');\n      }\n\n      function defaultClearTimeout() {\n        throw new Error('clearTimeout has not been defined');\n      }\n\n      (function () {\n        try {\n          if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n          } else {\n            cachedSetTimeout = defaultSetTimout;\n          }\n        } catch (e) {\n          cachedSetTimeout = defaultSetTimout;\n        }\n\n        try {\n          if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n          } else {\n            cachedClearTimeout = defaultClearTimeout;\n          }\n        } catch (e) {\n          cachedClearTimeout = defaultClearTimeout;\n        }\n      })();\n\n      function runTimeout(fun) {\n        if (cachedSetTimeout === setTimeout) {\n          //normal enviroments in sane situations\n          return setTimeout(fun, 0);\n        } // if setTimeout wasn't available but was latter defined\n\n\n        if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n          cachedSetTimeout = setTimeout;\n          return setTimeout(fun, 0);\n        }\n\n        try {\n          // when when somebody has screwed with setTimeout but no I.E. maddness\n          return cachedSetTimeout(fun, 0);\n        } catch (e) {\n          try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n          } catch (e) {\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n          }\n        }\n      }\n\n      function runClearTimeout(marker) {\n        if (cachedClearTimeout === clearTimeout) {\n          //normal enviroments in sane situations\n          return clearTimeout(marker);\n        } // if clearTimeout wasn't available but was latter defined\n\n\n        if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n          cachedClearTimeout = clearTimeout;\n          return clearTimeout(marker);\n        }\n\n        try {\n          // when when somebody has screwed with setTimeout but no I.E. maddness\n          return cachedClearTimeout(marker);\n        } catch (e) {\n          try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n          } catch (e) {\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n          }\n        }\n      }\n\n      var queue = [];\n      var draining = false;\n      var currentQueue;\n      var queueIndex = -1;\n\n      function cleanUpNextTick() {\n        if (!draining || !currentQueue) {\n          return;\n        }\n\n        draining = false;\n\n        if (currentQueue.length) {\n          queue = currentQueue.concat(queue);\n        } else {\n          queueIndex = -1;\n        }\n\n        if (queue.length) {\n          drainQueue();\n        }\n      }\n\n      function drainQueue() {\n        if (draining) {\n          return;\n        }\n\n        var timeout = runTimeout(cleanUpNextTick);\n        draining = true;\n        var len = queue.length;\n\n        while (len) {\n          currentQueue = queue;\n          queue = [];\n\n          while (++queueIndex < len) {\n            if (currentQueue) {\n              currentQueue[queueIndex].run();\n            }\n          }\n\n          queueIndex = -1;\n          len = queue.length;\n        }\n\n        currentQueue = null;\n        draining = false;\n        runClearTimeout(timeout);\n      }\n\n      process.nextTick = function (fun) {\n        var args = new Array(arguments.length - 1);\n\n        if (arguments.length > 1) {\n          for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n          }\n        }\n\n        queue.push(new Item(fun, args));\n\n        if (queue.length === 1 && !draining) {\n          runTimeout(drainQueue);\n        }\n      }; // v8 likes predictible objects\n\n\n      function Item(fun, array) {\n        this.fun = fun;\n        this.array = array;\n      }\n\n      Item.prototype.run = function () {\n        this.fun.apply(null, this.array);\n      };\n\n      process.title = 'browser';\n      process.browser = true;\n      process.env = {};\n      process.argv = [];\n      process.version = ''; // empty string to avoid regexp issues\n\n      process.versions = {};\n\n      function noop() {}\n\n      process.on = noop;\n      process.addListener = noop;\n      process.once = noop;\n      process.off = noop;\n      process.removeListener = noop;\n      process.removeAllListeners = noop;\n      process.emit = noop;\n      process.prependListener = noop;\n      process.prependOnceListener = noop;\n\n      process.listeners = function (name) {\n        return [];\n      };\n\n      process.binding = function (name) {\n        throw new Error('process.binding is not supported');\n      };\n\n      process.cwd = function () {\n        return '/';\n      };\n\n      process.chdir = function (dir) {\n        throw new Error('process.chdir is not supported');\n      };\n\n      process.umask = function () {\n        return 0;\n      };\n      /***/\n\n    },\n    /* 5 */\n\n    /***/\n    function (module, exports) {\n      //@source https://xts.so/demo/compress/index.html\n      // 早期版本的浏览器需要用BlobBuilder来构造Blob，创建一个通用构造器来兼容早期版本\n      var BlobConstructor = function () {\n        try {\n          new Blob();\n          return true;\n        } catch (e) {\n          return false;\n        }\n      }() ? window.Blob : function (parts, opts) {\n        var bb = new (window.BlobBuilder || window.WebKitBlobBuilder || window.MSBlobBuilder || window.MozBlobBuilder)();\n        parts.forEach(function (p) {\n          bb.append(p);\n        });\n        return bb.getBlob(opts ? opts.type : undefined);\n      }; // Android上的AppleWebKit 534以前的内核存在一个Bug，\n      // 导致FormData加入一个Blob对象后，上传的文件是0字节\n\n      function hasFormDataBug() {\n        var bCheck = ~navigator.userAgent.indexOf('Android') && ~navigator.vendor.indexOf('Google') && !~navigator.userAgent.indexOf('Chrome'); // QQ X5浏览器也有这个BUG\n\n        return bCheck && navigator.userAgent.match(/AppleWebKit\\/(\\d+)/).pop() <= 534 || /MQQBrowser/g.test(navigator.userAgent);\n      }\n\n      var FormDataShim = function () {\n        var formDataShimNums = 0;\n\n        function FormDataShim() {\n          var // Store a reference to this\n          o = this,\n              // Data to be sent\n          parts = [],\n              // Boundary parameter for separating the multipart values\n          boundary = Array(21).join('-') + (+new Date() * (1e16 * Math.random())).toString(36),\n              // Store the current XHR send method so we can safely override it\n          oldSend = XMLHttpRequest.prototype.send;\n\n          this.getParts = function () {\n            return parts.toString();\n          };\n\n          this.append = function (name, value, filename) {\n            parts.push('--' + boundary + '\\r\\nContent-Disposition: form-data; name=\"' + name + '\"');\n\n            if (value instanceof Blob) {\n              parts.push('; filename=\"' + (filename || 'blob') + '\"\\r\\nContent-Type: ' + value.type + '\\r\\n\\r\\n');\n              parts.push(value);\n            } else {\n              parts.push('\\r\\n\\r\\n' + value);\n            }\n\n            parts.push('\\r\\n');\n          };\n\n          formDataShimNums++;\n\n          XMLHttpRequest.prototype.send = function (val) {\n            var fr,\n                data,\n                oXHR = this;\n\n            if (val === o) {\n              // Append the final boundary string\n              parts.push('--' + boundary + '--\\r\\n'); // Create the blob\n\n              data = new BlobConstructor(parts); // Set up and read the blob into an array to be sent\n\n              fr = new FileReader();\n\n              fr.onload = function () {\n                oldSend.call(oXHR, fr.result);\n              };\n\n              fr.onerror = function (err) {\n                throw err;\n              };\n\n              fr.readAsArrayBuffer(data); // Set the multipart content type and boudary\n\n              this.setRequestHeader('Content-Type', 'multipart/form-data; boundary=' + boundary);\n              formDataShimNums--;\n\n              if (formDataShimNums == 0) {\n                XMLHttpRequest.prototype.send = oldSend;\n              }\n            } else {\n              oldSend.call(this, val);\n            }\n          };\n        }\n\n        ;\n        FormDataShim.prototype = Object.create(FormData.prototype);\n        return FormDataShim;\n      }();\n\n      module.exports = {\n        Blob: BlobConstructor,\n        FormData: hasFormDataBug() ? FormDataShim : FormData\n      };\n      /***/\n    },\n    /* 6 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;\n      /* exif */\n\n\n      (function () {\n        var debug = false;\n        var root = this;\n\n        var EXIF = function EXIF(obj) {\n          if (obj instanceof EXIF) return obj;\n          if (!(this instanceof EXIF)) return new EXIF(obj);\n          this.EXIFwrapped = obj;\n        };\n\n        if (true) {\n          if (typeof module !== 'undefined' && module.exports) {\n            exports = module.exports = EXIF;\n          }\n\n          exports.EXIF = EXIF;\n        } else {\n          root.EXIF = EXIF;\n        }\n\n        var ExifTags = EXIF.Tags = {\n          // version tags\n          0x9000: \"ExifVersion\",\n          // EXIF version\n          0xA000: \"FlashpixVersion\",\n          // Flashpix format version\n          // colorspace tags\n          0xA001: \"ColorSpace\",\n          // Color space information tag\n          // image configuration\n          0xA002: \"PixelXDimension\",\n          // Valid width of meaningful image\n          0xA003: \"PixelYDimension\",\n          // Valid height of meaningful image\n          0x9101: \"ComponentsConfiguration\",\n          // Information about channels\n          0x9102: \"CompressedBitsPerPixel\",\n          // Compressed bits per pixel\n          // user information\n          0x927C: \"MakerNote\",\n          // Any desired information written by the manufacturer\n          0x9286: \"UserComment\",\n          // Comments by user\n          // related file\n          0xA004: \"RelatedSoundFile\",\n          // Name of related sound file\n          // date and time\n          0x9003: \"DateTimeOriginal\",\n          // Date and time when the original image was generated\n          0x9004: \"DateTimeDigitized\",\n          // Date and time when the image was stored digitally\n          0x9290: \"SubsecTime\",\n          // Fractions of seconds for DateTime\n          0x9291: \"SubsecTimeOriginal\",\n          // Fractions of seconds for DateTimeOriginal\n          0x9292: \"SubsecTimeDigitized\",\n          // Fractions of seconds for DateTimeDigitized\n          // picture-taking conditions\n          0x829A: \"ExposureTime\",\n          // Exposure time (in seconds)\n          0x829D: \"FNumber\",\n          // F number\n          0x8822: \"ExposureProgram\",\n          // Exposure program\n          0x8824: \"SpectralSensitivity\",\n          // Spectral sensitivity\n          0x8827: \"ISOSpeedRatings\",\n          // ISO speed rating\n          0x8828: \"OECF\",\n          // Optoelectric conversion factor\n          0x9201: \"ShutterSpeedValue\",\n          // Shutter speed\n          0x9202: \"ApertureValue\",\n          // Lens aperture\n          0x9203: \"BrightnessValue\",\n          // Value of brightness\n          0x9204: \"ExposureBias\",\n          // Exposure bias\n          0x9205: \"MaxApertureValue\",\n          // Smallest F number of lens\n          0x9206: \"SubjectDistance\",\n          // Distance to subject in meters\n          0x9207: \"MeteringMode\",\n          // Metering mode\n          0x9208: \"LightSource\",\n          // Kind of light source\n          0x9209: \"Flash\",\n          // Flash status\n          0x9214: \"SubjectArea\",\n          // Location and area of main subject\n          0x920A: \"FocalLength\",\n          // Focal length of the lens in mm\n          0xA20B: \"FlashEnergy\",\n          // Strobe energy in BCPS\n          0xA20C: \"SpatialFrequencyResponse\",\n          //\n          0xA20E: \"FocalPlaneXResolution\",\n          // Number of pixels in width direction per FocalPlaneResolutionUnit\n          0xA20F: \"FocalPlaneYResolution\",\n          // Number of pixels in height direction per FocalPlaneResolutionUnit\n          0xA210: \"FocalPlaneResolutionUnit\",\n          // Unit for measuring FocalPlaneXResolution and FocalPlaneYResolution\n          0xA214: \"SubjectLocation\",\n          // Location of subject in image\n          0xA215: \"ExposureIndex\",\n          // Exposure index selected on camera\n          0xA217: \"SensingMethod\",\n          // Image sensor type\n          0xA300: \"FileSource\",\n          // Image source (3 == DSC)\n          0xA301: \"SceneType\",\n          // Scene type (1 == directly photographed)\n          0xA302: \"CFAPattern\",\n          // Color filter array geometric pattern\n          0xA401: \"CustomRendered\",\n          // Special processing\n          0xA402: \"ExposureMode\",\n          // Exposure mode\n          0xA403: \"WhiteBalance\",\n          // 1 = auto white balance, 2 = manual\n          0xA404: \"DigitalZoomRation\",\n          // Digital zoom ratio\n          0xA405: \"FocalLengthIn35mmFilm\",\n          // Equivalent foacl length assuming 35mm film camera (in mm)\n          0xA406: \"SceneCaptureType\",\n          // Type of scene\n          0xA407: \"GainControl\",\n          // Degree of overall image gain adjustment\n          0xA408: \"Contrast\",\n          // Direction of contrast processing applied by camera\n          0xA409: \"Saturation\",\n          // Direction of saturation processing applied by camera\n          0xA40A: \"Sharpness\",\n          // Direction of sharpness processing applied by camera\n          0xA40B: \"DeviceSettingDescription\",\n          //\n          0xA40C: \"SubjectDistanceRange\",\n          // Distance to subject\n          // other tags\n          0xA005: \"InteroperabilityIFDPointer\",\n          0xA420: \"ImageUniqueID\" // Identifier assigned uniquely to each image\n\n        };\n        var TiffTags = EXIF.TiffTags = {\n          0x0100: \"ImageWidth\",\n          0x0101: \"ImageHeight\",\n          0x8769: \"ExifIFDPointer\",\n          0x8825: \"GPSInfoIFDPointer\",\n          0xA005: \"InteroperabilityIFDPointer\",\n          0x0102: \"BitsPerSample\",\n          0x0103: \"Compression\",\n          0x0106: \"PhotometricInterpretation\",\n          0x0112: \"Orientation\",\n          0x0115: \"SamplesPerPixel\",\n          0x011C: \"PlanarConfiguration\",\n          0x0212: \"YCbCrSubSampling\",\n          0x0213: \"YCbCrPositioning\",\n          0x011A: \"XResolution\",\n          0x011B: \"YResolution\",\n          0x0128: \"ResolutionUnit\",\n          0x0111: \"StripOffsets\",\n          0x0116: \"RowsPerStrip\",\n          0x0117: \"StripByteCounts\",\n          0x0201: \"JPEGInterchangeFormat\",\n          0x0202: \"JPEGInterchangeFormatLength\",\n          0x012D: \"TransferFunction\",\n          0x013E: \"WhitePoint\",\n          0x013F: \"PrimaryChromaticities\",\n          0x0211: \"YCbCrCoefficients\",\n          0x0214: \"ReferenceBlackWhite\",\n          0x0132: \"DateTime\",\n          0x010E: \"ImageDescription\",\n          0x010F: \"Make\",\n          0x0110: \"Model\",\n          0x0131: \"Software\",\n          0x013B: \"Artist\",\n          0x8298: \"Copyright\"\n        };\n        var GPSTags = EXIF.GPSTags = {\n          0x0000: \"GPSVersionID\",\n          0x0001: \"GPSLatitudeRef\",\n          0x0002: \"GPSLatitude\",\n          0x0003: \"GPSLongitudeRef\",\n          0x0004: \"GPSLongitude\",\n          0x0005: \"GPSAltitudeRef\",\n          0x0006: \"GPSAltitude\",\n          0x0007: \"GPSTimeStamp\",\n          0x0008: \"GPSSatellites\",\n          0x0009: \"GPSStatus\",\n          0x000A: \"GPSMeasureMode\",\n          0x000B: \"GPSDOP\",\n          0x000C: \"GPSSpeedRef\",\n          0x000D: \"GPSSpeed\",\n          0x000E: \"GPSTrackRef\",\n          0x000F: \"GPSTrack\",\n          0x0010: \"GPSImgDirectionRef\",\n          0x0011: \"GPSImgDirection\",\n          0x0012: \"GPSMapDatum\",\n          0x0013: \"GPSDestLatitudeRef\",\n          0x0014: \"GPSDestLatitude\",\n          0x0015: \"GPSDestLongitudeRef\",\n          0x0016: \"GPSDestLongitude\",\n          0x0017: \"GPSDestBearingRef\",\n          0x0018: \"GPSDestBearing\",\n          0x0019: \"GPSDestDistanceRef\",\n          0x001A: \"GPSDestDistance\",\n          0x001B: \"GPSProcessingMethod\",\n          0x001C: \"GPSAreaInformation\",\n          0x001D: \"GPSDateStamp\",\n          0x001E: \"GPSDifferential\"\n        };\n        var StringValues = EXIF.StringValues = {\n          ExposureProgram: {\n            0: \"Not defined\",\n            1: \"Manual\",\n            2: \"Normal program\",\n            3: \"Aperture priority\",\n            4: \"Shutter priority\",\n            5: \"Creative program\",\n            6: \"Action program\",\n            7: \"Portrait mode\",\n            8: \"Landscape mode\"\n          },\n          MeteringMode: {\n            0: \"Unknown\",\n            1: \"Average\",\n            2: \"CenterWeightedAverage\",\n            3: \"Spot\",\n            4: \"MultiSpot\",\n            5: \"Pattern\",\n            6: \"Partial\",\n            255: \"Other\"\n          },\n          LightSource: {\n            0: \"Unknown\",\n            1: \"Daylight\",\n            2: \"Fluorescent\",\n            3: \"Tungsten (incandescent light)\",\n            4: \"Flash\",\n            9: \"Fine weather\",\n            10: \"Cloudy weather\",\n            11: \"Shade\",\n            12: \"Daylight fluorescent (D 5700 - 7100K)\",\n            13: \"Day white fluorescent (N 4600 - 5400K)\",\n            14: \"Cool white fluorescent (W 3900 - 4500K)\",\n            15: \"White fluorescent (WW 3200 - 3700K)\",\n            17: \"Standard light A\",\n            18: \"Standard light B\",\n            19: \"Standard light C\",\n            20: \"D55\",\n            21: \"D65\",\n            22: \"D75\",\n            23: \"D50\",\n            24: \"ISO studio tungsten\",\n            255: \"Other\"\n          },\n          Flash: {\n            0x0000: \"Flash did not fire\",\n            0x0001: \"Flash fired\",\n            0x0005: \"Strobe return light not detected\",\n            0x0007: \"Strobe return light detected\",\n            0x0009: \"Flash fired, compulsory flash mode\",\n            0x000D: \"Flash fired, compulsory flash mode, return light not detected\",\n            0x000F: \"Flash fired, compulsory flash mode, return light detected\",\n            0x0010: \"Flash did not fire, compulsory flash mode\",\n            0x0018: \"Flash did not fire, auto mode\",\n            0x0019: \"Flash fired, auto mode\",\n            0x001D: \"Flash fired, auto mode, return light not detected\",\n            0x001F: \"Flash fired, auto mode, return light detected\",\n            0x0020: \"No flash function\",\n            0x0041: \"Flash fired, red-eye reduction mode\",\n            0x0045: \"Flash fired, red-eye reduction mode, return light not detected\",\n            0x0047: \"Flash fired, red-eye reduction mode, return light detected\",\n            0x0049: \"Flash fired, compulsory flash mode, red-eye reduction mode\",\n            0x004D: \"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected\",\n            0x004F: \"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected\",\n            0x0059: \"Flash fired, auto mode, red-eye reduction mode\",\n            0x005D: \"Flash fired, auto mode, return light not detected, red-eye reduction mode\",\n            0x005F: \"Flash fired, auto mode, return light detected, red-eye reduction mode\"\n          },\n          SensingMethod: {\n            1: \"Not defined\",\n            2: \"One-chip color area sensor\",\n            3: \"Two-chip color area sensor\",\n            4: \"Three-chip color area sensor\",\n            5: \"Color sequential area sensor\",\n            7: \"Trilinear sensor\",\n            8: \"Color sequential linear sensor\"\n          },\n          SceneCaptureType: {\n            0: \"Standard\",\n            1: \"Landscape\",\n            2: \"Portrait\",\n            3: \"Night scene\"\n          },\n          SceneType: {\n            1: \"Directly photographed\"\n          },\n          CustomRendered: {\n            0: \"Normal process\",\n            1: \"Custom process\"\n          },\n          WhiteBalance: {\n            0: \"Auto white balance\",\n            1: \"Manual white balance\"\n          },\n          GainControl: {\n            0: \"None\",\n            1: \"Low gain up\",\n            2: \"High gain up\",\n            3: \"Low gain down\",\n            4: \"High gain down\"\n          },\n          Contrast: {\n            0: \"Normal\",\n            1: \"Soft\",\n            2: \"Hard\"\n          },\n          Saturation: {\n            0: \"Normal\",\n            1: \"Low saturation\",\n            2: \"High saturation\"\n          },\n          Sharpness: {\n            0: \"Normal\",\n            1: \"Soft\",\n            2: \"Hard\"\n          },\n          SubjectDistanceRange: {\n            0: \"Unknown\",\n            1: \"Macro\",\n            2: \"Close view\",\n            3: \"Distant view\"\n          },\n          FileSource: {\n            3: \"DSC\"\n          },\n          Components: {\n            0: \"\",\n            1: \"Y\",\n            2: \"Cb\",\n            3: \"Cr\",\n            4: \"R\",\n            5: \"G\",\n            6: \"B\"\n          }\n        };\n\n        function addEvent(element, event, handler) {\n          if (element.addEventListener) {\n            element.addEventListener(event, handler, false);\n          } else if (element.attachEvent) {\n            element.attachEvent(\"on\" + event, handler);\n          }\n        }\n\n        function imageHasData(img) {\n          return !!img.exifdata;\n        }\n\n        function base64ToArrayBuffer(base64, contentType) {\n          contentType = contentType || base64.match(/^data\\:([^\\;]+)\\;base64,/mi)[1] || ''; // e.g. 'data:image/jpeg;base64,...' => 'image/jpeg'\n\n          base64 = base64.replace(/^data\\:([^\\;]+)\\;base64,/gmi, '');\n          var binary = atob(base64);\n          var len = binary.length;\n          var buffer = new ArrayBuffer(len);\n          var view = new Uint8Array(buffer);\n\n          for (var i = 0; i < len; i++) {\n            view[i] = binary.charCodeAt(i);\n          }\n\n          return buffer;\n        }\n\n        function objectURLToBlob(url, callback) {\n          var http = new XMLHttpRequest();\n          http.open(\"GET\", url, true);\n          http.responseType = \"blob\";\n\n          http.onload = function (e) {\n            if (this.status == 200 || this.status === 0) {\n              callback(this.response);\n            }\n          };\n\n          http.send();\n        }\n\n        function getImageData(img, callback) {\n          function handleBinaryFile(binFile) {\n            var data = findEXIFinJPEG(binFile);\n            var iptcdata = findIPTCinJPEG(binFile);\n            img.exifdata = data || {};\n            img.iptcdata = iptcdata || {};\n\n            if (callback) {\n              callback.call(img);\n            }\n          }\n\n          if (img.src) {\n            if (/^data\\:/i.test(img.src)) {\n              // Data URI\n              var arrayBuffer = base64ToArrayBuffer(img.src);\n              handleBinaryFile(arrayBuffer);\n            } else if (/^blob\\:/i.test(img.src)) {\n              // Object URL\n              var fileReader = new FileReader();\n\n              fileReader.onload = function (e) {\n                handleBinaryFile(e.target.result);\n              };\n\n              objectURLToBlob(img.src, function (blob) {\n                fileReader.readAsArrayBuffer(blob);\n              });\n            } else {\n              var http = new XMLHttpRequest();\n\n              http.onload = function () {\n                if (this.status == 200 || this.status === 0) {\n                  handleBinaryFile(http.response);\n                } else {\n                  callback(new Error(\"Could not load image\"));\n                }\n\n                http = null;\n              };\n\n              http.open(\"GET\", img.src, true);\n              http.responseType = \"arraybuffer\";\n              http.send(null);\n            }\n          } else if (window.FileReader && (img instanceof window.Blob || img instanceof window.File)) {\n            var fileReader = new FileReader();\n\n            fileReader.onload = function (e) {\n              if (debug) console.log(\"Got file of length \" + e.target.result.byteLength);\n              handleBinaryFile(e.target.result);\n            };\n\n            fileReader.readAsArrayBuffer(img);\n          }\n        }\n\n        function findEXIFinJPEG(file) {\n          var dataView = new DataView(file);\n          if (debug) console.log(\"Got file of length \" + file.byteLength);\n\n          if (dataView.getUint8(0) != 0xFF || dataView.getUint8(1) != 0xD8) {\n            if (debug) console.log(\"Not a valid JPEG\");\n            return false; // not a valid jpeg\n          }\n\n          var offset = 2,\n              length = file.byteLength,\n              marker;\n\n          while (offset < length) {\n            if (dataView.getUint8(offset) != 0xFF) {\n              if (debug) console.log(\"Not a valid marker at offset \" + offset + \", found: \" + dataView.getUint8(offset));\n              return false; // not a valid marker, something is wrong\n            }\n\n            marker = dataView.getUint8(offset + 1);\n            if (debug) console.log(marker); // we could implement handling for other markers here,\n            // but we're only looking for 0xFFE1 for EXIF data\n\n            if (marker == 225) {\n              if (debug) console.log(\"Found 0xFFE1 marker\");\n              return readEXIFData(dataView, offset + 4, dataView.getUint16(offset + 2) - 2); // offset += 2 + file.getShortAt(offset+2, true);\n            } else {\n              offset += 2 + dataView.getUint16(offset + 2);\n            }\n          }\n        }\n\n        function findIPTCinJPEG(file) {\n          var dataView = new DataView(file);\n          if (debug) console.log(\"Got file of length \" + file.byteLength);\n\n          if (dataView.getUint8(0) != 0xFF || dataView.getUint8(1) != 0xD8) {\n            if (debug) console.log(\"Not a valid JPEG\");\n            return false; // not a valid jpeg\n          }\n\n          var offset = 2,\n              length = file.byteLength;\n\n          var isFieldSegmentStart = function isFieldSegmentStart(dataView, offset) {\n            return dataView.getUint8(offset) === 0x38 && dataView.getUint8(offset + 1) === 0x42 && dataView.getUint8(offset + 2) === 0x49 && dataView.getUint8(offset + 3) === 0x4D && dataView.getUint8(offset + 4) === 0x04 && dataView.getUint8(offset + 5) === 0x04;\n          };\n\n          while (offset < length) {\n            if (isFieldSegmentStart(dataView, offset)) {\n              // Get the length of the name header (which is padded to an even number of bytes)\n              var nameHeaderLength = dataView.getUint8(offset + 7);\n              if (nameHeaderLength % 2 !== 0) nameHeaderLength += 1; // Check for pre photoshop 6 format\n\n              if (nameHeaderLength === 0) {\n                // Always 4\n                nameHeaderLength = 4;\n              }\n\n              var startOffset = offset + 8 + nameHeaderLength;\n              var sectionLength = dataView.getUint16(offset + 6 + nameHeaderLength);\n              return readIPTCData(file, startOffset, sectionLength);\n              break;\n            } // Not the marker, continue searching\n\n\n            offset++;\n          }\n        }\n\n        var IptcFieldMap = {\n          0x78: 'caption',\n          0x6E: 'credit',\n          0x19: 'keywords',\n          0x37: 'dateCreated',\n          0x50: 'byline',\n          0x55: 'bylineTitle',\n          0x7A: 'captionWriter',\n          0x69: 'headline',\n          0x74: 'copyright',\n          0x0F: 'category'\n        };\n\n        function readIPTCData(file, startOffset, sectionLength) {\n          var dataView = new DataView(file);\n          var data = {};\n          var fieldValue, fieldName, dataSize, segmentType, segmentSize;\n          var segmentStartPos = startOffset;\n\n          while (segmentStartPos < startOffset + sectionLength) {\n            if (dataView.getUint8(segmentStartPos) === 0x1C && dataView.getUint8(segmentStartPos + 1) === 0x02) {\n              segmentType = dataView.getUint8(segmentStartPos + 2);\n\n              if (segmentType in IptcFieldMap) {\n                dataSize = dataView.getInt16(segmentStartPos + 3);\n                segmentSize = dataSize + 5;\n                fieldName = IptcFieldMap[segmentType];\n                fieldValue = getStringFromDB(dataView, segmentStartPos + 5, dataSize); // Check if we already stored a value with this name\n\n                if (data.hasOwnProperty(fieldName)) {\n                  // Value already stored with this name, create multivalue field\n                  if (data[fieldName] instanceof Array) {\n                    data[fieldName].push(fieldValue);\n                  } else {\n                    data[fieldName] = [data[fieldName], fieldValue];\n                  }\n                } else {\n                  data[fieldName] = fieldValue;\n                }\n              }\n            }\n\n            segmentStartPos++;\n          }\n\n          return data;\n        }\n\n        function readTags(file, tiffStart, dirStart, strings, bigEnd) {\n          var entries = file.getUint16(dirStart, !bigEnd),\n              tags = {},\n              entryOffset,\n              tag,\n              i;\n\n          for (i = 0; i < entries; i++) {\n            entryOffset = dirStart + i * 12 + 2;\n            tag = strings[file.getUint16(entryOffset, !bigEnd)];\n            if (!tag && debug) console.log(\"Unknown tag: \" + file.getUint16(entryOffset, !bigEnd));\n            tags[tag] = readTagValue(file, entryOffset, tiffStart, dirStart, bigEnd);\n          }\n\n          return tags;\n        }\n\n        function readTagValue(file, entryOffset, tiffStart, dirStart, bigEnd) {\n          var type = file.getUint16(entryOffset + 2, !bigEnd),\n              numValues = file.getUint32(entryOffset + 4, !bigEnd),\n              valueOffset = file.getUint32(entryOffset + 8, !bigEnd) + tiffStart,\n              offset,\n              vals,\n              val,\n              n,\n              numerator,\n              denominator;\n\n          switch (type) {\n            case 1: // byte, 8-bit unsigned int\n\n            case 7:\n              // undefined, 8-bit byte, value depending on field\n              if (numValues == 1) {\n                return file.getUint8(entryOffset + 8, !bigEnd);\n              } else {\n                offset = numValues > 4 ? valueOffset : entryOffset + 8;\n                vals = [];\n\n                for (n = 0; n < numValues; n++) {\n                  vals[n] = file.getUint8(offset + n);\n                }\n\n                return vals;\n              }\n\n            case 2:\n              // ascii, 8-bit byte\n              offset = numValues > 4 ? valueOffset : entryOffset + 8;\n              return getStringFromDB(file, offset, numValues - 1);\n\n            case 3:\n              // short, 16 bit int\n              if (numValues == 1) {\n                return file.getUint16(entryOffset + 8, !bigEnd);\n              } else {\n                offset = numValues > 2 ? valueOffset : entryOffset + 8;\n                vals = [];\n\n                for (n = 0; n < numValues; n++) {\n                  vals[n] = file.getUint16(offset + 2 * n, !bigEnd);\n                }\n\n                return vals;\n              }\n\n            case 4:\n              // long, 32 bit int\n              if (numValues == 1) {\n                return file.getUint32(entryOffset + 8, !bigEnd);\n              } else {\n                vals = [];\n\n                for (n = 0; n < numValues; n++) {\n                  vals[n] = file.getUint32(valueOffset + 4 * n, !bigEnd);\n                }\n\n                return vals;\n              }\n\n            case 5:\n              // rational = two long values, first is numerator, second is denominator\n              if (numValues == 1) {\n                numerator = file.getUint32(valueOffset, !bigEnd);\n                denominator = file.getUint32(valueOffset + 4, !bigEnd);\n                val = new Number(numerator / denominator);\n                val.numerator = numerator;\n                val.denominator = denominator;\n                return val;\n              } else {\n                vals = [];\n\n                for (n = 0; n < numValues; n++) {\n                  numerator = file.getUint32(valueOffset + 8 * n, !bigEnd);\n                  denominator = file.getUint32(valueOffset + 4 + 8 * n, !bigEnd);\n                  vals[n] = new Number(numerator / denominator);\n                  vals[n].numerator = numerator;\n                  vals[n].denominator = denominator;\n                }\n\n                return vals;\n              }\n\n            case 9:\n              // slong, 32 bit signed int\n              if (numValues == 1) {\n                return file.getInt32(entryOffset + 8, !bigEnd);\n              } else {\n                vals = [];\n\n                for (n = 0; n < numValues; n++) {\n                  vals[n] = file.getInt32(valueOffset + 4 * n, !bigEnd);\n                }\n\n                return vals;\n              }\n\n            case 10:\n              // signed rational, two slongs, first is numerator, second is denominator\n              if (numValues == 1) {\n                return file.getInt32(valueOffset, !bigEnd) / file.getInt32(valueOffset + 4, !bigEnd);\n              } else {\n                vals = [];\n\n                for (n = 0; n < numValues; n++) {\n                  vals[n] = file.getInt32(valueOffset + 8 * n, !bigEnd) / file.getInt32(valueOffset + 4 + 8 * n, !bigEnd);\n                }\n\n                return vals;\n              }\n\n          }\n        }\n\n        function getStringFromDB(buffer, start, length) {\n          var outstr = \"\",\n              n;\n\n          for (n = start; n < start + length; n++) {\n            outstr += String.fromCharCode(buffer.getUint8(n));\n          }\n\n          return outstr;\n        }\n\n        function readEXIFData(file, start) {\n          if (getStringFromDB(file, start, 4) != \"Exif\") {\n            if (debug) console.log(\"Not valid EXIF data! \" + getStringFromDB(file, start, 4));\n            return false;\n          }\n\n          var bigEnd,\n              tags,\n              tag,\n              exifData,\n              gpsData,\n              tiffOffset = start + 6; // test for TIFF validity and endianness\n\n          if (file.getUint16(tiffOffset) == 0x4949) {\n            bigEnd = false;\n          } else if (file.getUint16(tiffOffset) == 0x4D4D) {\n            bigEnd = true;\n          } else {\n            if (debug) console.log(\"Not valid TIFF data! (no 0x4949 or 0x4D4D)\");\n            return false;\n          }\n\n          if (file.getUint16(tiffOffset + 2, !bigEnd) != 0x002A) {\n            if (debug) console.log(\"Not valid TIFF data! (no 0x002A)\");\n            return false;\n          }\n\n          var firstIFDOffset = file.getUint32(tiffOffset + 4, !bigEnd);\n\n          if (firstIFDOffset < 0x00000008) {\n            if (debug) console.log(\"Not valid TIFF data! (First offset less than 8)\", file.getUint32(tiffOffset + 4, !bigEnd));\n            return false;\n          }\n\n          tags = readTags(file, tiffOffset, tiffOffset + firstIFDOffset, TiffTags, bigEnd);\n\n          if (tags.ExifIFDPointer) {\n            exifData = readTags(file, tiffOffset, tiffOffset + tags.ExifIFDPointer, ExifTags, bigEnd);\n\n            for (tag in exifData) {\n              switch (tag) {\n                case \"LightSource\":\n                case \"Flash\":\n                case \"MeteringMode\":\n                case \"ExposureProgram\":\n                case \"SensingMethod\":\n                case \"SceneCaptureType\":\n                case \"SceneType\":\n                case \"CustomRendered\":\n                case \"WhiteBalance\":\n                case \"GainControl\":\n                case \"Contrast\":\n                case \"Saturation\":\n                case \"Sharpness\":\n                case \"SubjectDistanceRange\":\n                case \"FileSource\":\n                  exifData[tag] = StringValues[tag][exifData[tag]];\n                  break;\n\n                case \"ExifVersion\":\n                case \"FlashpixVersion\":\n                  exifData[tag] = String.fromCharCode(exifData[tag][0], exifData[tag][1], exifData[tag][2], exifData[tag][3]);\n                  break;\n\n                case \"ComponentsConfiguration\":\n                  exifData[tag] = StringValues.Components[exifData[tag][0]] + StringValues.Components[exifData[tag][1]] + StringValues.Components[exifData[tag][2]] + StringValues.Components[exifData[tag][3]];\n                  break;\n              }\n\n              tags[tag] = exifData[tag];\n            }\n          }\n\n          if (tags.GPSInfoIFDPointer) {\n            gpsData = readTags(file, tiffOffset, tiffOffset + tags.GPSInfoIFDPointer, GPSTags, bigEnd);\n\n            for (tag in gpsData) {\n              switch (tag) {\n                case \"GPSVersionID\":\n                  gpsData[tag] = gpsData[tag][0] + \".\" + gpsData[tag][1] + \".\" + gpsData[tag][2] + \".\" + gpsData[tag][3];\n                  break;\n              }\n\n              tags[tag] = gpsData[tag];\n            }\n          }\n\n          return tags;\n        }\n\n        EXIF.getData = function (img, callback) {\n          if ((img instanceof Image || img instanceof HTMLImageElement) && !img.complete) return false;\n\n          if (!imageHasData(img)) {\n            getImageData(img, callback);\n          } else {\n            if (callback) {\n              callback.call(img);\n            }\n          }\n\n          return true;\n        };\n\n        EXIF.getTag = function (img, tag) {\n          if (!imageHasData(img)) return;\n          return img.exifdata[tag];\n        };\n\n        EXIF.getAllTags = function (img) {\n          if (!imageHasData(img)) return {};\n          var a,\n              data = img.exifdata,\n              tags = {};\n\n          for (a in data) {\n            if (data.hasOwnProperty(a)) {\n              tags[a] = data[a];\n            }\n          }\n\n          return tags;\n        };\n\n        EXIF.pretty = function (img) {\n          if (!imageHasData(img)) return \"\";\n          var a,\n              data = img.exifdata,\n              strPretty = \"\";\n\n          for (a in data) {\n            if (data.hasOwnProperty(a)) {\n              if (typeof data[a] == \"object\") {\n                if (data[a] instanceof Number) {\n                  strPretty += a + \" : \" + data[a] + \" [\" + data[a].numerator + \"/\" + data[a].denominator + \"]\\r\\n\";\n                } else {\n                  strPretty += a + \" : [\" + data[a].length + \" values]\\r\\n\";\n                }\n              } else {\n                strPretty += a + \" : \" + data[a] + \"\\r\\n\";\n              }\n            }\n          }\n\n          return strPretty;\n        };\n\n        EXIF.readFromBinaryFile = function (file) {\n          return findEXIFinJPEG(file);\n        };\n\n        if (true) {\n          !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = function () {\n            return EXIF;\n          }.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n        }\n      }).call(this);\n      /***/\n    },\n    /* 7 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;\n      /**\n      * Mega pixel image rendering library for iOS6 Safari\n      *\n      * Fixes iOS6 Safari's image file rendering issue for large size image (over mega-pixel),\n      * which causes unexpected subsampling when drawing it in canvas.\n      * By using this library, you can safely render the image with proper stretching.\n      *\n      * Copyright (c) 2012 Shinichi Tomita <shinichi.tomita@gmail.com>\n      * Released under the MIT license\n      */\n\n\n      (function () {\n        /**\n         * Detect subsampling in loaded image.\n         * In iOS, larger images than 2M pixels may be subsampled in rendering.\n         */\n        function detectSubsampling(img) {\n          var iw = img.naturalWidth,\n              ih = img.naturalHeight;\n\n          if (iw * ih > 1024 * 1024) {\n            // subsampling may happen over megapixel image\n            var canvas = document.createElement('canvas');\n            canvas.width = canvas.height = 1;\n            var ctx = canvas.getContext('2d');\n            ctx.drawImage(img, -iw + 1, 0); // subsampled image becomes half smaller in rendering size.\n            // check alpha channel value to confirm image is covering edge pixel or not.\n            // if alpha value is 0 image is not covering, hence subsampled.\n\n            return ctx.getImageData(0, 0, 1, 1).data[3] === 0;\n          } else {\n            return false;\n          }\n        }\n        /**\n         * Detecting vertical squash in loaded image.\n         * Fixes a bug which squash image vertically while drawing into canvas for some images.\n         */\n\n\n        function detectVerticalSquash(img, iw, ih) {\n          var canvas = document.createElement('canvas');\n          canvas.width = 1;\n          canvas.height = ih;\n          var ctx = canvas.getContext('2d');\n          ctx.drawImage(img, 0, 0);\n          var data = ctx.getImageData(0, 0, 1, ih).data; // search image edge pixel position in case it is squashed vertically.\n\n          var sy = 0;\n          var ey = ih;\n          var py = ih;\n\n          while (py > sy) {\n            var alpha = data[(py - 1) * 4 + 3];\n\n            if (alpha === 0) {\n              ey = py;\n            } else {\n              sy = py;\n            }\n\n            py = ey + sy >> 1;\n          }\n\n          var ratio = py / ih;\n          return ratio === 0 ? 1 : ratio;\n        }\n        /**\n         * Rendering image element (with resizing) and get its data URL\n         */\n\n\n        function renderImageToDataURL(img, options, doSquash) {\n          var canvas = document.createElement('canvas');\n          renderImageToCanvas(img, canvas, options, doSquash);\n          return canvas.toDataURL(\"image/jpeg\", options.quality || 0.8);\n        }\n        /**\n         * Rendering image element (with resizing) into the canvas element\n         */\n\n\n        function renderImageToCanvas(img, canvas, options, doSquash) {\n          var iw = img.naturalWidth,\n              ih = img.naturalHeight;\n          var width = options.width,\n              height = options.height;\n          var ctx = canvas.getContext('2d');\n          ctx.save();\n          transformCoordinate(canvas, ctx, width, height, options.orientation);\n          var subsampled = detectSubsampling(img);\n\n          if (subsampled) {\n            iw /= 2;\n            ih /= 2;\n          }\n\n          var d = 1024; // size of tiling canvas\n\n          var tmpCanvas = document.createElement('canvas');\n          tmpCanvas.width = tmpCanvas.height = d;\n          var tmpCtx = tmpCanvas.getContext('2d');\n          var vertSquashRatio = doSquash ? detectVerticalSquash(img, iw, ih) : 1;\n          var dw = Math.ceil(d * width / iw);\n          var dh = Math.ceil(d * height / ih / vertSquashRatio);\n          var sy = 0;\n          var dy = 0;\n\n          while (sy < ih) {\n            var sx = 0;\n            var dx = 0;\n\n            while (sx < iw) {\n              tmpCtx.clearRect(0, 0, d, d);\n              tmpCtx.drawImage(img, -sx, -sy);\n              ctx.drawImage(tmpCanvas, 0, 0, d, d, dx, dy, dw, dh);\n              sx += d;\n              dx += dw;\n            }\n\n            sy += d;\n            dy += dh;\n          }\n\n          ctx.restore();\n          tmpCanvas = tmpCtx = null;\n        }\n        /**\n         * Transform canvas coordination according to specified frame size and orientation\n         * Orientation value is from EXIF tag\n         */\n\n\n        function transformCoordinate(canvas, ctx, width, height, orientation) {\n          switch (orientation) {\n            case 5:\n            case 6:\n            case 7:\n            case 8:\n              canvas.width = height;\n              canvas.height = width;\n              break;\n\n            default:\n              canvas.width = width;\n              canvas.height = height;\n          }\n\n          switch (orientation) {\n            case 2:\n              // horizontal flip\n              ctx.translate(width, 0);\n              ctx.scale(-1, 1);\n              break;\n\n            case 3:\n              // 180 rotate left\n              ctx.translate(width, height);\n              ctx.rotate(Math.PI);\n              break;\n\n            case 4:\n              // vertical flip\n              ctx.translate(0, height);\n              ctx.scale(1, -1);\n              break;\n\n            case 5:\n              // vertical flip + 90 rotate right\n              ctx.rotate(0.5 * Math.PI);\n              ctx.scale(1, -1);\n              break;\n\n            case 6:\n              // 90 rotate right\n              ctx.rotate(0.5 * Math.PI);\n              ctx.translate(0, -height);\n              break;\n\n            case 7:\n              // horizontal flip + 90 rotate right\n              ctx.rotate(0.5 * Math.PI);\n              ctx.translate(width, -height);\n              ctx.scale(-1, 1);\n              break;\n\n            case 8:\n              // 90 rotate left\n              ctx.rotate(-0.5 * Math.PI);\n              ctx.translate(-width, 0);\n              break;\n\n            default:\n              break;\n          }\n        }\n        /**\n         * MegaPixImage class\n         */\n\n\n        function MegaPixImage(srcImage) {\n          if (window.Blob && srcImage instanceof Blob) {\n            var img = new Image();\n            var URL = window.URL && window.URL.createObjectURL ? window.URL : window.webkitURL && window.webkitURL.createObjectURL ? window.webkitURL : null;\n\n            if (!URL) {\n              throw Error(\"No createObjectURL function found to create blob url\");\n            }\n\n            img.src = URL.createObjectURL(srcImage);\n            this.blob = srcImage;\n            srcImage = img;\n          }\n\n          if (!srcImage.naturalWidth && !srcImage.naturalHeight) {\n            var _this = this;\n\n            srcImage.onload = function () {\n              var listeners = _this.imageLoadListeners;\n\n              if (listeners) {\n                _this.imageLoadListeners = null;\n\n                for (var i = 0, len = listeners.length; i < len; i++) {\n                  listeners[i]();\n                }\n              }\n            };\n\n            this.imageLoadListeners = [];\n          }\n\n          this.srcImage = srcImage;\n        }\n        /**\n         * Rendering megapix image into specified target element\n         */\n\n\n        MegaPixImage.prototype.render = function (target, options, callback) {\n          if (this.imageLoadListeners) {\n            var _this = this;\n\n            this.imageLoadListeners.push(function () {\n              _this.render(target, options, callback);\n            });\n            return;\n          }\n\n          options = options || {};\n          var srcImage = this.srcImage,\n              src = srcImage.src,\n              srcLength = src.length,\n              imgWidth = srcImage.naturalWidth,\n              imgHeight = srcImage.naturalHeight,\n              width = options.width,\n              height = options.height,\n              maxWidth = options.maxWidth,\n              maxHeight = options.maxHeight,\n              doSquash = this.blob && this.blob.type === 'image/jpeg' || src.indexOf('data:image/jpeg') === 0 || src.indexOf('.jpg') === srcLength - 4 || src.indexOf('.jpeg') === srcLength - 5;\n\n          if (width && !height) {\n            height = imgHeight * width / imgWidth << 0;\n          } else if (height && !width) {\n            width = imgWidth * height / imgHeight << 0;\n          } else {\n            width = imgWidth;\n            height = imgHeight;\n          }\n\n          if (maxWidth && width > maxWidth) {\n            width = maxWidth;\n            height = imgHeight * width / imgWidth << 0;\n          }\n\n          if (maxHeight && height > maxHeight) {\n            height = maxHeight;\n            width = imgWidth * height / imgHeight << 0;\n          }\n\n          var opt = {\n            width: width,\n            height: height\n          };\n\n          for (var k in options) {\n            opt[k] = options[k];\n          }\n\n          var tagName = target.tagName.toLowerCase();\n\n          if (tagName === 'img') {\n            target.src = renderImageToDataURL(this.srcImage, opt, doSquash);\n          } else if (tagName === 'canvas') {\n            renderImageToCanvas(this.srcImage, target, opt, doSquash);\n          }\n\n          if (typeof this.onrender === 'function') {\n            this.onrender(target);\n          }\n\n          if (callback) {\n            callback();\n          }\n        };\n        /**\n         * Export class to global\n         */\n\n\n        if (true) {\n          !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = function () {\n            return MegaPixImage;\n          }.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)); // for AMD loader\n        } else {\n          this.MegaPixImage = MegaPixImage;\n        }\n      })();\n      /***/\n\n    },\n    /* 8 */\n\n    /***/\n    function (module, exports) {\n      function JPEGEncoder(l) {\n        var o = this;\n        var s = Math.round;\n        var k = Math.floor;\n        var O = new Array(64);\n        var K = new Array(64);\n        var d = new Array(64);\n        var Z = new Array(64);\n        var u;\n        var h;\n        var G;\n        var T;\n        var n = new Array(65535);\n        var m = new Array(65535);\n        var P = new Array(64);\n        var S = new Array(64);\n        var j = [];\n        var t = 0;\n        var a = 7;\n        var A = new Array(64);\n        var f = new Array(64);\n        var U = new Array(64);\n        var e = new Array(256);\n        var C = new Array(2048);\n        var x;\n        var i = [0, 1, 5, 6, 14, 15, 27, 28, 2, 4, 7, 13, 16, 26, 29, 42, 3, 8, 12, 17, 25, 30, 41, 43, 9, 11, 18, 24, 31, 40, 44, 53, 10, 19, 23, 32, 39, 45, 52, 54, 20, 22, 33, 38, 46, 51, 55, 60, 21, 34, 37, 47, 50, 56, 59, 61, 35, 36, 48, 49, 57, 58, 62, 63];\n        var g = [0, 0, 1, 5, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0];\n        var c = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11];\n        var w = [0, 0, 2, 1, 3, 3, 2, 4, 3, 5, 5, 4, 4, 0, 0, 1, 125];\n        var E = [1, 2, 3, 0, 4, 17, 5, 18, 33, 49, 65, 6, 19, 81, 97, 7, 34, 113, 20, 50, 129, 145, 161, 8, 35, 66, 177, 193, 21, 82, 209, 240, 36, 51, 98, 114, 130, 9, 10, 22, 23, 24, 25, 26, 37, 38, 39, 40, 41, 42, 52, 53, 54, 55, 56, 57, 58, 67, 68, 69, 70, 71, 72, 73, 74, 83, 84, 85, 86, 87, 88, 89, 90, 99, 100, 101, 102, 103, 104, 105, 106, 115, 116, 117, 118, 119, 120, 121, 122, 131, 132, 133, 134, 135, 136, 137, 138, 146, 147, 148, 149, 150, 151, 152, 153, 154, 162, 163, 164, 165, 166, 167, 168, 169, 170, 178, 179, 180, 181, 182, 183, 184, 185, 186, 194, 195, 196, 197, 198, 199, 200, 201, 202, 210, 211, 212, 213, 214, 215, 216, 217, 218, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250];\n        var v = [0, 0, 3, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0];\n        var Y = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11];\n        var J = [0, 0, 2, 1, 2, 4, 4, 3, 4, 7, 5, 4, 4, 0, 1, 2, 119];\n        var B = [0, 1, 2, 3, 17, 4, 5, 33, 49, 6, 18, 65, 81, 7, 97, 113, 19, 34, 50, 129, 8, 20, 66, 145, 161, 177, 193, 9, 35, 51, 82, 240, 21, 98, 114, 209, 10, 22, 36, 52, 225, 37, 241, 23, 24, 25, 26, 38, 39, 40, 41, 42, 53, 54, 55, 56, 57, 58, 67, 68, 69, 70, 71, 72, 73, 74, 83, 84, 85, 86, 87, 88, 89, 90, 99, 100, 101, 102, 103, 104, 105, 106, 115, 116, 117, 118, 119, 120, 121, 122, 130, 131, 132, 133, 134, 135, 136, 137, 138, 146, 147, 148, 149, 150, 151, 152, 153, 154, 162, 163, 164, 165, 166, 167, 168, 169, 170, 178, 179, 180, 181, 182, 183, 184, 185, 186, 194, 195, 196, 197, 198, 199, 200, 201, 202, 210, 211, 212, 213, 214, 215, 216, 217, 218, 226, 227, 228, 229, 230, 231, 232, 233, 234, 242, 243, 244, 245, 246, 247, 248, 249, 250];\n\n        function M(ag) {\n          var af = [16, 11, 10, 16, 24, 40, 51, 61, 12, 12, 14, 19, 26, 58, 60, 55, 14, 13, 16, 24, 40, 57, 69, 56, 14, 17, 22, 29, 51, 87, 80, 62, 18, 22, 37, 56, 68, 109, 103, 77, 24, 35, 55, 64, 81, 104, 113, 92, 49, 64, 78, 87, 103, 121, 120, 101, 72, 92, 95, 98, 112, 100, 103, 99];\n\n          for (var ae = 0; ae < 64; ae++) {\n            var aj = k((af[ae] * ag + 50) / 100);\n\n            if (aj < 1) {\n              aj = 1;\n            } else {\n              if (aj > 255) {\n                aj = 255;\n              }\n            }\n\n            O[i[ae]] = aj;\n          }\n\n          var ah = [17, 18, 24, 47, 99, 99, 99, 99, 18, 21, 26, 66, 99, 99, 99, 99, 24, 26, 56, 99, 99, 99, 99, 99, 47, 66, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99];\n\n          for (var ad = 0; ad < 64; ad++) {\n            var ai = k((ah[ad] * ag + 50) / 100);\n\n            if (ai < 1) {\n              ai = 1;\n            } else {\n              if (ai > 255) {\n                ai = 255;\n              }\n            }\n\n            K[i[ad]] = ai;\n          }\n\n          var ac = [1, 1.387039845, 1.306562965, 1.175875602, 1, 0.785694958, 0.5411961, 0.275899379];\n          var ab = 0;\n\n          for (var ak = 0; ak < 8; ak++) {\n            for (var aa = 0; aa < 8; aa++) {\n              d[ab] = 1 / (O[i[ab]] * ac[ak] * ac[aa] * 8);\n              Z[ab] = 1 / (K[i[ab]] * ac[ak] * ac[aa] * 8);\n              ab++;\n            }\n          }\n        }\n\n        function q(ae, aa) {\n          var ad = 0;\n          var ag = 0;\n          var af = new Array();\n\n          for (var ab = 1; ab <= 16; ab++) {\n            for (var ac = 1; ac <= ae[ab]; ac++) {\n              af[aa[ag]] = [];\n              af[aa[ag]][0] = ad;\n              af[aa[ag]][1] = ab;\n              ag++;\n              ad++;\n            }\n\n            ad *= 2;\n          }\n\n          return af;\n        }\n\n        function W() {\n          u = q(g, c);\n          h = q(v, Y);\n          G = q(w, E);\n          T = q(J, B);\n        }\n\n        function z() {\n          var ac = 1;\n          var ab = 2;\n\n          for (var aa = 1; aa <= 15; aa++) {\n            for (var ad = ac; ad < ab; ad++) {\n              m[32767 + ad] = aa;\n              n[32767 + ad] = [];\n              n[32767 + ad][1] = aa;\n              n[32767 + ad][0] = ad;\n            }\n\n            for (var ae = -(ab - 1); ae <= -ac; ae++) {\n              m[32767 + ae] = aa;\n              n[32767 + ae] = [];\n              n[32767 + ae][1] = aa;\n              n[32767 + ae][0] = ab - 1 + ae;\n            }\n\n            ac <<= 1;\n            ab <<= 1;\n          }\n        }\n\n        function V() {\n          for (var aa = 0; aa < 256; aa++) {\n            C[aa] = 19595 * aa;\n            C[aa + 256 >> 0] = 38470 * aa;\n            C[aa + 512 >> 0] = 7471 * aa + 32768;\n            C[aa + 768 >> 0] = -11059 * aa;\n            C[aa + 1024 >> 0] = -21709 * aa;\n            C[aa + 1280 >> 0] = 32768 * aa + 8421375;\n            C[aa + 1536 >> 0] = -27439 * aa;\n            C[aa + 1792 >> 0] = -5329 * aa;\n          }\n        }\n\n        function X(aa) {\n          var ac = aa[0];\n          var ab = aa[1] - 1;\n\n          while (ab >= 0) {\n            if (ac & 1 << ab) {\n              t |= 1 << a;\n            }\n\n            ab--;\n            a--;\n\n            if (a < 0) {\n              if (t == 255) {\n                F(255);\n                F(0);\n              } else {\n                F(t);\n              }\n\n              a = 7;\n              t = 0;\n            }\n          }\n        }\n\n        function F(aa) {\n          j.push(e[aa]);\n        }\n\n        function p(aa) {\n          F(aa >> 8 & 255);\n          F(aa & 255);\n        }\n\n        function N(aZ, ap) {\n          var aL, aK, aJ, aI, aH, aD, aC, aB;\n          var aN = 0;\n          var aR;\n          var aq = 8;\n          var ai = 64;\n\n          for (aR = 0; aR < aq; ++aR) {\n            aL = aZ[aN];\n            aK = aZ[aN + 1];\n            aJ = aZ[aN + 2];\n            aI = aZ[aN + 3];\n            aH = aZ[aN + 4];\n            aD = aZ[aN + 5];\n            aC = aZ[aN + 6];\n            aB = aZ[aN + 7];\n            var aY = aL + aB;\n            var aO = aL - aB;\n            var aX = aK + aC;\n            var aP = aK - aC;\n            var aU = aJ + aD;\n            var aQ = aJ - aD;\n            var aT = aI + aH;\n            var aS = aI - aH;\n            var an = aY + aT;\n            var ak = aY - aT;\n            var am = aX + aU;\n            var al = aX - aU;\n            aZ[aN] = an + am;\n            aZ[aN + 4] = an - am;\n            var ax = (al + ak) * 0.707106781;\n            aZ[aN + 2] = ak + ax;\n            aZ[aN + 6] = ak - ax;\n            an = aS + aQ;\n            am = aQ + aP;\n            al = aP + aO;\n            var at = (an - al) * 0.382683433;\n            var aw = 0.5411961 * an + at;\n            var au = 1.306562965 * al + at;\n            var av = am * 0.707106781;\n            var ah = aO + av;\n            var ag = aO - av;\n            aZ[aN + 5] = ag + aw;\n            aZ[aN + 3] = ag - aw;\n            aZ[aN + 1] = ah + au;\n            aZ[aN + 7] = ah - au;\n            aN += 8;\n          }\n\n          aN = 0;\n\n          for (aR = 0; aR < aq; ++aR) {\n            aL = aZ[aN];\n            aK = aZ[aN + 8];\n            aJ = aZ[aN + 16];\n            aI = aZ[aN + 24];\n            aH = aZ[aN + 32];\n            aD = aZ[aN + 40];\n            aC = aZ[aN + 48];\n            aB = aZ[aN + 56];\n            var ar = aL + aB;\n            var aj = aL - aB;\n            var az = aK + aC;\n            var ae = aK - aC;\n            var aG = aJ + aD;\n            var ac = aJ - aD;\n            var aW = aI + aH;\n            var aa = aI - aH;\n            var ao = ar + aW;\n            var aV = ar - aW;\n            var ay = az + aG;\n            var aF = az - aG;\n            aZ[aN] = ao + ay;\n            aZ[aN + 32] = ao - ay;\n            var af = (aF + aV) * 0.707106781;\n            aZ[aN + 16] = aV + af;\n            aZ[aN + 48] = aV - af;\n            ao = aa + ac;\n            ay = ac + ae;\n            aF = ae + aj;\n            var aM = (ao - aF) * 0.382683433;\n            var ad = 0.5411961 * ao + aM;\n            var a1 = 1.306562965 * aF + aM;\n            var ab = ay * 0.707106781;\n            var a0 = aj + ab;\n            var aA = aj - ab;\n            aZ[aN + 40] = aA + ad;\n            aZ[aN + 24] = aA - ad;\n            aZ[aN + 8] = a0 + a1;\n            aZ[aN + 56] = a0 - a1;\n            aN++;\n          }\n\n          var aE;\n\n          for (aR = 0; aR < ai; ++aR) {\n            aE = aZ[aR] * ap[aR];\n            P[aR] = aE > 0 ? aE + 0.5 | 0 : aE - 0.5 | 0;\n          }\n\n          return P;\n        }\n\n        function b() {\n          p(65504);\n          p(16);\n          F(74);\n          F(70);\n          F(73);\n          F(70);\n          F(0);\n          F(1);\n          F(1);\n          F(0);\n          p(1);\n          p(1);\n          F(0);\n          F(0);\n        }\n\n        function r(aa, ab) {\n          p(65472);\n          p(17);\n          F(8);\n          p(ab);\n          p(aa);\n          F(3);\n          F(1);\n          F(17);\n          F(0);\n          F(2);\n          F(17);\n          F(1);\n          F(3);\n          F(17);\n          F(1);\n        }\n\n        function D() {\n          p(65499);\n          p(132);\n          F(0);\n\n          for (var ab = 0; ab < 64; ab++) {\n            F(O[ab]);\n          }\n\n          F(1);\n\n          for (var aa = 0; aa < 64; aa++) {\n            F(K[aa]);\n          }\n        }\n\n        function H() {\n          p(65476);\n          p(418);\n          F(0);\n\n          for (var ae = 0; ae < 16; ae++) {\n            F(g[ae + 1]);\n          }\n\n          for (var ad = 0; ad <= 11; ad++) {\n            F(c[ad]);\n          }\n\n          F(16);\n\n          for (var ac = 0; ac < 16; ac++) {\n            F(w[ac + 1]);\n          }\n\n          for (var ab = 0; ab <= 161; ab++) {\n            F(E[ab]);\n          }\n\n          F(1);\n\n          for (var aa = 0; aa < 16; aa++) {\n            F(v[aa + 1]);\n          }\n\n          for (var ah = 0; ah <= 11; ah++) {\n            F(Y[ah]);\n          }\n\n          F(17);\n\n          for (var ag = 0; ag < 16; ag++) {\n            F(J[ag + 1]);\n          }\n\n          for (var af = 0; af <= 161; af++) {\n            F(B[af]);\n          }\n        }\n\n        function I() {\n          p(65498);\n          p(12);\n          F(3);\n          F(1);\n          F(0);\n          F(2);\n          F(17);\n          F(3);\n          F(17);\n          F(0);\n          F(63);\n          F(0);\n        }\n\n        function L(ad, aa, al, at, ap) {\n          var ag = ap[0];\n          var ab = ap[240];\n          var ac;\n          var ar = 16;\n          var ai = 63;\n          var ah = 64;\n          var aq = N(ad, aa);\n\n          for (var am = 0; am < ah; ++am) {\n            S[i[am]] = aq[am];\n          }\n\n          var an = S[0] - al;\n          al = S[0];\n\n          if (an == 0) {\n            X(at[0]);\n          } else {\n            ac = 32767 + an;\n            X(at[m[ac]]);\n            X(n[ac]);\n          }\n\n          var ae = 63;\n\n          for (; ae > 0 && S[ae] == 0; ae--) {}\n\n          if (ae == 0) {\n            X(ag);\n            return al;\n          }\n\n          var ao = 1;\n          var au;\n\n          while (ao <= ae) {\n            var ak = ao;\n\n            for (; S[ao] == 0 && ao <= ae; ++ao) {}\n\n            var aj = ao - ak;\n\n            if (aj >= ar) {\n              au = aj >> 4;\n\n              for (var af = 1; af <= au; ++af) {\n                X(ab);\n              }\n\n              aj = aj & 15;\n            }\n\n            ac = 32767 + S[ao];\n            X(ap[(aj << 4) + m[ac]]);\n            X(n[ac]);\n            ao++;\n          }\n\n          if (ae != ai) {\n            X(ag);\n          }\n\n          return al;\n        }\n\n        function y() {\n          var ab = String.fromCharCode;\n\n          for (var aa = 0; aa < 256; aa++) {\n            e[aa] = ab(aa);\n          }\n        }\n\n        this.encode = function (an, aj, aB) {\n          var aa = new Date().getTime();\n\n          if (aj) {\n            R(aj);\n          }\n\n          j = new Array();\n          t = 0;\n          a = 7;\n          p(65496);\n          b();\n          D();\n          r(an.width, an.height);\n          H();\n          I();\n          var al = 0;\n          var aq = 0;\n          var ao = 0;\n          t = 0;\n          a = 7;\n          this.encode.displayName = \"_encode_\";\n          var at = an.data;\n          var ar = an.width;\n          var aA = an.height;\n          var ay = ar * 4;\n          var ai = ar * 3;\n          var ah,\n              ag = 0;\n          var am, ax, az;\n          var ab, ap, ac, af, ae;\n\n          while (ag < aA) {\n            ah = 0;\n\n            while (ah < ay) {\n              ab = ay * ag + ah;\n              ap = ab;\n              ac = -1;\n              af = 0;\n\n              for (ae = 0; ae < 64; ae++) {\n                af = ae >> 3;\n                ac = (ae & 7) * 4;\n                ap = ab + af * ay + ac;\n\n                if (ag + af >= aA) {\n                  ap -= ay * (ag + 1 + af - aA);\n                }\n\n                if (ah + ac >= ay) {\n                  ap -= ah + ac - ay + 4;\n                }\n\n                am = at[ap++];\n                ax = at[ap++];\n                az = at[ap++];\n                A[ae] = (C[am] + C[ax + 256 >> 0] + C[az + 512 >> 0] >> 16) - 128;\n                f[ae] = (C[am + 768 >> 0] + C[ax + 1024 >> 0] + C[az + 1280 >> 0] >> 16) - 128;\n                U[ae] = (C[am + 1280 >> 0] + C[ax + 1536 >> 0] + C[az + 1792 >> 0] >> 16) - 128;\n              }\n\n              al = L(A, d, al, u, G);\n              aq = L(f, Z, aq, h, T);\n              ao = L(U, Z, ao, h, T);\n              ah += 32;\n            }\n\n            ag += 8;\n          }\n\n          if (a >= 0) {\n            var aw = [];\n            aw[1] = a + 1;\n            aw[0] = (1 << a + 1) - 1;\n            X(aw);\n          }\n\n          p(65497);\n\n          if (aB) {\n            var av = j.length;\n            var aC = new Uint8Array(av);\n\n            for (var au = 0; au < av; au++) {\n              aC[au] = j[au].charCodeAt();\n            }\n\n            j = [];\n            var ak = new Date().getTime() - aa;\n            return aC;\n          }\n\n          var ad = \"data:image/jpeg;base64,\" + btoa(j.join(\"\"));\n          j = [];\n          var ak = new Date().getTime() - aa;\n          return ad;\n        };\n\n        function R(ab) {\n          if (ab <= 0) {\n            ab = 1;\n          }\n\n          if (ab > 100) {\n            ab = 100;\n          }\n\n          if (x == ab) {\n            return;\n          }\n\n          var aa = 0;\n\n          if (ab < 50) {\n            aa = Math.floor(5000 / ab);\n          } else {\n            aa = Math.floor(200 - ab * 2);\n          }\n\n          M(aa);\n          x = ab;\n        }\n\n        function Q() {\n          var aa = new Date().getTime();\n\n          if (!l) {\n            l = 50;\n          }\n\n          y();\n          W();\n          z();\n          V();\n          R(l);\n          var ab = new Date().getTime() - aa;\n        }\n\n        Q();\n      }\n\n      module.exports = JPEGEncoder;\n      /***/\n    },\n    /* 9 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      // 保证按需加载的文件路径正确\n      __webpack_require__.p = getJsDir('lrz') + '/';\n      window.URL = window.URL || window.webkitURL;\n\n      var Promise = __webpack_require__(1),\n          BlobFormDataShim = __webpack_require__(5),\n          exif = __webpack_require__(6);\n\n      var UA = function (userAgent) {\n        var ISOldIOS = /OS (.*) like Mac OS X/g.exec(userAgent),\n            isOldAndroid = /Android (\\d.*?);/g.exec(userAgent) || /Android\\/(\\d.*?) /g.exec(userAgent); // 判断设备是否是IOS7以下\n        // 判断设备是否是android4.5以下\n        // 判断是否iOS\n        // 判断是否android\n        // 判断是否QQ浏览器\n\n        var IOS_VERSION = ISOldIOS ? +ISOldIOS.pop().replace(/-/g, '.') : 0;\n        return {\n          oldIOS: ISOldIOS ? IOS_VERSION < 8 : false,\n          newIOS: ISOldIOS ? IOS_VERSION >= 13 : false,\n          oldAndroid: isOldAndroid ? +isOldAndroid.pop().substr(0, 3) < 4.5 : false,\n          iOS: /\\(i[^;]+;( U;)? CPU.+Mac OS X/.test(userAgent),\n          android: /Android/g.test(userAgent),\n          mQQBrowser: /MQQBrowser/g.test(userAgent)\n        };\n      }(navigator.userAgent);\n\n      function Lrz(file, opts) {\n        var that = this;\n        if (!file) throw new Error('没有收到图片，可能的解决方案：https://github.com/think2011/localResizeIMG/issues/7');\n        opts = opts || {};\n        that.defaults = {\n          width: null,\n          height: null,\n          fieldName: 'file',\n          ingnoreOrientation: UA.iOS ? UA.newIOS : true,\n          quality: 0.7\n        };\n        that.file = file;\n\n        for (var p in opts) {\n          if (!opts.hasOwnProperty(p)) continue;\n          that.defaults[p] = opts[p];\n        }\n\n        return this.init();\n      }\n\n      Lrz.prototype.init = function () {\n        var that = this,\n            file = that.file,\n            fileIsString = typeof file === 'string',\n            fileIsBase64 = /^data:/.test(file),\n            img = new Image(),\n            canvas = document.createElement('canvas'),\n            blob = fileIsString ? file : URL.createObjectURL(file);\n        that.img = img;\n        that.blob = blob;\n        that.canvas = canvas;\n\n        if (fileIsString) {\n          that.fileName = fileIsBase64 ? 'base64.jpg' : file.split('/').pop();\n        } else {\n          that.fileName = file.name;\n        }\n\n        if (!document.createElement('canvas').getContext) {\n          throw new Error('浏览器不支持canvas');\n        }\n\n        return new Promise(function (resolve, reject) {\n          img.onerror = function () {\n            var err = new Error('加载图片文件失败');\n            reject(err);\n            throw err;\n          };\n\n          img.onload = function () {\n            that._getBase64().then(function (base64) {\n              if (base64.length < 10) {\n                var err = new Error('生成base64失败');\n                reject(err);\n                throw err;\n              }\n\n              return base64;\n            }).then(function (base64) {\n              var formData = null; // 压缩文件太大就采用源文件,且使用原生的FormData() @source #55\n\n              if (typeof that.file === 'object' && base64.length > that.file.size) {\n                formData = new FormData();\n                file = that.file;\n              } else {\n                formData = new BlobFormDataShim.FormData();\n                file = dataURItoBlob(base64);\n              }\n\n              formData.append(that.defaults.fieldName, file, that.fileName.replace(/\\..+/g, '.jpg'));\n              resolve({\n                formData: formData,\n                fileLen: +file.size,\n                base64: base64,\n                base64Len: base64.length,\n                origin: that.file,\n                file: file\n              }); // 释放内存\n\n              for (var p in that) {\n                if (!that.hasOwnProperty(p)) continue;\n                that[p] = null;\n              }\n\n              URL.revokeObjectURL(that.blob);\n            });\n          }; // 如果传入的是base64在移动端会报错\n\n\n          !fileIsBase64 && (img.crossOrigin = \"*\");\n          img.src = blob;\n        });\n      };\n\n      Lrz.prototype._getBase64 = function () {\n        var that = this,\n            img = that.img,\n            file = that.file,\n            canvas = that.canvas;\n        return new Promise(function (resolve) {\n          try {\n            // 传入blob在android4.3以下有bug\n            exif.getData(typeof file === 'object' ? file : img, function () {\n              that.orientation = that.defaults.ingnoreOrientation ? 0 : exif.getTag(this, \"Orientation\");\n              that.resize = that._getResize();\n              that.ctx = canvas.getContext('2d');\n              canvas.width = that.resize.width;\n              canvas.height = that.resize.height; // 设置为白色背景，jpg是不支持透明的，所以会被默认为canvas默认的黑色背景。\n\n              that.ctx.fillStyle = '#fff';\n              that.ctx.fillRect(0, 0, canvas.width, canvas.height); // 根据设备对应处理方式\n\n              if (UA.oldIOS) {\n                that._createBase64ForOldIOS().then(resolve);\n              } else {\n                that._createBase64().then(resolve);\n              }\n            });\n          } catch (err) {\n            // 这样能解决低内存设备闪退的问题吗？\n            throw new Error(err);\n          }\n        });\n      };\n\n      Lrz.prototype._createBase64ForOldIOS = function () {\n        var that = this,\n            img = that.img,\n            canvas = that.canvas,\n            defaults = that.defaults,\n            orientation = that.orientation;\n        return new Promise(function (resolve) {\n          !\n          /* require */\n\n          /* empty */\n          function () {\n            var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(7)];\n            (function (MegaPixImage) {\n              var mpImg = new MegaPixImage(img);\n\n              if (\"5678\".indexOf(orientation) > -1) {\n                mpImg.render(canvas, {\n                  width: canvas.height,\n                  height: canvas.width,\n                  orientation: orientation\n                });\n              } else {\n                mpImg.render(canvas, {\n                  width: canvas.width,\n                  height: canvas.height,\n                  orientation: orientation\n                });\n              }\n\n              resolve(canvas.toDataURL('image/jpeg', defaults.quality));\n            }).apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__);\n          }();\n        });\n      };\n\n      Lrz.prototype._createBase64 = function () {\n        var that = this,\n            resize = that.resize,\n            img = that.img,\n            canvas = that.canvas,\n            ctx = that.ctx,\n            defaults = that.defaults,\n            orientation = that.orientation; // 调整为正确方向\n\n        switch (orientation) {\n          case 3:\n            ctx.rotate(180 * Math.PI / 180);\n            ctx.drawImage(img, -resize.width, -resize.height, resize.width, resize.height);\n            break;\n\n          case 6:\n            ctx.rotate(90 * Math.PI / 180);\n            ctx.drawImage(img, 0, -resize.width, resize.height, resize.width);\n            break;\n\n          case 8:\n            ctx.rotate(270 * Math.PI / 180);\n            ctx.drawImage(img, -resize.height, 0, resize.height, resize.width);\n            break;\n\n          case 2:\n            ctx.translate(resize.width, 0);\n            ctx.scale(-1, 1);\n            ctx.drawImage(img, 0, 0, resize.width, resize.height);\n            break;\n\n          case 4:\n            ctx.translate(resize.width, 0);\n            ctx.scale(-1, 1);\n            ctx.rotate(180 * Math.PI / 180);\n            ctx.drawImage(img, -resize.width, -resize.height, resize.width, resize.height);\n            break;\n\n          case 5:\n            ctx.translate(resize.width, 0);\n            ctx.scale(-1, 1);\n            ctx.rotate(90 * Math.PI / 180);\n            ctx.drawImage(img, 0, -resize.width, resize.height, resize.width);\n            break;\n\n          case 7:\n            ctx.translate(resize.width, 0);\n            ctx.scale(-1, 1);\n            ctx.rotate(270 * Math.PI / 180);\n            ctx.drawImage(img, -resize.height, 0, resize.height, resize.width);\n            break;\n\n          default:\n            ctx.drawImage(img, 0, 0, resize.width, resize.height);\n        }\n\n        return new Promise(function (resolve) {\n          if (UA.oldAndroid || UA.mQQBrowser || !navigator.userAgent) {\n            !\n            /* require */\n\n            /* empty */\n            function () {\n              var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(8)];\n              (function (JPEGEncoder) {\n                var encoder = new JPEGEncoder(),\n                    img = ctx.getImageData(0, 0, canvas.width, canvas.height);\n                resolve(encoder.encode(img, defaults.quality * 100));\n              }).apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__);\n            }();\n          } else {\n            resolve(canvas.toDataURL('image/jpeg', defaults.quality));\n          }\n        });\n      };\n\n      Lrz.prototype._getResize = function () {\n        var that = this,\n            img = that.img,\n            defaults = that.defaults,\n            width = defaults.width,\n            height = defaults.height,\n            orientation = that.orientation;\n        var ret = {\n          width: img.width,\n          height: img.height\n        };\n\n        if (\"5678\".indexOf(orientation) > -1) {\n          ret.width = img.height;\n          ret.height = img.width;\n        } // 如果原图小于设定，采用原图\n\n\n        if (ret.width < width || ret.height < height) {\n          return ret;\n        }\n\n        var scale = ret.width / ret.height;\n\n        if (width && height) {\n          if (scale >= width / height) {\n            if (ret.width > width) {\n              ret.width = width;\n              ret.height = Math.ceil(width / scale);\n            }\n          } else {\n            if (ret.height > height) {\n              ret.height = height;\n              ret.width = Math.ceil(height * scale);\n            }\n          }\n        } else if (width) {\n          if (width < ret.width) {\n            ret.width = width;\n            ret.height = Math.ceil(width / scale);\n          }\n        } else if (height) {\n          if (height < ret.height) {\n            ret.width = Math.ceil(height * scale);\n            ret.height = height;\n          }\n        } // 超过这个值base64无法生成，在IOS上\n\n\n        while (ret.width >= 3264 || ret.height >= 2448) {\n          ret.width *= 0.8;\n          ret.height *= 0.8;\n        }\n\n        return ret;\n      };\n      /**\n       * 获取当前js文件所在路径，必须得在代码顶部执行此函数\n       * @returns {string}\n       */\n\n\n      function getJsDir(src) {\n        var script = null;\n\n        if (src) {\n          script = [].filter.call(document.scripts, function (v) {\n            return v.src.indexOf(src) !== -1;\n          })[0];\n        } else {\n          script = document.scripts[document.scripts.length - 1];\n        }\n\n        if (!script) return null;\n        return script.src.substr(0, script.src.lastIndexOf('/'));\n      }\n      /**\n       * 转换成formdata\n       * @param dataURI\n       * @returns {*}\n       *\n       * @source http://stackoverflow.com/questions/4998908/convert-data-uri-to-file-then-append-to-formdata\n       */\n\n\n      function dataURItoBlob(dataURI) {\n        // convert base64/URLEncoded data component to raw binary data held in a string\n        var byteString;\n        if (dataURI.split(',')[0].indexOf('base64') >= 0) byteString = atob(dataURI.split(',')[1]);else byteString = unescape(dataURI.split(',')[1]); // separate out the mime component\n\n        var mimeString = dataURI.split(',')[0].split(':')[1].split(';')[0]; // write the bytes of the string to a typed array\n\n        var ia = new Uint8Array(byteString.length);\n\n        for (var i = 0; i < byteString.length; i++) {\n          ia[i] = byteString.charCodeAt(i);\n        }\n\n        return new BlobFormDataShim.Blob([ia.buffer], {\n          type: mimeString\n        });\n      }\n\n      window.lrz = function (file, opts) {\n        return new Lrz(file, opts);\n      }; // 版本号来自package.json，构建时自动填充\n\n\n      window.lrz.version = '__packageJSON.version__';\n      module.exports = window.lrz;\n      /**\n       *\n       * 　　　┏┓　　　┏┓\n       * 　　┏┛┻━━━┛┻┓\n       * 　　┃　　　　　　　┃\n       * 　　┃　　　━　　　┃\n       * 　　┃　┳┛　┗┳　┃\n       * 　　┃　　　　　　　┃\n       * 　　┃　　　┻　　　┃\n       * 　　┃　　　　　　　┃\n       * 　　┗━┓　　　┏━┛Code is far away from bug with the animal protecting\n       * 　　　　┃　　　┃    神兽保佑,代码无bug\n       * 　　　　┃　　　┃\n       * 　　　　┃　　　┗━━━┓\n       * 　　　　┃　　　　　 ┣┓\n       * 　　　　┃　　　　 ┏┛\n       * 　　　　┗┓┓┏━┳┓┏┛\n       * 　　　　　┃┫┫　┃┫┫\n       * 　　　　　┗┻┛　┗┻┛\n       *\n       */\n\n      /***/\n    }\n    /******/\n    ])\n  );\n});\n\n;","map":{"version":3,"sources":["/Users/yuanfang/Downloads/Telegram Desktop/封存/advisory-h5/node_modules/lrz/dist/lrz.all.bundle.js"],"names":["webpackUniversalModuleDefinition","root","factory","exports","module","define","amd","a","i","modules","installedModules","__webpack_require__","moduleId","id","loaded","call","m","c","p","setImmediate","asap","fn","setTimeout","bind","thisArg","apply","arguments","isArray","Array","value","Object","prototype","toString","Promise","TypeError","_state","_value","_deferreds","doResolve","resolve","reject","handle","deferred","me","push","cb","onFulfilled","onRejected","ret","e","newValue","then","finale","len","length","Handler","done","reason","ex","all","args","slice","remaining","res","val","constructor","race","values","_setImmediateFn","always","callback","global","scope","self","window","Function","Timeout","clearTimeout","setInterval","clearInterval","timeout","close","clearFn","_id","_clearFn","unref","ref","enroll","item","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","active","onTimeout","_onTimeout","clearImmediate","process","undefined","nextHandle","tasksByHandle","currentlyRunningATask","doc","document","registerImmediate","task","run","runIfPresent","installNextTickImplementation","nextTick","canUsePostMessage","postMessage","importScripts","postMessageIsAsynchronous","oldOnMessage","onmessage","installPostMessageImplementation","messagePrefix","Math","random","onGlobalMessage","event","source","data","indexOf","addEventListener","attachEvent","installMessageChannelImplementation","channel","MessageChannel","port1","port2","installReadyStateChangeImplementation","html","documentElement","script","createElement","onreadystatechange","removeChild","appendChild","installSetTimeoutImplementation","attachTo","getPrototypeOf","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","Error","defaultClearTimeout","runTimeout","fun","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","concat","drainQueue","Item","array","title","browser","env","argv","version","versions","noop","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","name","binding","cwd","chdir","dir","umask","BlobConstructor","Blob","parts","opts","bb","BlobBuilder","WebKitBlobBuilder","MSBlobBuilder","MozBlobBuilder","forEach","append","getBlob","type","hasFormDataBug","bCheck","navigator","userAgent","vendor","match","pop","test","FormDataShim","formDataShimNums","o","boundary","join","Date","oldSend","XMLHttpRequest","send","getParts","filename","fr","oXHR","FileReader","onload","result","onerror","err","readAsArrayBuffer","setRequestHeader","create","FormData","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","debug","EXIF","obj","EXIFwrapped","ExifTags","Tags","TiffTags","GPSTags","StringValues","ExposureProgram","MeteringMode","LightSource","Flash","SensingMethod","SceneCaptureType","SceneType","CustomRendered","WhiteBalance","GainControl","Contrast","Saturation","Sharpness","SubjectDistanceRange","FileSource","Components","addEvent","element","handler","imageHasData","img","exifdata","base64ToArrayBuffer","base64","contentType","replace","binary","atob","buffer","ArrayBuffer","view","Uint8Array","charCodeAt","objectURLToBlob","url","http","open","responseType","status","response","getImageData","handleBinaryFile","binFile","findEXIFinJPEG","iptcdata","findIPTCinJPEG","src","arrayBuffer","fileReader","target","blob","File","console","log","byteLength","file","dataView","DataView","getUint8","offset","readEXIFData","getUint16","isFieldSegmentStart","nameHeaderLength","startOffset","sectionLength","readIPTCData","IptcFieldMap","fieldValue","fieldName","dataSize","segmentType","segmentSize","segmentStartPos","getInt16","getStringFromDB","hasOwnProperty","readTags","tiffStart","dirStart","strings","bigEnd","entries","tags","entryOffset","tag","readTagValue","numValues","getUint32","valueOffset","vals","n","numerator","denominator","Number","getInt32","start","outstr","String","fromCharCode","exifData","gpsData","tiffOffset","firstIFDOffset","ExifIFDPointer","GPSInfoIFDPointer","getData","Image","HTMLImageElement","complete","getTag","getAllTags","pretty","strPretty","readFromBinaryFile","detectSubsampling","iw","naturalWidth","ih","naturalHeight","canvas","width","height","ctx","getContext","drawImage","detectVerticalSquash","sy","ey","py","alpha","ratio","renderImageToDataURL","options","doSquash","renderImageToCanvas","toDataURL","quality","save","transformCoordinate","orientation","subsampled","d","tmpCanvas","tmpCtx","vertSquashRatio","dw","ceil","dh","dy","sx","dx","clearRect","restore","translate","scale","rotate","PI","MegaPixImage","srcImage","URL","createObjectURL","webkitURL","_this","imageLoadListeners","render","srcLength","imgWidth","imgHeight","maxWidth","maxHeight","opt","k","tagName","toLowerCase","onrender","JPEGEncoder","l","s","round","floor","O","K","Z","u","h","G","T","P","S","j","t","A","f","U","C","x","g","w","E","v","Y","J","B","M","ag","af","ae","aj","ah","ad","ai","ac","ab","ak","aa","q","W","z","V","X","F","N","aZ","ap","aL","aK","aJ","aI","aH","aD","aC","aB","aN","aR","aq","aY","aO","aX","aP","aU","aQ","aT","aS","an","am","al","ax","at","aw","au","av","ar","az","aG","aW","ao","aV","ay","aF","aM","a1","a0","aA","aE","b","r","D","H","I","L","y","encode","getTime","R","displayName","btoa","Q","getJsDir","BlobFormDataShim","exif","UA","ISOldIOS","exec","isOldAndroid","IOS_VERSION","oldIOS","newIOS","oldAndroid","substr","iOS","android","mQQBrowser","Lrz","that","defaults","ingnoreOrientation","init","fileIsString","fileIsBase64","fileName","split","_getBase64","formData","size","dataURItoBlob","fileLen","base64Len","origin","revokeObjectURL","crossOrigin","resize","_getResize","fillStyle","fillRect","_createBase64ForOldIOS","_createBase64","__WEBPACK_AMD_REQUIRE_ARRAY__","mpImg","encoder","filter","scripts","lastIndexOf","dataURI","byteString","unescape","mimeString","ia","lrz"],"mappings":"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","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n\n\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t__webpack_require__(7);\n\t__webpack_require__(8);\n\n\tmodule.exports = __webpack_require__(9);\n\n\n\t/**\n\t *\n\t * 　　　┏┓　　　┏┓\n\t * 　　┏┛┻━━━┛┻┓\n\t * 　　┃　　　　　　　┃\n\t * 　　┃　　　━　　　┃\n\t * 　　┃　┳┛　┗┳　┃\n\t * 　　┃　　　　　　　┃\n\t * 　　┃　　　┻　　　┃\n\t * 　　┃　　　　　　　┃\n\t * 　　┗━┓　　　┏━┛Code is far away from bug with the animal protecting\n\t * 　　　　┃　　　┃    神兽保佑,代码无bug\n\t * 　　　　┃　　　┃\n\t * 　　　　┃　　　┗━━━┓\n\t * 　　　　┃　　　　　 ┣┓\n\t * 　　　　┃　　　　 ┏┛\n\t * 　　　　┗┓┓┏━┳┓┏┛\n\t * 　　　　　┃┫┫　┃┫┫\n\t * 　　　　　┗┻┛　┗┻┛\n\t *\n\t */\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(setImmediate) {(function (root) {\n\n\t    // Use polyfill for setImmediate for performance gains\n\t    var asap = (typeof setImmediate === 'function' && setImmediate) ||\n\t        function (fn) {\n\t            setTimeout(fn, 1);\n\t        };\n\n\t    // Polyfill for Function.prototype.bind\n\t    function bind (fn, thisArg) {\n\t        return function () {\n\t            fn.apply(thisArg, arguments);\n\t        }\n\t    }\n\n\t    var isArray = Array.isArray || function (value) {\n\t            return Object.prototype.toString.call(value) === \"[object Array]\"\n\t        };\n\n\t    function Promise (fn) {\n\t        if (typeof this !== 'object') throw new TypeError('Promises must be constructed via new');\n\t        if (typeof fn !== 'function') throw new TypeError('not a function');\n\t        this._state     = null;\n\t        this._value     = null;\n\t        this._deferreds = []\n\n\t        doResolve(fn, bind(resolve, this), bind(reject, this))\n\t    }\n\n\t    function handle (deferred) {\n\t        var me = this;\n\t        if (this._state === null) {\n\t            this._deferreds.push(deferred);\n\t            return\n\t        }\n\t        asap(function () {\n\t            var cb = me._state ? deferred.onFulfilled : deferred.onRejected\n\t            if (cb === null) {\n\t                (me._state ? deferred.resolve : deferred.reject)(me._value);\n\t                return;\n\t            }\n\t            var ret;\n\t            try {\n\t                ret = cb(me._value);\n\t            }\n\t            catch (e) {\n\t                deferred.reject(e);\n\t                return;\n\t            }\n\t            deferred.resolve(ret);\n\t        })\n\t    }\n\n\t    function resolve (newValue) {\n\t        try { //Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n\t            if (newValue === this) throw new TypeError('A promise cannot be resolved with itself.');\n\t            if (newValue && (typeof newValue === 'object' || typeof newValue === 'function')) {\n\t                var then = newValue.then;\n\t                if (typeof then === 'function') {\n\t                    doResolve(bind(then, newValue), bind(resolve, this), bind(reject, this));\n\t                    return;\n\t                }\n\t            }\n\t            this._state = true;\n\t            this._value = newValue;\n\t            finale.call(this);\n\t        } catch (e) {\n\t            reject.call(this, e);\n\t        }\n\t    }\n\n\t    function reject (newValue) {\n\t        this._state = false;\n\t        this._value = newValue;\n\t        finale.call(this);\n\t    }\n\n\t    function finale () {\n\t        for (var i = 0, len = this._deferreds.length; i < len; i++) {\n\t            handle.call(this, this._deferreds[i]);\n\t        }\n\t        this._deferreds = null;\n\t    }\n\n\t    function Handler (onFulfilled, onRejected, resolve, reject) {\n\t        this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n\t        this.onRejected  = typeof onRejected === 'function' ? onRejected : null;\n\t        this.resolve     = resolve;\n\t        this.reject      = reject;\n\t    }\n\n\t    /**\n\t     * Take a potentially misbehaving resolver function and make sure\n\t     * onFulfilled and onRejected are only called once.\n\t     *\n\t     * Makes no guarantees about asynchrony.\n\t     */\n\t    function doResolve (fn, onFulfilled, onRejected) {\n\t        var done = false;\n\t        try {\n\t            fn(function (value) {\n\t                if (done) return;\n\t                done = true;\n\t                onFulfilled(value);\n\t            }, function (reason) {\n\t                if (done) return;\n\t                done = true;\n\t                onRejected(reason);\n\t            })\n\t        } catch (ex) {\n\t            if (done) return;\n\t            done = true;\n\t            onRejected(ex);\n\t        }\n\t    }\n\n\t    Promise.prototype['catch'] = function (onRejected) {\n\t        return this.then(null, onRejected);\n\t    };\n\n\t    Promise.prototype.then = function (onFulfilled, onRejected) {\n\t        var me = this;\n\t        return new Promise(function (resolve, reject) {\n\t            handle.call(me, new Handler(onFulfilled, onRejected, resolve, reject));\n\t        })\n\t    };\n\n\t    Promise.all = function () {\n\t        var args = Array.prototype.slice.call(arguments.length === 1 && isArray(arguments[0]) ? arguments[0] : arguments);\n\n\t        return new Promise(function (resolve, reject) {\n\t            if (args.length === 0) return resolve([]);\n\t            var remaining = args.length;\n\n\t            function res (i, val) {\n\t                try {\n\t                    if (val && (typeof val === 'object' || typeof val === 'function')) {\n\t                        var then = val.then;\n\t                        if (typeof then === 'function') {\n\t                            then.call(val, function (val) {\n\t                                res(i, val)\n\t                            }, reject);\n\t                            return;\n\t                        }\n\t                    }\n\t                    args[i] = val;\n\t                    if (--remaining === 0) {\n\t                        resolve(args);\n\t                    }\n\t                } catch (ex) {\n\t                    reject(ex);\n\t                }\n\t            }\n\n\t            for (var i = 0; i < args.length; i++) {\n\t                res(i, args[i]);\n\t            }\n\t        });\n\t    };\n\n\t    Promise.resolve = function (value) {\n\t        if (value && typeof value === 'object' && value.constructor === Promise) {\n\t            return value;\n\t        }\n\n\t        return new Promise(function (resolve) {\n\t            resolve(value);\n\t        });\n\t    };\n\n\t    Promise.reject = function (value) {\n\t        return new Promise(function (resolve, reject) {\n\t            reject(value);\n\t        });\n\t    };\n\n\t    Promise.race = function (values) {\n\t        return new Promise(function (resolve, reject) {\n\t            for (var i = 0, len = values.length; i < len; i++) {\n\t                values[i].then(resolve, reject);\n\t            }\n\t        });\n\t    };\n\n\t    /**\n\t     * Set the immediate function to execute callbacks\n\t     * @param fn {function} Function to execute\n\t     * @private\n\t     */\n\t    Promise._setImmediateFn = function _setImmediateFn (fn) {\n\t        asap = fn;\n\t    };\n\n\n\t    Promise.prototype.always = function (callback) {\n\t        var constructor = this.constructor;\n\n\t        return this.then(function (value) {\n\t            return constructor.resolve(callback()).then(function () {\n\t                return value;\n\t            });\n\t        }, function (reason) {\n\t            return constructor.resolve(callback()).then(function () {\n\t                throw reason;\n\t            });\n\t        });\n\t    };\n\n\t    if (typeof module !== 'undefined' && module.exports) {\n\t        module.exports = Promise;\n\t    } else if (!root.Promise) {\n\t        root.Promise = Promise;\n\t    }\n\n\t})(this);\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2).setImmediate))\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {var scope = (typeof global !== \"undefined\" && global) ||\n\t            (typeof self !== \"undefined\" && self) ||\n\t            window;\n\tvar apply = Function.prototype.apply;\n\n\t// DOM APIs, for completeness\n\n\texports.setTimeout = function() {\n\t  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);\n\t};\n\texports.setInterval = function() {\n\t  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);\n\t};\n\texports.clearTimeout =\n\texports.clearInterval = function(timeout) {\n\t  if (timeout) {\n\t    timeout.close();\n\t  }\n\t};\n\n\tfunction Timeout(id, clearFn) {\n\t  this._id = id;\n\t  this._clearFn = clearFn;\n\t}\n\tTimeout.prototype.unref = Timeout.prototype.ref = function() {};\n\tTimeout.prototype.close = function() {\n\t  this._clearFn.call(scope, this._id);\n\t};\n\n\t// Does not start the time, just sets up the members needed.\n\texports.enroll = function(item, msecs) {\n\t  clearTimeout(item._idleTimeoutId);\n\t  item._idleTimeout = msecs;\n\t};\n\n\texports.unenroll = function(item) {\n\t  clearTimeout(item._idleTimeoutId);\n\t  item._idleTimeout = -1;\n\t};\n\n\texports._unrefActive = exports.active = function(item) {\n\t  clearTimeout(item._idleTimeoutId);\n\n\t  var msecs = item._idleTimeout;\n\t  if (msecs >= 0) {\n\t    item._idleTimeoutId = setTimeout(function onTimeout() {\n\t      if (item._onTimeout)\n\t        item._onTimeout();\n\t    }, msecs);\n\t  }\n\t};\n\n\t// setimmediate attaches itself to the global object\n\t__webpack_require__(3);\n\t// On some exotic environments, it's not clear which object `setimmediate` was\n\t// able to install onto.  Search each possibility in the same order as the\n\t// `setimmediate` library.\n\texports.setImmediate = (typeof self !== \"undefined\" && self.setImmediate) ||\n\t                       (typeof global !== \"undefined\" && global.setImmediate) ||\n\t                       (this && this.setImmediate);\n\texports.clearImmediate = (typeof self !== \"undefined\" && self.clearImmediate) ||\n\t                         (typeof global !== \"undefined\" && global.clearImmediate) ||\n\t                         (this && this.clearImmediate);\n\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global, process) {(function (global, undefined) {\n\t    \"use strict\";\n\n\t    if (global.setImmediate) {\n\t        return;\n\t    }\n\n\t    var nextHandle = 1; // Spec says greater than zero\n\t    var tasksByHandle = {};\n\t    var currentlyRunningATask = false;\n\t    var doc = global.document;\n\t    var registerImmediate;\n\n\t    function setImmediate(callback) {\n\t      // Callback can either be a function or a string\n\t      if (typeof callback !== \"function\") {\n\t        callback = new Function(\"\" + callback);\n\t      }\n\t      // Copy function arguments\n\t      var args = new Array(arguments.length - 1);\n\t      for (var i = 0; i < args.length; i++) {\n\t          args[i] = arguments[i + 1];\n\t      }\n\t      // Store and register the task\n\t      var task = { callback: callback, args: args };\n\t      tasksByHandle[nextHandle] = task;\n\t      registerImmediate(nextHandle);\n\t      return nextHandle++;\n\t    }\n\n\t    function clearImmediate(handle) {\n\t        delete tasksByHandle[handle];\n\t    }\n\n\t    function run(task) {\n\t        var callback = task.callback;\n\t        var args = task.args;\n\t        switch (args.length) {\n\t        case 0:\n\t            callback();\n\t            break;\n\t        case 1:\n\t            callback(args[0]);\n\t            break;\n\t        case 2:\n\t            callback(args[0], args[1]);\n\t            break;\n\t        case 3:\n\t            callback(args[0], args[1], args[2]);\n\t            break;\n\t        default:\n\t            callback.apply(undefined, args);\n\t            break;\n\t        }\n\t    }\n\n\t    function runIfPresent(handle) {\n\t        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n\t        // So if we're currently running a task, we'll need to delay this invocation.\n\t        if (currentlyRunningATask) {\n\t            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n\t            // \"too much recursion\" error.\n\t            setTimeout(runIfPresent, 0, handle);\n\t        } else {\n\t            var task = tasksByHandle[handle];\n\t            if (task) {\n\t                currentlyRunningATask = true;\n\t                try {\n\t                    run(task);\n\t                } finally {\n\t                    clearImmediate(handle);\n\t                    currentlyRunningATask = false;\n\t                }\n\t            }\n\t        }\n\t    }\n\n\t    function installNextTickImplementation() {\n\t        registerImmediate = function(handle) {\n\t            process.nextTick(function () { runIfPresent(handle); });\n\t        };\n\t    }\n\n\t    function canUsePostMessage() {\n\t        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n\t        // where `global.postMessage` means something completely different and can't be used for this purpose.\n\t        if (global.postMessage && !global.importScripts) {\n\t            var postMessageIsAsynchronous = true;\n\t            var oldOnMessage = global.onmessage;\n\t            global.onmessage = function() {\n\t                postMessageIsAsynchronous = false;\n\t            };\n\t            global.postMessage(\"\", \"*\");\n\t            global.onmessage = oldOnMessage;\n\t            return postMessageIsAsynchronous;\n\t        }\n\t    }\n\n\t    function installPostMessageImplementation() {\n\t        // Installs an event handler on `global` for the `message` event: see\n\t        // * https://developer.mozilla.org/en/DOM/window.postMessage\n\t        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n\t        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n\t        var onGlobalMessage = function(event) {\n\t            if (event.source === global &&\n\t                typeof event.data === \"string\" &&\n\t                event.data.indexOf(messagePrefix) === 0) {\n\t                runIfPresent(+event.data.slice(messagePrefix.length));\n\t            }\n\t        };\n\n\t        if (global.addEventListener) {\n\t            global.addEventListener(\"message\", onGlobalMessage, false);\n\t        } else {\n\t            global.attachEvent(\"onmessage\", onGlobalMessage);\n\t        }\n\n\t        registerImmediate = function(handle) {\n\t            global.postMessage(messagePrefix + handle, \"*\");\n\t        };\n\t    }\n\n\t    function installMessageChannelImplementation() {\n\t        var channel = new MessageChannel();\n\t        channel.port1.onmessage = function(event) {\n\t            var handle = event.data;\n\t            runIfPresent(handle);\n\t        };\n\n\t        registerImmediate = function(handle) {\n\t            channel.port2.postMessage(handle);\n\t        };\n\t    }\n\n\t    function installReadyStateChangeImplementation() {\n\t        var html = doc.documentElement;\n\t        registerImmediate = function(handle) {\n\t            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n\t            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n\t            var script = doc.createElement(\"script\");\n\t            script.onreadystatechange = function () {\n\t                runIfPresent(handle);\n\t                script.onreadystatechange = null;\n\t                html.removeChild(script);\n\t                script = null;\n\t            };\n\t            html.appendChild(script);\n\t        };\n\t    }\n\n\t    function installSetTimeoutImplementation() {\n\t        registerImmediate = function(handle) {\n\t            setTimeout(runIfPresent, 0, handle);\n\t        };\n\t    }\n\n\t    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n\t    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n\t    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n\t    // Don't get fooled by e.g. browserify environments.\n\t    if ({}.toString.call(global.process) === \"[object process]\") {\n\t        // For Node.js before 0.9\n\t        installNextTickImplementation();\n\n\t    } else if (canUsePostMessage()) {\n\t        // For non-IE10 modern browsers\n\t        installPostMessageImplementation();\n\n\t    } else if (global.MessageChannel) {\n\t        // For web workers, where supported\n\t        installMessageChannelImplementation();\n\n\t    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n\t        // For IE 6–8\n\t        installReadyStateChangeImplementation();\n\n\t    } else {\n\t        // For older browsers\n\t        installSetTimeoutImplementation();\n\t    }\n\n\t    attachTo.setImmediate = setImmediate;\n\t    attachTo.clearImmediate = clearImmediate;\n\t}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }()), __webpack_require__(4)))\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports) {\n\n\t// shim for using process in browser\n\tvar process = module.exports = {};\n\n\t// cached from whatever global is present so that test runners that stub it\n\t// don't break things.  But we need to wrap it in a try catch in case it is\n\t// wrapped in strict mode code which doesn't define any globals.  It's inside a\n\t// function because try/catches deoptimize in certain engines.\n\n\tvar cachedSetTimeout;\n\tvar cachedClearTimeout;\n\n\tfunction defaultSetTimout() {\n\t    throw new Error('setTimeout has not been defined');\n\t}\n\tfunction defaultClearTimeout () {\n\t    throw new Error('clearTimeout has not been defined');\n\t}\n\t(function () {\n\t    try {\n\t        if (typeof setTimeout === 'function') {\n\t            cachedSetTimeout = setTimeout;\n\t        } else {\n\t            cachedSetTimeout = defaultSetTimout;\n\t        }\n\t    } catch (e) {\n\t        cachedSetTimeout = defaultSetTimout;\n\t    }\n\t    try {\n\t        if (typeof clearTimeout === 'function') {\n\t            cachedClearTimeout = clearTimeout;\n\t        } else {\n\t            cachedClearTimeout = defaultClearTimeout;\n\t        }\n\t    } catch (e) {\n\t        cachedClearTimeout = defaultClearTimeout;\n\t    }\n\t} ())\n\tfunction runTimeout(fun) {\n\t    if (cachedSetTimeout === setTimeout) {\n\t        //normal enviroments in sane situations\n\t        return setTimeout(fun, 0);\n\t    }\n\t    // if setTimeout wasn't available but was latter defined\n\t    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n\t        cachedSetTimeout = setTimeout;\n\t        return setTimeout(fun, 0);\n\t    }\n\t    try {\n\t        // when when somebody has screwed with setTimeout but no I.E. maddness\n\t        return cachedSetTimeout(fun, 0);\n\t    } catch(e){\n\t        try {\n\t            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n\t            return cachedSetTimeout.call(null, fun, 0);\n\t        } catch(e){\n\t            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n\t            return cachedSetTimeout.call(this, fun, 0);\n\t        }\n\t    }\n\n\n\t}\n\tfunction runClearTimeout(marker) {\n\t    if (cachedClearTimeout === clearTimeout) {\n\t        //normal enviroments in sane situations\n\t        return clearTimeout(marker);\n\t    }\n\t    // if clearTimeout wasn't available but was latter defined\n\t    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n\t        cachedClearTimeout = clearTimeout;\n\t        return clearTimeout(marker);\n\t    }\n\t    try {\n\t        // when when somebody has screwed with setTimeout but no I.E. maddness\n\t        return cachedClearTimeout(marker);\n\t    } catch (e){\n\t        try {\n\t            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n\t            return cachedClearTimeout.call(null, marker);\n\t        } catch (e){\n\t            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n\t            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n\t            return cachedClearTimeout.call(this, marker);\n\t        }\n\t    }\n\n\n\n\t}\n\tvar queue = [];\n\tvar draining = false;\n\tvar currentQueue;\n\tvar queueIndex = -1;\n\n\tfunction cleanUpNextTick() {\n\t    if (!draining || !currentQueue) {\n\t        return;\n\t    }\n\t    draining = false;\n\t    if (currentQueue.length) {\n\t        queue = currentQueue.concat(queue);\n\t    } else {\n\t        queueIndex = -1;\n\t    }\n\t    if (queue.length) {\n\t        drainQueue();\n\t    }\n\t}\n\n\tfunction drainQueue() {\n\t    if (draining) {\n\t        return;\n\t    }\n\t    var timeout = runTimeout(cleanUpNextTick);\n\t    draining = true;\n\n\t    var len = queue.length;\n\t    while(len) {\n\t        currentQueue = queue;\n\t        queue = [];\n\t        while (++queueIndex < len) {\n\t            if (currentQueue) {\n\t                currentQueue[queueIndex].run();\n\t            }\n\t        }\n\t        queueIndex = -1;\n\t        len = queue.length;\n\t    }\n\t    currentQueue = null;\n\t    draining = false;\n\t    runClearTimeout(timeout);\n\t}\n\n\tprocess.nextTick = function (fun) {\n\t    var args = new Array(arguments.length - 1);\n\t    if (arguments.length > 1) {\n\t        for (var i = 1; i < arguments.length; i++) {\n\t            args[i - 1] = arguments[i];\n\t        }\n\t    }\n\t    queue.push(new Item(fun, args));\n\t    if (queue.length === 1 && !draining) {\n\t        runTimeout(drainQueue);\n\t    }\n\t};\n\n\t// v8 likes predictible objects\n\tfunction Item(fun, array) {\n\t    this.fun = fun;\n\t    this.array = array;\n\t}\n\tItem.prototype.run = function () {\n\t    this.fun.apply(null, this.array);\n\t};\n\tprocess.title = 'browser';\n\tprocess.browser = true;\n\tprocess.env = {};\n\tprocess.argv = [];\n\tprocess.version = ''; // empty string to avoid regexp issues\n\tprocess.versions = {};\n\n\tfunction noop() {}\n\n\tprocess.on = noop;\n\tprocess.addListener = noop;\n\tprocess.once = noop;\n\tprocess.off = noop;\n\tprocess.removeListener = noop;\n\tprocess.removeAllListeners = noop;\n\tprocess.emit = noop;\n\tprocess.prependListener = noop;\n\tprocess.prependOnceListener = noop;\n\n\tprocess.listeners = function (name) { return [] }\n\n\tprocess.binding = function (name) {\n\t    throw new Error('process.binding is not supported');\n\t};\n\n\tprocess.cwd = function () { return '/' };\n\tprocess.chdir = function (dir) {\n\t    throw new Error('process.chdir is not supported');\n\t};\n\tprocess.umask = function() { return 0; };\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\n\t//@source https://xts.so/demo/compress/index.html\n\n\t// 早期版本的浏览器需要用BlobBuilder来构造Blob，创建一个通用构造器来兼容早期版本\n\tvar BlobConstructor = ((function () {\n\t    try {\n\t        new Blob();\n\t        return true;\n\t    } catch (e) {\n\t        return false;\n\t    }\n\t})()) ? window.Blob : function (parts, opts) {\n\t    var bb = new (\n\t        window.BlobBuilder\n\t        || window.WebKitBlobBuilder\n\t        || window.MSBlobBuilder\n\t        || window.MozBlobBuilder\n\t    );\n\t    parts.forEach(function (p) {\n\t        bb.append(p);\n\t    });\n\n\t    return bb.getBlob(opts ? opts.type : undefined);\n\t};\n\n\t// Android上的AppleWebKit 534以前的内核存在一个Bug，\n\t// 导致FormData加入一个Blob对象后，上传的文件是0字节\n\tfunction hasFormDataBug () {\n\t    var bCheck = ~navigator.userAgent.indexOf('Android')\n\t        && ~navigator.vendor.indexOf('Google')\n\t        && !~navigator.userAgent.indexOf('Chrome');\n\n\t    // QQ X5浏览器也有这个BUG\n\t    return bCheck && navigator.userAgent.match(/AppleWebKit\\/(\\d+)/).pop() <= 534 || /MQQBrowser/g.test(navigator.userAgent);\n\t}\n\tvar FormDataShim=(function(){\n\t    var formDataShimNums = 0;\n\t    function FormDataShim () {\n\t        var\n\t        // Store a reference to this\n\t        o        = this,\n\t    \n\t        // Data to be sent\n\t        parts = [],\n\t    \n\t        // Boundary parameter for separating the multipart values\n\t        boundary = Array(21).join('-') + (+new Date() * (1e16 * Math.random())).toString(36),\n\t    \n\t        // Store the current XHR send method so we can safely override it\n\t        oldSend  = XMLHttpRequest.prototype.send;\n\t        this.getParts = function () {\n\t            return parts.toString();\n\t        };\n\t        this.append   = function (name, value, filename) {\n\t            parts.push('--' + boundary + '\\r\\nContent-Disposition: form-data; name=\"' + name + '\"');\n\t    \n\t            if (value instanceof Blob) {\n\t                parts.push('; filename=\"' + (filename || 'blob') + '\"\\r\\nContent-Type: ' + value.type + '\\r\\n\\r\\n');\n\t                parts.push(value);\n\t            }\n\t            else {\n\t                parts.push('\\r\\n\\r\\n' + value);\n\t            }\n\t            parts.push('\\r\\n');\n\t        };\n\t    \n\t        formDataShimNums++;\n\t        XMLHttpRequest.prototype.send = function (val) {\n\t            var fr,\n\t                data,\n\t                oXHR = this;\n\t    \n\t            if (val === o) {\n\t                // Append the final boundary string\n\t                parts.push('--' + boundary + '--\\r\\n');\n\t                // Create the blob\n\t                data = new BlobConstructor(parts);\n\t    \n\t                // Set up and read the blob into an array to be sent\n\t                fr         = new FileReader();\n\t                fr.onload  = function () {\n\t                    oldSend.call(oXHR, fr.result);\n\t                };\n\t                fr.onerror = function (err) {\n\t                    throw err;\n\t                };\n\t                fr.readAsArrayBuffer(data);\n\t    \n\t                // Set the multipart content type and boudary\n\t                this.setRequestHeader('Content-Type', 'multipart/form-data; boundary=' + boundary);\n\t                formDataShimNums--;\n\t                if(formDataShimNums == 0){\n\t                    XMLHttpRequest.prototype.send = oldSend;\n\t                }\n\t            }\n\t            else {\n\t                oldSend.call(this, val);\n\t            }\n\t        };\n\t    };\n\t    FormDataShim.prototype = Object.create(FormData.prototype);\n\t    return FormDataShim;\n\t})();\n\n\n\tmodule.exports = {\n\t    Blob    : BlobConstructor,\n\t    FormData: hasFormDataBug() ? FormDataShim : FormData\n\t};\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/* exif */\n\t(function () {\n\n\t    var debug = false;\n\n\t    var root = this;\n\n\t    var EXIF = function (obj) {\n\t        if (obj instanceof EXIF) return obj;\n\t        if (!(this instanceof EXIF)) return new EXIF(obj);\n\t        this.EXIFwrapped = obj;\n\t    };\n\n\t    if (true) {\n\t        if (typeof module !== 'undefined' && module.exports) {\n\t            exports = module.exports = EXIF;\n\t        }\n\t        exports.EXIF = EXIF;\n\t    } else {\n\t        root.EXIF = EXIF;\n\t    }\n\n\t    var ExifTags = EXIF.Tags = {\n\n\t        // version tags\n\t        0x9000: \"ExifVersion\",             // EXIF version\n\t        0xA000: \"FlashpixVersion\",         // Flashpix format version\n\n\t        // colorspace tags\n\t        0xA001: \"ColorSpace\",              // Color space information tag\n\n\t        // image configuration\n\t        0xA002: \"PixelXDimension\",         // Valid width of meaningful image\n\t        0xA003: \"PixelYDimension\",         // Valid height of meaningful image\n\t        0x9101: \"ComponentsConfiguration\", // Information about channels\n\t        0x9102: \"CompressedBitsPerPixel\",  // Compressed bits per pixel\n\n\t        // user information\n\t        0x927C: \"MakerNote\",               // Any desired information written by the manufacturer\n\t        0x9286: \"UserComment\",             // Comments by user\n\n\t        // related file\n\t        0xA004: \"RelatedSoundFile\",        // Name of related sound file\n\n\t        // date and time\n\t        0x9003: \"DateTimeOriginal\",        // Date and time when the original image was generated\n\t        0x9004: \"DateTimeDigitized\",       // Date and time when the image was stored digitally\n\t        0x9290: \"SubsecTime\",              // Fractions of seconds for DateTime\n\t        0x9291: \"SubsecTimeOriginal\",      // Fractions of seconds for DateTimeOriginal\n\t        0x9292: \"SubsecTimeDigitized\",     // Fractions of seconds for DateTimeDigitized\n\n\t        // picture-taking conditions\n\t        0x829A: \"ExposureTime\",            // Exposure time (in seconds)\n\t        0x829D: \"FNumber\",                 // F number\n\t        0x8822: \"ExposureProgram\",         // Exposure program\n\t        0x8824: \"SpectralSensitivity\",     // Spectral sensitivity\n\t        0x8827: \"ISOSpeedRatings\",         // ISO speed rating\n\t        0x8828: \"OECF\",                    // Optoelectric conversion factor\n\t        0x9201: \"ShutterSpeedValue\",       // Shutter speed\n\t        0x9202: \"ApertureValue\",           // Lens aperture\n\t        0x9203: \"BrightnessValue\",         // Value of brightness\n\t        0x9204: \"ExposureBias\",            // Exposure bias\n\t        0x9205: \"MaxApertureValue\",        // Smallest F number of lens\n\t        0x9206: \"SubjectDistance\",         // Distance to subject in meters\n\t        0x9207: \"MeteringMode\",            // Metering mode\n\t        0x9208: \"LightSource\",             // Kind of light source\n\t        0x9209: \"Flash\",                   // Flash status\n\t        0x9214: \"SubjectArea\",             // Location and area of main subject\n\t        0x920A: \"FocalLength\",             // Focal length of the lens in mm\n\t        0xA20B: \"FlashEnergy\",             // Strobe energy in BCPS\n\t        0xA20C: \"SpatialFrequencyResponse\",    //\n\t        0xA20E: \"FocalPlaneXResolution\",   // Number of pixels in width direction per FocalPlaneResolutionUnit\n\t        0xA20F: \"FocalPlaneYResolution\",   // Number of pixels in height direction per FocalPlaneResolutionUnit\n\t        0xA210: \"FocalPlaneResolutionUnit\",    // Unit for measuring FocalPlaneXResolution and FocalPlaneYResolution\n\t        0xA214: \"SubjectLocation\",         // Location of subject in image\n\t        0xA215: \"ExposureIndex\",           // Exposure index selected on camera\n\t        0xA217: \"SensingMethod\",           // Image sensor type\n\t        0xA300: \"FileSource\",              // Image source (3 == DSC)\n\t        0xA301: \"SceneType\",               // Scene type (1 == directly photographed)\n\t        0xA302: \"CFAPattern\",              // Color filter array geometric pattern\n\t        0xA401: \"CustomRendered\",          // Special processing\n\t        0xA402: \"ExposureMode\",            // Exposure mode\n\t        0xA403: \"WhiteBalance\",            // 1 = auto white balance, 2 = manual\n\t        0xA404: \"DigitalZoomRation\",       // Digital zoom ratio\n\t        0xA405: \"FocalLengthIn35mmFilm\",   // Equivalent foacl length assuming 35mm film camera (in mm)\n\t        0xA406: \"SceneCaptureType\",        // Type of scene\n\t        0xA407: \"GainControl\",             // Degree of overall image gain adjustment\n\t        0xA408: \"Contrast\",                // Direction of contrast processing applied by camera\n\t        0xA409: \"Saturation\",              // Direction of saturation processing applied by camera\n\t        0xA40A: \"Sharpness\",               // Direction of sharpness processing applied by camera\n\t        0xA40B: \"DeviceSettingDescription\",    //\n\t        0xA40C: \"SubjectDistanceRange\",    // Distance to subject\n\n\t        // other tags\n\t        0xA005: \"InteroperabilityIFDPointer\",\n\t        0xA420: \"ImageUniqueID\"            // Identifier assigned uniquely to each image\n\t    };\n\n\t    var TiffTags = EXIF.TiffTags = {\n\t        0x0100: \"ImageWidth\",\n\t        0x0101: \"ImageHeight\",\n\t        0x8769: \"ExifIFDPointer\",\n\t        0x8825: \"GPSInfoIFDPointer\",\n\t        0xA005: \"InteroperabilityIFDPointer\",\n\t        0x0102: \"BitsPerSample\",\n\t        0x0103: \"Compression\",\n\t        0x0106: \"PhotometricInterpretation\",\n\t        0x0112: \"Orientation\",\n\t        0x0115: \"SamplesPerPixel\",\n\t        0x011C: \"PlanarConfiguration\",\n\t        0x0212: \"YCbCrSubSampling\",\n\t        0x0213: \"YCbCrPositioning\",\n\t        0x011A: \"XResolution\",\n\t        0x011B: \"YResolution\",\n\t        0x0128: \"ResolutionUnit\",\n\t        0x0111: \"StripOffsets\",\n\t        0x0116: \"RowsPerStrip\",\n\t        0x0117: \"StripByteCounts\",\n\t        0x0201: \"JPEGInterchangeFormat\",\n\t        0x0202: \"JPEGInterchangeFormatLength\",\n\t        0x012D: \"TransferFunction\",\n\t        0x013E: \"WhitePoint\",\n\t        0x013F: \"PrimaryChromaticities\",\n\t        0x0211: \"YCbCrCoefficients\",\n\t        0x0214: \"ReferenceBlackWhite\",\n\t        0x0132: \"DateTime\",\n\t        0x010E: \"ImageDescription\",\n\t        0x010F: \"Make\",\n\t        0x0110: \"Model\",\n\t        0x0131: \"Software\",\n\t        0x013B: \"Artist\",\n\t        0x8298: \"Copyright\"\n\t    };\n\n\t    var GPSTags = EXIF.GPSTags = {\n\t        0x0000: \"GPSVersionID\",\n\t        0x0001: \"GPSLatitudeRef\",\n\t        0x0002: \"GPSLatitude\",\n\t        0x0003: \"GPSLongitudeRef\",\n\t        0x0004: \"GPSLongitude\",\n\t        0x0005: \"GPSAltitudeRef\",\n\t        0x0006: \"GPSAltitude\",\n\t        0x0007: \"GPSTimeStamp\",\n\t        0x0008: \"GPSSatellites\",\n\t        0x0009: \"GPSStatus\",\n\t        0x000A: \"GPSMeasureMode\",\n\t        0x000B: \"GPSDOP\",\n\t        0x000C: \"GPSSpeedRef\",\n\t        0x000D: \"GPSSpeed\",\n\t        0x000E: \"GPSTrackRef\",\n\t        0x000F: \"GPSTrack\",\n\t        0x0010: \"GPSImgDirectionRef\",\n\t        0x0011: \"GPSImgDirection\",\n\t        0x0012: \"GPSMapDatum\",\n\t        0x0013: \"GPSDestLatitudeRef\",\n\t        0x0014: \"GPSDestLatitude\",\n\t        0x0015: \"GPSDestLongitudeRef\",\n\t        0x0016: \"GPSDestLongitude\",\n\t        0x0017: \"GPSDestBearingRef\",\n\t        0x0018: \"GPSDestBearing\",\n\t        0x0019: \"GPSDestDistanceRef\",\n\t        0x001A: \"GPSDestDistance\",\n\t        0x001B: \"GPSProcessingMethod\",\n\t        0x001C: \"GPSAreaInformation\",\n\t        0x001D: \"GPSDateStamp\",\n\t        0x001E: \"GPSDifferential\"\n\t    };\n\n\t    var StringValues = EXIF.StringValues = {\n\t        ExposureProgram     : {\n\t            0: \"Not defined\",\n\t            1: \"Manual\",\n\t            2: \"Normal program\",\n\t            3: \"Aperture priority\",\n\t            4: \"Shutter priority\",\n\t            5: \"Creative program\",\n\t            6: \"Action program\",\n\t            7: \"Portrait mode\",\n\t            8: \"Landscape mode\"\n\t        },\n\t        MeteringMode        : {\n\t            0  : \"Unknown\",\n\t            1  : \"Average\",\n\t            2  : \"CenterWeightedAverage\",\n\t            3  : \"Spot\",\n\t            4  : \"MultiSpot\",\n\t            5  : \"Pattern\",\n\t            6  : \"Partial\",\n\t            255: \"Other\"\n\t        },\n\t        LightSource         : {\n\t            0  : \"Unknown\",\n\t            1  : \"Daylight\",\n\t            2  : \"Fluorescent\",\n\t            3  : \"Tungsten (incandescent light)\",\n\t            4  : \"Flash\",\n\t            9  : \"Fine weather\",\n\t            10 : \"Cloudy weather\",\n\t            11 : \"Shade\",\n\t            12 : \"Daylight fluorescent (D 5700 - 7100K)\",\n\t            13 : \"Day white fluorescent (N 4600 - 5400K)\",\n\t            14 : \"Cool white fluorescent (W 3900 - 4500K)\",\n\t            15 : \"White fluorescent (WW 3200 - 3700K)\",\n\t            17 : \"Standard light A\",\n\t            18 : \"Standard light B\",\n\t            19 : \"Standard light C\",\n\t            20 : \"D55\",\n\t            21 : \"D65\",\n\t            22 : \"D75\",\n\t            23 : \"D50\",\n\t            24 : \"ISO studio tungsten\",\n\t            255: \"Other\"\n\t        },\n\t        Flash               : {\n\t            0x0000: \"Flash did not fire\",\n\t            0x0001: \"Flash fired\",\n\t            0x0005: \"Strobe return light not detected\",\n\t            0x0007: \"Strobe return light detected\",\n\t            0x0009: \"Flash fired, compulsory flash mode\",\n\t            0x000D: \"Flash fired, compulsory flash mode, return light not detected\",\n\t            0x000F: \"Flash fired, compulsory flash mode, return light detected\",\n\t            0x0010: \"Flash did not fire, compulsory flash mode\",\n\t            0x0018: \"Flash did not fire, auto mode\",\n\t            0x0019: \"Flash fired, auto mode\",\n\t            0x001D: \"Flash fired, auto mode, return light not detected\",\n\t            0x001F: \"Flash fired, auto mode, return light detected\",\n\t            0x0020: \"No flash function\",\n\t            0x0041: \"Flash fired, red-eye reduction mode\",\n\t            0x0045: \"Flash fired, red-eye reduction mode, return light not detected\",\n\t            0x0047: \"Flash fired, red-eye reduction mode, return light detected\",\n\t            0x0049: \"Flash fired, compulsory flash mode, red-eye reduction mode\",\n\t            0x004D: \"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected\",\n\t            0x004F: \"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected\",\n\t            0x0059: \"Flash fired, auto mode, red-eye reduction mode\",\n\t            0x005D: \"Flash fired, auto mode, return light not detected, red-eye reduction mode\",\n\t            0x005F: \"Flash fired, auto mode, return light detected, red-eye reduction mode\"\n\t        },\n\t        SensingMethod       : {\n\t            1: \"Not defined\",\n\t            2: \"One-chip color area sensor\",\n\t            3: \"Two-chip color area sensor\",\n\t            4: \"Three-chip color area sensor\",\n\t            5: \"Color sequential area sensor\",\n\t            7: \"Trilinear sensor\",\n\t            8: \"Color sequential linear sensor\"\n\t        },\n\t        SceneCaptureType    : {\n\t            0: \"Standard\",\n\t            1: \"Landscape\",\n\t            2: \"Portrait\",\n\t            3: \"Night scene\"\n\t        },\n\t        SceneType           : {\n\t            1: \"Directly photographed\"\n\t        },\n\t        CustomRendered      : {\n\t            0: \"Normal process\",\n\t            1: \"Custom process\"\n\t        },\n\t        WhiteBalance        : {\n\t            0: \"Auto white balance\",\n\t            1: \"Manual white balance\"\n\t        },\n\t        GainControl         : {\n\t            0: \"None\",\n\t            1: \"Low gain up\",\n\t            2: \"High gain up\",\n\t            3: \"Low gain down\",\n\t            4: \"High gain down\"\n\t        },\n\t        Contrast            : {\n\t            0: \"Normal\",\n\t            1: \"Soft\",\n\t            2: \"Hard\"\n\t        },\n\t        Saturation          : {\n\t            0: \"Normal\",\n\t            1: \"Low saturation\",\n\t            2: \"High saturation\"\n\t        },\n\t        Sharpness           : {\n\t            0: \"Normal\",\n\t            1: \"Soft\",\n\t            2: \"Hard\"\n\t        },\n\t        SubjectDistanceRange: {\n\t            0: \"Unknown\",\n\t            1: \"Macro\",\n\t            2: \"Close view\",\n\t            3: \"Distant view\"\n\t        },\n\t        FileSource          : {\n\t            3: \"DSC\"\n\t        },\n\n\t        Components: {\n\t            0: \"\",\n\t            1: \"Y\",\n\t            2: \"Cb\",\n\t            3: \"Cr\",\n\t            4: \"R\",\n\t            5: \"G\",\n\t            6: \"B\"\n\t        }\n\t    };\n\n\t    function addEvent (element, event, handler) {\n\t        if (element.addEventListener) {\n\t            element.addEventListener(event, handler, false);\n\t        } else if (element.attachEvent) {\n\t            element.attachEvent(\"on\" + event, handler);\n\t        }\n\t    }\n\n\t    function imageHasData (img) {\n\t        return !!(img.exifdata);\n\t    }\n\n\n\t    function base64ToArrayBuffer (base64, contentType) {\n\t        contentType = contentType || base64.match(/^data\\:([^\\;]+)\\;base64,/mi)[1] || ''; // e.g. 'data:image/jpeg;base64,...' => 'image/jpeg'\n\t        base64     = base64.replace(/^data\\:([^\\;]+)\\;base64,/gmi, '');\n\t        var binary = atob(base64);\n\t        var len    = binary.length;\n\t        var buffer = new ArrayBuffer(len);\n\t        var view   = new Uint8Array(buffer);\n\t        for (var i = 0; i < len; i++) {\n\t            view[i] = binary.charCodeAt(i);\n\t        }\n\t        return buffer;\n\t    }\n\n\t    function objectURLToBlob (url, callback) {\n\t        var http          = new XMLHttpRequest();\n\t        http.open(\"GET\", url, true);\n\t        http.responseType = \"blob\";\n\t        http.onload       = function (e) {\n\t            if (this.status == 200 || this.status === 0) {\n\t                callback(this.response);\n\t            }\n\t        };\n\t        http.send();\n\t    }\n\n\t    function getImageData (img, callback) {\n\t        function handleBinaryFile (binFile) {\n\t            var data     = findEXIFinJPEG(binFile);\n\t            var iptcdata = findIPTCinJPEG(binFile);\n\t            img.exifdata = data || {};\n\t            img.iptcdata = iptcdata || {};\n\t            if (callback) {\n\t                callback.call(img);\n\t            }\n\t        }\n\n\t        if (img.src) {\n\t            if (/^data\\:/i.test(img.src)) { // Data URI\n\t                var arrayBuffer = base64ToArrayBuffer(img.src);\n\t                handleBinaryFile(arrayBuffer);\n\n\t            } else if (/^blob\\:/i.test(img.src)) { // Object URL\n\t                var fileReader    = new FileReader();\n\t                fileReader.onload = function (e) {\n\t                    handleBinaryFile(e.target.result);\n\t                };\n\t                objectURLToBlob(img.src, function (blob) {\n\t                    fileReader.readAsArrayBuffer(blob);\n\t                });\n\t            } else {\n\t                var http          = new XMLHttpRequest();\n\t                http.onload       = function () {\n\t                    if (this.status == 200 || this.status === 0) {\n\t                        handleBinaryFile(http.response);\n\t                    } else {\n\t                        callback(new Error(\"Could not load image\"));\n\t                    }\n\t                    http = null;\n\t                };\n\t                http.open(\"GET\", img.src, true);\n\t                http.responseType = \"arraybuffer\";\n\t                http.send(null);\n\t            }\n\t        } else if (window.FileReader && (img instanceof window.Blob || img instanceof window.File)) {\n\t            var fileReader    = new FileReader();\n\t            fileReader.onload = function (e) {\n\t                if (debug) console.log(\"Got file of length \" + e.target.result.byteLength);\n\t                handleBinaryFile(e.target.result);\n\t            };\n\n\t            fileReader.readAsArrayBuffer(img);\n\t        }\n\t    }\n\n\t    function findEXIFinJPEG (file) {\n\t        var dataView = new DataView(file);\n\n\t        if (debug) console.log(\"Got file of length \" + file.byteLength);\n\t        if ((dataView.getUint8(0) != 0xFF) || (dataView.getUint8(1) != 0xD8)) {\n\t            if (debug) console.log(\"Not a valid JPEG\");\n\t            return false; // not a valid jpeg\n\t        }\n\n\t        var offset = 2,\n\t            length = file.byteLength,\n\t            marker;\n\n\t        while (offset < length) {\n\t            if (dataView.getUint8(offset) != 0xFF) {\n\t                if (debug) console.log(\"Not a valid marker at offset \" + offset + \", found: \" + dataView.getUint8(offset));\n\t                return false; // not a valid marker, something is wrong\n\t            }\n\n\t            marker = dataView.getUint8(offset + 1);\n\t            if (debug) console.log(marker);\n\n\t            // we could implement handling for other markers here,\n\t            // but we're only looking for 0xFFE1 for EXIF data\n\n\t            if (marker == 225) {\n\t                if (debug) console.log(\"Found 0xFFE1 marker\");\n\n\t                return readEXIFData(dataView, offset + 4, dataView.getUint16(offset + 2) - 2);\n\n\t                // offset += 2 + file.getShortAt(offset+2, true);\n\n\t            } else {\n\t                offset += 2 + dataView.getUint16(offset + 2);\n\t            }\n\n\t        }\n\n\t    }\n\n\t    function findIPTCinJPEG (file) {\n\t        var dataView = new DataView(file);\n\n\t        if (debug) console.log(\"Got file of length \" + file.byteLength);\n\t        if ((dataView.getUint8(0) != 0xFF) || (dataView.getUint8(1) != 0xD8)) {\n\t            if (debug) console.log(\"Not a valid JPEG\");\n\t            return false; // not a valid jpeg\n\t        }\n\n\t        var offset = 2,\n\t            length = file.byteLength;\n\n\n\t        var isFieldSegmentStart = function (dataView, offset) {\n\t            return (\n\t                dataView.getUint8(offset) === 0x38 &&\n\t                dataView.getUint8(offset + 1) === 0x42 &&\n\t                dataView.getUint8(offset + 2) === 0x49 &&\n\t                dataView.getUint8(offset + 3) === 0x4D &&\n\t                dataView.getUint8(offset + 4) === 0x04 &&\n\t                dataView.getUint8(offset + 5) === 0x04\n\t            );\n\t        };\n\n\t        while (offset < length) {\n\n\t            if (isFieldSegmentStart(dataView, offset)) {\n\n\t                // Get the length of the name header (which is padded to an even number of bytes)\n\t                var nameHeaderLength = dataView.getUint8(offset + 7);\n\t                if (nameHeaderLength % 2 !== 0) nameHeaderLength += 1;\n\t                // Check for pre photoshop 6 format\n\t                if (nameHeaderLength === 0) {\n\t                    // Always 4\n\t                    nameHeaderLength = 4;\n\t                }\n\n\t                var startOffset   = offset + 8 + nameHeaderLength;\n\t                var sectionLength = dataView.getUint16(offset + 6 + nameHeaderLength);\n\n\t                return readIPTCData(file, startOffset, sectionLength);\n\n\t                break;\n\n\t            }\n\n\n\t            // Not the marker, continue searching\n\t            offset++;\n\n\t        }\n\n\t    }\n\n\t    var IptcFieldMap = {\n\t        0x78: 'caption',\n\t        0x6E: 'credit',\n\t        0x19: 'keywords',\n\t        0x37: 'dateCreated',\n\t        0x50: 'byline',\n\t        0x55: 'bylineTitle',\n\t        0x7A: 'captionWriter',\n\t        0x69: 'headline',\n\t        0x74: 'copyright',\n\t        0x0F: 'category'\n\t    };\n\n\t    function readIPTCData (file, startOffset, sectionLength) {\n\t        var dataView        = new DataView(file);\n\t        var data            = {};\n\t        var fieldValue, fieldName, dataSize, segmentType, segmentSize;\n\t        var segmentStartPos = startOffset;\n\t        while (segmentStartPos < startOffset + sectionLength) {\n\t            if (dataView.getUint8(segmentStartPos) === 0x1C && dataView.getUint8(segmentStartPos + 1) === 0x02) {\n\t                segmentType = dataView.getUint8(segmentStartPos + 2);\n\t                if (segmentType in IptcFieldMap) {\n\t                    dataSize    = dataView.getInt16(segmentStartPos + 3);\n\t                    segmentSize = dataSize + 5;\n\t                    fieldName   = IptcFieldMap[segmentType];\n\t                    fieldValue  = getStringFromDB(dataView, segmentStartPos + 5, dataSize);\n\t                    // Check if we already stored a value with this name\n\t                    if (data.hasOwnProperty(fieldName)) {\n\t                        // Value already stored with this name, create multivalue field\n\t                        if (data[fieldName] instanceof Array) {\n\t                            data[fieldName].push(fieldValue);\n\t                        }\n\t                        else {\n\t                            data[fieldName] = [data[fieldName], fieldValue];\n\t                        }\n\t                    }\n\t                    else {\n\t                        data[fieldName] = fieldValue;\n\t                    }\n\t                }\n\n\t            }\n\t            segmentStartPos++;\n\t        }\n\t        return data;\n\t    }\n\n\n\t    function readTags (file, tiffStart, dirStart, strings, bigEnd) {\n\t        var entries = file.getUint16(dirStart, !bigEnd),\n\t            tags    = {},\n\t            entryOffset, tag,\n\t            i;\n\n\t        for (i = 0; i < entries; i++) {\n\t            entryOffset = dirStart + i * 12 + 2;\n\t            tag         = strings[file.getUint16(entryOffset, !bigEnd)];\n\t            if (!tag && debug) console.log(\"Unknown tag: \" + file.getUint16(entryOffset, !bigEnd));\n\t            tags[tag] = readTagValue(file, entryOffset, tiffStart, dirStart, bigEnd);\n\t        }\n\t        return tags;\n\t    }\n\n\n\t    function readTagValue (file, entryOffset, tiffStart, dirStart, bigEnd) {\n\t        var type        = file.getUint16(entryOffset + 2, !bigEnd),\n\t            numValues   = file.getUint32(entryOffset + 4, !bigEnd),\n\t            valueOffset = file.getUint32(entryOffset + 8, !bigEnd) + tiffStart,\n\t            offset,\n\t            vals, val, n,\n\t            numerator, denominator;\n\n\t        switch (type) {\n\t            case 1: // byte, 8-bit unsigned int\n\t            case 7: // undefined, 8-bit byte, value depending on field\n\t                if (numValues == 1) {\n\t                    return file.getUint8(entryOffset + 8, !bigEnd);\n\t                } else {\n\t                    offset = numValues > 4 ? valueOffset : (entryOffset + 8);\n\t                    vals   = [];\n\t                    for (n = 0; n < numValues; n++) {\n\t                        vals[n] = file.getUint8(offset + n);\n\t                    }\n\t                    return vals;\n\t                }\n\n\t            case 2: // ascii, 8-bit byte\n\t                offset = numValues > 4 ? valueOffset : (entryOffset + 8);\n\t                return getStringFromDB(file, offset, numValues - 1);\n\n\t            case 3: // short, 16 bit int\n\t                if (numValues == 1) {\n\t                    return file.getUint16(entryOffset + 8, !bigEnd);\n\t                } else {\n\t                    offset = numValues > 2 ? valueOffset : (entryOffset + 8);\n\t                    vals   = [];\n\t                    for (n = 0; n < numValues; n++) {\n\t                        vals[n] = file.getUint16(offset + 2 * n, !bigEnd);\n\t                    }\n\t                    return vals;\n\t                }\n\n\t            case 4: // long, 32 bit int\n\t                if (numValues == 1) {\n\t                    return file.getUint32(entryOffset + 8, !bigEnd);\n\t                } else {\n\t                    vals = [];\n\t                    for (n = 0; n < numValues; n++) {\n\t                        vals[n] = file.getUint32(valueOffset + 4 * n, !bigEnd);\n\t                    }\n\t                    return vals;\n\t                }\n\n\t            case 5:    // rational = two long values, first is numerator, second is denominator\n\t                if (numValues == 1) {\n\t                    numerator       = file.getUint32(valueOffset, !bigEnd);\n\t                    denominator     = file.getUint32(valueOffset + 4, !bigEnd);\n\t                    val             = new Number(numerator / denominator);\n\t                    val.numerator   = numerator;\n\t                    val.denominator = denominator;\n\t                    return val;\n\t                } else {\n\t                    vals = [];\n\t                    for (n = 0; n < numValues; n++) {\n\t                        numerator           = file.getUint32(valueOffset + 8 * n, !bigEnd);\n\t                        denominator         = file.getUint32(valueOffset + 4 + 8 * n, !bigEnd);\n\t                        vals[n]             = new Number(numerator / denominator);\n\t                        vals[n].numerator   = numerator;\n\t                        vals[n].denominator = denominator;\n\t                    }\n\t                    return vals;\n\t                }\n\n\t            case 9: // slong, 32 bit signed int\n\t                if (numValues == 1) {\n\t                    return file.getInt32(entryOffset + 8, !bigEnd);\n\t                } else {\n\t                    vals = [];\n\t                    for (n = 0; n < numValues; n++) {\n\t                        vals[n] = file.getInt32(valueOffset + 4 * n, !bigEnd);\n\t                    }\n\t                    return vals;\n\t                }\n\n\t            case 10: // signed rational, two slongs, first is numerator, second is denominator\n\t                if (numValues == 1) {\n\t                    return file.getInt32(valueOffset, !bigEnd) / file.getInt32(valueOffset + 4, !bigEnd);\n\t                } else {\n\t                    vals = [];\n\t                    for (n = 0; n < numValues; n++) {\n\t                        vals[n] = file.getInt32(valueOffset + 8 * n, !bigEnd) / file.getInt32(valueOffset + 4 + 8 * n, !bigEnd);\n\t                    }\n\t                    return vals;\n\t                }\n\t        }\n\t    }\n\n\t    function getStringFromDB (buffer, start, length) {\n\t        var outstr = \"\", n;\n\t        for (n = start; n < start + length; n++) {\n\t            outstr += String.fromCharCode(buffer.getUint8(n));\n\t        }\n\t        return outstr;\n\t    }\n\n\t    function readEXIFData (file, start) {\n\t        if (getStringFromDB(file, start, 4) != \"Exif\") {\n\t            if (debug) console.log(\"Not valid EXIF data! \" + getStringFromDB(file, start, 4));\n\t            return false;\n\t        }\n\n\t        var bigEnd,\n\t            tags, tag,\n\t            exifData, gpsData,\n\t            tiffOffset = start + 6;\n\n\t        // test for TIFF validity and endianness\n\t        if (file.getUint16(tiffOffset) == 0x4949) {\n\t            bigEnd = false;\n\t        } else if (file.getUint16(tiffOffset) == 0x4D4D) {\n\t            bigEnd = true;\n\t        } else {\n\t            if (debug) console.log(\"Not valid TIFF data! (no 0x4949 or 0x4D4D)\");\n\t            return false;\n\t        }\n\n\t        if (file.getUint16(tiffOffset + 2, !bigEnd) != 0x002A) {\n\t            if (debug) console.log(\"Not valid TIFF data! (no 0x002A)\");\n\t            return false;\n\t        }\n\n\t        var firstIFDOffset = file.getUint32(tiffOffset + 4, !bigEnd);\n\n\t        if (firstIFDOffset < 0x00000008) {\n\t            if (debug) console.log(\"Not valid TIFF data! (First offset less than 8)\", file.getUint32(tiffOffset + 4, !bigEnd));\n\t            return false;\n\t        }\n\n\t        tags = readTags(file, tiffOffset, tiffOffset + firstIFDOffset, TiffTags, bigEnd);\n\n\t        if (tags.ExifIFDPointer) {\n\t            exifData = readTags(file, tiffOffset, tiffOffset + tags.ExifIFDPointer, ExifTags, bigEnd);\n\t            for (tag in exifData) {\n\t                switch (tag) {\n\t                    case \"LightSource\" :\n\t                    case \"Flash\" :\n\t                    case \"MeteringMode\" :\n\t                    case \"ExposureProgram\" :\n\t                    case \"SensingMethod\" :\n\t                    case \"SceneCaptureType\" :\n\t                    case \"SceneType\" :\n\t                    case \"CustomRendered\" :\n\t                    case \"WhiteBalance\" :\n\t                    case \"GainControl\" :\n\t                    case \"Contrast\" :\n\t                    case \"Saturation\" :\n\t                    case \"Sharpness\" :\n\t                    case \"SubjectDistanceRange\" :\n\t                    case \"FileSource\" :\n\t                        exifData[tag] = StringValues[tag][exifData[tag]];\n\t                        break;\n\n\t                    case \"ExifVersion\" :\n\t                    case \"FlashpixVersion\" :\n\t                        exifData[tag] = String.fromCharCode(exifData[tag][0], exifData[tag][1], exifData[tag][2], exifData[tag][3]);\n\t                        break;\n\n\t                    case \"ComponentsConfiguration\" :\n\t                        exifData[tag] =\n\t                            StringValues.Components[exifData[tag][0]] +\n\t                            StringValues.Components[exifData[tag][1]] +\n\t                            StringValues.Components[exifData[tag][2]] +\n\t                            StringValues.Components[exifData[tag][3]];\n\t                        break;\n\t                }\n\t                tags[tag] = exifData[tag];\n\t            }\n\t        }\n\n\t        if (tags.GPSInfoIFDPointer) {\n\t            gpsData = readTags(file, tiffOffset, tiffOffset + tags.GPSInfoIFDPointer, GPSTags, bigEnd);\n\t            for (tag in gpsData) {\n\t                switch (tag) {\n\t                    case \"GPSVersionID\" :\n\t                        gpsData[tag] = gpsData[tag][0] +\n\t                            \".\" + gpsData[tag][1] +\n\t                            \".\" + gpsData[tag][2] +\n\t                            \".\" + gpsData[tag][3];\n\t                        break;\n\t                }\n\t                tags[tag] = gpsData[tag];\n\t            }\n\t        }\n\n\t        return tags;\n\t    }\n\n\t    EXIF.getData = function (img, callback) {\n\t        if ((img instanceof Image || img instanceof HTMLImageElement) && !img.complete) return false;\n\n\t        if (!imageHasData(img)) {\n\t            getImageData(img, callback);\n\t        } else {\n\t            if (callback) {\n\t                callback.call(img);\n\t            }\n\t        }\n\t        return true;\n\t    }\n\n\t    EXIF.getTag = function (img, tag) {\n\t        if (!imageHasData(img)) return;\n\t        return img.exifdata[tag];\n\t    }\n\n\t    EXIF.getAllTags = function (img) {\n\t        if (!imageHasData(img)) return {};\n\t        var a,\n\t            data = img.exifdata,\n\t            tags = {};\n\t        for (a in data) {\n\t            if (data.hasOwnProperty(a)) {\n\t                tags[a] = data[a];\n\t            }\n\t        }\n\t        return tags;\n\t    }\n\n\t    EXIF.pretty = function (img) {\n\t        if (!imageHasData(img)) return \"\";\n\t        var a,\n\t            data      = img.exifdata,\n\t            strPretty = \"\";\n\t        for (a in data) {\n\t            if (data.hasOwnProperty(a)) {\n\t                if (typeof data[a] == \"object\") {\n\t                    if (data[a] instanceof Number) {\n\t                        strPretty += a + \" : \" + data[a] + \" [\" + data[a].numerator + \"/\" + data[a].denominator + \"]\\r\\n\";\n\t                    } else {\n\t                        strPretty += a + \" : [\" + data[a].length + \" values]\\r\\n\";\n\t                    }\n\t                } else {\n\t                    strPretty += a + \" : \" + data[a] + \"\\r\\n\";\n\t                }\n\t            }\n\t        }\n\t        return strPretty;\n\t    }\n\n\t    EXIF.readFromBinaryFile = function (file) {\n\t        return findEXIFinJPEG(file);\n\t    }\n\n\t    if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = function () {\n\t            return EXIF;\n\t        }.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    }\n\t}.call(this));\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\n\t * Mega pixel image rendering library for iOS6 Safari\n\t *\n\t * Fixes iOS6 Safari's image file rendering issue for large size image (over mega-pixel),\n\t * which causes unexpected subsampling when drawing it in canvas.\n\t * By using this library, you can safely render the image with proper stretching.\n\t *\n\t * Copyright (c) 2012 Shinichi Tomita <shinichi.tomita@gmail.com>\n\t * Released under the MIT license\n\t */\n\t(function () {\n\n\t    /**\n\t     * Detect subsampling in loaded image.\n\t     * In iOS, larger images than 2M pixels may be subsampled in rendering.\n\t     */\n\t    function detectSubsampling (img) {\n\t        var iw = img.naturalWidth, ih = img.naturalHeight;\n\t        if (iw * ih > 1024 * 1024) { // subsampling may happen over megapixel image\n\t            var canvas   = document.createElement('canvas');\n\t            canvas.width = canvas.height = 1;\n\t            var ctx = canvas.getContext('2d');\n\t            ctx.drawImage(img, -iw + 1, 0);\n\t            // subsampled image becomes half smaller in rendering size.\n\t            // check alpha channel value to confirm image is covering edge pixel or not.\n\t            // if alpha value is 0 image is not covering, hence subsampled.\n\t            return ctx.getImageData(0, 0, 1, 1).data[3] === 0;\n\t        } else {\n\t            return false;\n\t        }\n\t    }\n\n\t    /**\n\t     * Detecting vertical squash in loaded image.\n\t     * Fixes a bug which squash image vertically while drawing into canvas for some images.\n\t     */\n\t    function detectVerticalSquash (img, iw, ih) {\n\t        var canvas    = document.createElement('canvas');\n\t        canvas.width  = 1;\n\t        canvas.height = ih;\n\t        var ctx       = canvas.getContext('2d');\n\t        ctx.drawImage(img, 0, 0);\n\t        var data      = ctx.getImageData(0, 0, 1, ih).data;\n\t        // search image edge pixel position in case it is squashed vertically.\n\t        var sy = 0;\n\t        var ey = ih;\n\t        var py = ih;\n\t        while (py > sy) {\n\t            var alpha = data[(py - 1) * 4 + 3];\n\t            if (alpha === 0) {\n\t                ey = py;\n\t            } else {\n\t                sy = py;\n\t            }\n\t            py = (ey + sy) >> 1;\n\t        }\n\t        var ratio = (py / ih);\n\t        return (ratio === 0) ? 1 : ratio;\n\t    }\n\n\t    /**\n\t     * Rendering image element (with resizing) and get its data URL\n\t     */\n\t    function renderImageToDataURL (img, options, doSquash) {\n\t        var canvas = document.createElement('canvas');\n\t        renderImageToCanvas(img, canvas, options, doSquash);\n\t        return canvas.toDataURL(\"image/jpeg\", options.quality || 0.8);\n\t    }\n\n\t    /**\n\t     * Rendering image element (with resizing) into the canvas element\n\t     */\n\t    function renderImageToCanvas (img, canvas, options, doSquash) {\n\t        var iw         = img.naturalWidth, ih = img.naturalHeight;\n\t        var width      = options.width, height = options.height;\n\t        var ctx        = canvas.getContext('2d');\n\t        ctx.save();\n\t        transformCoordinate(canvas, ctx, width, height, options.orientation);\n\t        var subsampled = detectSubsampling(img);\n\t        if (subsampled) {\n\t            iw /= 2;\n\t            ih /= 2;\n\t        }\n\t        var d = 1024; // size of tiling canvas\n\t        var tmpCanvas   = document.createElement('canvas');\n\t        tmpCanvas.width = tmpCanvas.height = d;\n\t        var tmpCtx          = tmpCanvas.getContext('2d');\n\t        var vertSquashRatio = doSquash ? detectVerticalSquash(img, iw, ih) : 1;\n\t        var dw              = Math.ceil(d * width / iw);\n\t        var dh              = Math.ceil(d * height / ih / vertSquashRatio);\n\t        var sy              = 0;\n\t        var dy              = 0;\n\t        while (sy < ih) {\n\t            var sx = 0;\n\t            var dx = 0;\n\t            while (sx < iw) {\n\t                tmpCtx.clearRect(0, 0, d, d);\n\t                tmpCtx.drawImage(img, -sx, -sy);\n\t                ctx.drawImage(tmpCanvas, 0, 0, d, d, dx, dy, dw, dh);\n\t                sx += d;\n\t                dx += dw;\n\t            }\n\t            sy += d;\n\t            dy += dh;\n\t        }\n\t        ctx.restore();\n\t        tmpCanvas           = tmpCtx = null;\n\t    }\n\n\t    /**\n\t     * Transform canvas coordination according to specified frame size and orientation\n\t     * Orientation value is from EXIF tag\n\t     */\n\t    function transformCoordinate (canvas, ctx, width, height, orientation) {\n\t        switch (orientation) {\n\t            case 5:\n\t            case 6:\n\t            case 7:\n\t            case 8:\n\t                canvas.width  = height;\n\t                canvas.height = width;\n\t                break;\n\t            default:\n\t                canvas.width  = width;\n\t                canvas.height = height;\n\t        }\n\t        switch (orientation) {\n\t            case 2:\n\t                // horizontal flip\n\t                ctx.translate(width, 0);\n\t                ctx.scale(-1, 1);\n\t                break;\n\t            case 3:\n\t                // 180 rotate left\n\t                ctx.translate(width, height);\n\t                ctx.rotate(Math.PI);\n\t                break;\n\t            case 4:\n\t                // vertical flip\n\t                ctx.translate(0, height);\n\t                ctx.scale(1, -1);\n\t                break;\n\t            case 5:\n\t                // vertical flip + 90 rotate right\n\t                ctx.rotate(0.5 * Math.PI);\n\t                ctx.scale(1, -1);\n\t                break;\n\t            case 6:\n\t                // 90 rotate right\n\t                ctx.rotate(0.5 * Math.PI);\n\t                ctx.translate(0, -height);\n\t                break;\n\t            case 7:\n\t                // horizontal flip + 90 rotate right\n\t                ctx.rotate(0.5 * Math.PI);\n\t                ctx.translate(width, -height);\n\t                ctx.scale(-1, 1);\n\t                break;\n\t            case 8:\n\t                // 90 rotate left\n\t                ctx.rotate(-0.5 * Math.PI);\n\t                ctx.translate(-width, 0);\n\t                break;\n\t            default:\n\t                break;\n\t        }\n\t    }\n\n\n\t    /**\n\t     * MegaPixImage class\n\t     */\n\t    function MegaPixImage (srcImage) {\n\t        if (window.Blob && srcImage instanceof Blob) {\n\t            var img = new Image();\n\t            var URL = window.URL && window.URL.createObjectURL ? window.URL :\n\t                window.webkitURL && window.webkitURL.createObjectURL ? window.webkitURL :\n\t                    null;\n\t            if (!URL) {\n\t                throw Error(\"No createObjectURL function found to create blob url\");\n\t            }\n\t            img.src   = URL.createObjectURL(srcImage);\n\t            this.blob = srcImage;\n\t            srcImage  = img;\n\t        }\n\t        if (!srcImage.naturalWidth && !srcImage.naturalHeight) {\n\t            var _this               = this;\n\t            srcImage.onload         = function () {\n\t                var listeners = _this.imageLoadListeners;\n\t                if (listeners) {\n\t                    _this.imageLoadListeners = null;\n\t                    for (var i = 0, len = listeners.length; i < len; i++) {\n\t                        listeners[i]();\n\t                    }\n\t                }\n\t            };\n\t            this.imageLoadListeners = [];\n\t        }\n\t        this.srcImage = srcImage;\n\t    }\n\n\t    /**\n\t     * Rendering megapix image into specified target element\n\t     */\n\t    MegaPixImage.prototype.render = function (target, options, callback) {\n\t        if (this.imageLoadListeners) {\n\t            var _this = this;\n\t            this.imageLoadListeners.push(function () {\n\t                _this.render(target, options, callback);\n\t            });\n\t            return;\n\t        }\n\t        options       = options || {};\n\t        var srcImage  = this.srcImage,\n\t            src       = srcImage.src,\n\t            srcLength = src.length,\n\t            imgWidth  = srcImage.naturalWidth, imgHeight = srcImage.naturalHeight,\n\t            width     = options.width, height = options.height,\n\t            maxWidth  = options.maxWidth, maxHeight = options.maxHeight,\n\t            doSquash  = this.blob && this.blob.type === 'image/jpeg' ||\n\t                src.indexOf('data:image/jpeg') === 0 ||\n\t                src.indexOf('.jpg') === srcLength - 4 ||\n\t                src.indexOf('.jpeg') === srcLength - 5;\n\t        if (width && !height) {\n\t            height = (imgHeight * width / imgWidth) << 0;\n\t        } else if (height && !width) {\n\t            width = (imgWidth * height / imgHeight) << 0;\n\t        } else {\n\t            width  = imgWidth;\n\t            height = imgHeight;\n\t        }\n\t        if (maxWidth && width > maxWidth) {\n\t            width  = maxWidth;\n\t            height = (imgHeight * width / imgWidth) << 0;\n\t        }\n\t        if (maxHeight && height > maxHeight) {\n\t            height = maxHeight;\n\t            width  = (imgWidth * height / imgHeight) << 0;\n\t        }\n\t        var opt = {width: width, height: height};\n\t        for (var k in options) opt[k] = options[k];\n\n\t        var tagName = target.tagName.toLowerCase();\n\t        if (tagName === 'img') {\n\t            target.src = renderImageToDataURL(this.srcImage, opt, doSquash);\n\t        } else if (tagName === 'canvas') {\n\t            renderImageToCanvas(this.srcImage, target, opt, doSquash);\n\t        }\n\t        if (typeof this.onrender === 'function') {\n\t            this.onrender(target);\n\t        }\n\t        if (callback) {\n\t            callback();\n\t        }\n\t    };\n\n\t    /**\n\t     * Export class to global\n\t     */\n\t    if (true) {\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = function () {\n\t            return MegaPixImage;\n\t        }.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)); // for AMD loader\n\t    } else {\n\t        this.MegaPixImage = MegaPixImage;\n\t    }\n\n\t})();\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports) {\n\n\tfunction JPEGEncoder (l) {\n\t    var o = this;\n\t    var s = Math.round;\n\t    var k = Math.floor;\n\t    var O = new Array(64);\n\t    var K = new Array(64);\n\t    var d = new Array(64);\n\t    var Z = new Array(64);\n\t    var u;\n\t    var h;\n\t    var G;\n\t    var T;\n\t    var n = new Array(65535);\n\t    var m = new Array(65535);\n\t    var P = new Array(64);\n\t    var S = new Array(64);\n\t    var j = [];\n\t    var t = 0;\n\t    var a = 7;\n\t    var A = new Array(64);\n\t    var f = new Array(64);\n\t    var U = new Array(64);\n\t    var e = new Array(256);\n\t    var C = new Array(2048);\n\t    var x;\n\t    var i = [0, 1, 5, 6, 14, 15, 27, 28, 2, 4, 7, 13, 16, 26, 29, 42, 3, 8, 12, 17, 25, 30, 41, 43, 9, 11, 18, 24, 31, 40, 44, 53, 10, 19, 23, 32, 39, 45, 52, 54, 20, 22, 33, 38, 46, 51, 55, 60, 21, 34, 37, 47, 50, 56, 59, 61, 35, 36, 48, 49, 57, 58, 62, 63];\n\t    var g = [0, 0, 1, 5, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0];\n\t    var c = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11];\n\t    var w = [0, 0, 2, 1, 3, 3, 2, 4, 3, 5, 5, 4, 4, 0, 0, 1, 125];\n\t    var E = [1, 2, 3, 0, 4, 17, 5, 18, 33, 49, 65, 6, 19, 81, 97, 7, 34, 113, 20, 50, 129, 145, 161, 8, 35, 66, 177, 193, 21, 82, 209, 240, 36, 51, 98, 114, 130, 9, 10, 22, 23, 24, 25, 26, 37, 38, 39, 40, 41, 42, 52, 53, 54, 55, 56, 57, 58, 67, 68, 69, 70, 71, 72, 73, 74, 83, 84, 85, 86, 87, 88, 89, 90, 99, 100, 101, 102, 103, 104, 105, 106, 115, 116, 117, 118, 119, 120, 121, 122, 131, 132, 133, 134, 135, 136, 137, 138, 146, 147, 148, 149, 150, 151, 152, 153, 154, 162, 163, 164, 165, 166, 167, 168, 169, 170, 178, 179, 180, 181, 182, 183, 184, 185, 186, 194, 195, 196, 197, 198, 199, 200, 201, 202, 210, 211, 212, 213, 214, 215, 216, 217, 218, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250];\n\t    var v = [0, 0, 3, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0];\n\t    var Y = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11];\n\t    var J = [0, 0, 2, 1, 2, 4, 4, 3, 4, 7, 5, 4, 4, 0, 1, 2, 119];\n\t    var B = [0, 1, 2, 3, 17, 4, 5, 33, 49, 6, 18, 65, 81, 7, 97, 113, 19, 34, 50, 129, 8, 20, 66, 145, 161, 177, 193, 9, 35, 51, 82, 240, 21, 98, 114, 209, 10, 22, 36, 52, 225, 37, 241, 23, 24, 25, 26, 38, 39, 40, 41, 42, 53, 54, 55, 56, 57, 58, 67, 68, 69, 70, 71, 72, 73, 74, 83, 84, 85, 86, 87, 88, 89, 90, 99, 100, 101, 102, 103, 104, 105, 106, 115, 116, 117, 118, 119, 120, 121, 122, 130, 131, 132, 133, 134, 135, 136, 137, 138, 146, 147, 148, 149, 150, 151, 152, 153, 154, 162, 163, 164, 165, 166, 167, 168, 169, 170, 178, 179, 180, 181, 182, 183, 184, 185, 186, 194, 195, 196, 197, 198, 199, 200, 201, 202, 210, 211, 212, 213, 214, 215, 216, 217, 218, 226, 227, 228, 229, 230, 231, 232, 233, 234, 242, 243, 244, 245, 246, 247, 248, 249, 250];\n\n\t    function M (ag) {\n\t        var af = [16, 11, 10, 16, 24, 40, 51, 61, 12, 12, 14, 19, 26, 58, 60, 55, 14, 13, 16, 24, 40, 57, 69, 56, 14, 17, 22, 29, 51, 87, 80, 62, 18, 22, 37, 56, 68, 109, 103, 77, 24, 35, 55, 64, 81, 104, 113, 92, 49, 64, 78, 87, 103, 121, 120, 101, 72, 92, 95, 98, 112, 100, 103, 99];\n\t        for (var ae = 0; ae < 64; ae++) {\n\t            var aj = k((af[ae] * ag + 50) / 100);\n\t            if (aj < 1) {\n\t                aj = 1\n\t            } else {\n\t                if (aj > 255) {\n\t                    aj = 255\n\t                }\n\t            }\n\t            O[i[ae]] = aj\n\t        }\n\t        var ah = [17, 18, 24, 47, 99, 99, 99, 99, 18, 21, 26, 66, 99, 99, 99, 99, 24, 26, 56, 99, 99, 99, 99, 99, 47, 66, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99];\n\t        for (var ad = 0; ad < 64; ad++) {\n\t            var ai = k((ah[ad] * ag + 50) / 100);\n\t            if (ai < 1) {\n\t                ai = 1\n\t            } else {\n\t                if (ai > 255) {\n\t                    ai = 255\n\t                }\n\t            }\n\t            K[i[ad]] = ai\n\t        }\n\t        var ac = [1, 1.387039845, 1.306562965, 1.175875602, 1, 0.785694958, 0.5411961, 0.275899379];\n\t        var ab = 0;\n\t        for (var ak = 0; ak < 8; ak++) {\n\t            for (var aa = 0; aa < 8; aa++) {\n\t                d[ab] = (1 / (O[i[ab]] * ac[ak] * ac[aa] * 8));\n\t                Z[ab] = (1 / (K[i[ab]] * ac[ak] * ac[aa] * 8));\n\t                ab++\n\t            }\n\t        }\n\t    }\n\n\t    function q (ae, aa) {\n\t        var ad = 0;\n\t        var ag = 0;\n\t        var af = new Array();\n\t        for (var ab = 1; ab <= 16; ab++) {\n\t            for (var ac = 1; ac <= ae[ab]; ac++) {\n\t                af[aa[ag]]    = [];\n\t                af[aa[ag]][0] = ad;\n\t                af[aa[ag]][1] = ab;\n\t                ag++;\n\t                ad++\n\t            }\n\t            ad *= 2\n\t        }\n\t        return af\n\t    }\n\n\t    function W () {\n\t        u = q(g, c);\n\t        h = q(v, Y);\n\t        G = q(w, E);\n\t        T = q(J, B)\n\t    }\n\n\t    function z () {\n\t        var ac = 1;\n\t        var ab = 2;\n\t        for (var aa = 1; aa <= 15; aa++) {\n\t            for (var ad = ac; ad < ab; ad++) {\n\t                m[32767 + ad]    = aa;\n\t                n[32767 + ad]    = [];\n\t                n[32767 + ad][1] = aa;\n\t                n[32767 + ad][0] = ad\n\t            }\n\t            for (var ae = -(ab - 1); ae <= -ac; ae++) {\n\t                m[32767 + ae]    = aa;\n\t                n[32767 + ae]    = [];\n\t                n[32767 + ae][1] = aa;\n\t                n[32767 + ae][0] = ab - 1 + ae\n\t            }\n\t            ac <<= 1;\n\t            ab <<= 1\n\t        }\n\t    }\n\n\t    function V () {\n\t        for (var aa = 0; aa < 256; aa++) {\n\t            C[aa]               = 19595 * aa;\n\t            C[(aa + 256) >> 0]  = 38470 * aa;\n\t            C[(aa + 512) >> 0]  = 7471 * aa + 32768;\n\t            C[(aa + 768) >> 0]  = -11059 * aa;\n\t            C[(aa + 1024) >> 0] = -21709 * aa;\n\t            C[(aa + 1280) >> 0] = 32768 * aa + 8421375;\n\t            C[(aa + 1536) >> 0] = -27439 * aa;\n\t            C[(aa + 1792) >> 0] = -5329 * aa\n\t        }\n\t    }\n\n\t    function X (aa) {\n\t        var ac = aa[0];\n\t        var ab = aa[1] - 1;\n\t        while (ab >= 0) {\n\t            if (ac & (1 << ab)) {\n\t                t |= (1 << a)\n\t            }\n\t            ab--;\n\t            a--;\n\t            if (a < 0) {\n\t                if (t == 255) {\n\t                    F(255);\n\t                    F(0)\n\t                } else {\n\t                    F(t)\n\t                }\n\t                a = 7;\n\t                t = 0\n\t            }\n\t        }\n\t    }\n\n\t    function F (aa) {\n\t        j.push(e[aa])\n\t    }\n\n\t    function p (aa) {\n\t        F((aa >> 8) & 255);\n\t        F((aa) & 255)\n\t    }\n\n\t    function N (aZ, ap) {\n\t        var aL, aK, aJ, aI, aH, aD, aC, aB;\n\t        var aN   = 0;\n\t        var aR;\n\t        const aq = 8;\n\t        const ai = 64;\n\t        for (aR = 0; aR < aq; ++aR) {\n\t            aL         = aZ[aN];\n\t            aK         = aZ[aN + 1];\n\t            aJ         = aZ[aN + 2];\n\t            aI         = aZ[aN + 3];\n\t            aH         = aZ[aN + 4];\n\t            aD         = aZ[aN + 5];\n\t            aC         = aZ[aN + 6];\n\t            aB         = aZ[aN + 7];\n\t            var aY     = aL + aB;\n\t            var aO     = aL - aB;\n\t            var aX     = aK + aC;\n\t            var aP     = aK - aC;\n\t            var aU     = aJ + aD;\n\t            var aQ     = aJ - aD;\n\t            var aT     = aI + aH;\n\t            var aS     = aI - aH;\n\t            var an     = aY + aT;\n\t            var ak     = aY - aT;\n\t            var am     = aX + aU;\n\t            var al     = aX - aU;\n\t            aZ[aN]     = an + am;\n\t            aZ[aN + 4] = an - am;\n\t            var ax     = (al + ak) * 0.707106781;\n\t            aZ[aN + 2] = ak + ax;\n\t            aZ[aN + 6] = ak - ax;\n\t            an         = aS + aQ;\n\t            am         = aQ + aP;\n\t            al         = aP + aO;\n\t            var at     = (an - al) * 0.382683433;\n\t            var aw     = 0.5411961 * an + at;\n\t            var au     = 1.306562965 * al + at;\n\t            var av     = am * 0.707106781;\n\t            var ah     = aO + av;\n\t            var ag     = aO - av;\n\t            aZ[aN + 5] = ag + aw;\n\t            aZ[aN + 3] = ag - aw;\n\t            aZ[aN + 1] = ah + au;\n\t            aZ[aN + 7] = ah - au;\n\t            aN += 8\n\t        }\n\t        aN = 0;\n\t        for (aR = 0; aR < aq; ++aR) {\n\t            aL          = aZ[aN];\n\t            aK          = aZ[aN + 8];\n\t            aJ          = aZ[aN + 16];\n\t            aI          = aZ[aN + 24];\n\t            aH          = aZ[aN + 32];\n\t            aD          = aZ[aN + 40];\n\t            aC          = aZ[aN + 48];\n\t            aB          = aZ[aN + 56];\n\t            var ar      = aL + aB;\n\t            var aj      = aL - aB;\n\t            var az      = aK + aC;\n\t            var ae      = aK - aC;\n\t            var aG      = aJ + aD;\n\t            var ac      = aJ - aD;\n\t            var aW      = aI + aH;\n\t            var aa      = aI - aH;\n\t            var ao      = ar + aW;\n\t            var aV      = ar - aW;\n\t            var ay      = az + aG;\n\t            var aF      = az - aG;\n\t            aZ[aN]      = ao + ay;\n\t            aZ[aN + 32] = ao - ay;\n\t            var af      = (aF + aV) * 0.707106781;\n\t            aZ[aN + 16] = aV + af;\n\t            aZ[aN + 48] = aV - af;\n\t            ao          = aa + ac;\n\t            ay          = ac + ae;\n\t            aF          = ae + aj;\n\t            var aM      = (ao - aF) * 0.382683433;\n\t            var ad      = 0.5411961 * ao + aM;\n\t            var a1      = 1.306562965 * aF + aM;\n\t            var ab      = ay * 0.707106781;\n\t            var a0      = aj + ab;\n\t            var aA      = aj - ab;\n\t            aZ[aN + 40] = aA + ad;\n\t            aZ[aN + 24] = aA - ad;\n\t            aZ[aN + 8]  = a0 + a1;\n\t            aZ[aN + 56] = a0 - a1;\n\t            aN++\n\t        }\n\t        var aE;\n\t        for (aR = 0; aR < ai; ++aR) {\n\t            aE    = aZ[aR] * ap[aR];\n\t            P[aR] = (aE > 0) ? ((aE + 0.5) | 0) : ((aE - 0.5) | 0)\n\t        }\n\t        return P\n\t    }\n\n\t    function b () {\n\t        p(65504);\n\t        p(16);\n\t        F(74);\n\t        F(70);\n\t        F(73);\n\t        F(70);\n\t        F(0);\n\t        F(1);\n\t        F(1);\n\t        F(0);\n\t        p(1);\n\t        p(1);\n\t        F(0);\n\t        F(0)\n\t    }\n\n\t    function r (aa, ab) {\n\t        p(65472);\n\t        p(17);\n\t        F(8);\n\t        p(ab);\n\t        p(aa);\n\t        F(3);\n\t        F(1);\n\t        F(17);\n\t        F(0);\n\t        F(2);\n\t        F(17);\n\t        F(1);\n\t        F(3);\n\t        F(17);\n\t        F(1)\n\t    }\n\n\t    function D () {\n\t        p(65499);\n\t        p(132);\n\t        F(0);\n\t        for (var ab = 0; ab < 64; ab++) {\n\t            F(O[ab])\n\t        }\n\t        F(1);\n\t        for (var aa = 0; aa < 64; aa++) {\n\t            F(K[aa])\n\t        }\n\t    }\n\n\t    function H () {\n\t        p(65476);\n\t        p(418);\n\t        F(0);\n\t        for (var ae = 0; ae < 16; ae++) {\n\t            F(g[ae + 1])\n\t        }\n\t        for (var ad = 0; ad <= 11; ad++) {\n\t            F(c[ad])\n\t        }\n\t        F(16);\n\t        for (var ac = 0; ac < 16; ac++) {\n\t            F(w[ac + 1])\n\t        }\n\t        for (var ab = 0; ab <= 161; ab++) {\n\t            F(E[ab])\n\t        }\n\t        F(1);\n\t        for (var aa = 0; aa < 16; aa++) {\n\t            F(v[aa + 1])\n\t        }\n\t        for (var ah = 0; ah <= 11; ah++) {\n\t            F(Y[ah])\n\t        }\n\t        F(17);\n\t        for (var ag = 0; ag < 16; ag++) {\n\t            F(J[ag + 1])\n\t        }\n\t        for (var af = 0; af <= 161; af++) {\n\t            F(B[af])\n\t        }\n\t    }\n\n\t    function I () {\n\t        p(65498);\n\t        p(12);\n\t        F(3);\n\t        F(1);\n\t        F(0);\n\t        F(2);\n\t        F(17);\n\t        F(3);\n\t        F(17);\n\t        F(0);\n\t        F(63);\n\t        F(0)\n\t    }\n\n\t    function L (ad, aa, al, at, ap) {\n\t        var ag   = ap[0];\n\t        var ab   = ap[240];\n\t        var ac;\n\t        const ar = 16;\n\t        const ai = 63;\n\t        const ah = 64;\n\t        var aq   = N(ad, aa);\n\t        for (var am = 0; am < ah; ++am) {\n\t            S[i[am]] = aq[am]\n\t        }\n\t        var an = S[0] - al;\n\t        al     = S[0];\n\t        if (an == 0) {\n\t            X(at[0])\n\t        } else {\n\t            ac = 32767 + an;\n\t            X(at[m[ac]]);\n\t            X(n[ac])\n\t        }\n\t        var ae = 63;\n\t        for (; (ae > 0) && (S[ae] == 0); ae--) {\n\t        }\n\t        if (ae == 0) {\n\t            X(ag);\n\t            return al\n\t        }\n\t        var ao = 1;\n\t        var au;\n\t        while (ao <= ae) {\n\t            var ak = ao;\n\t            for (; (S[ao] == 0) && (ao <= ae); ++ao) {\n\t            }\n\t            var aj = ao - ak;\n\t            if (aj >= ar) {\n\t                au = aj >> 4;\n\t                for (var af = 1; af <= au; ++af) {\n\t                    X(ab)\n\t                }\n\t                aj = aj & 15\n\t            }\n\t            ac = 32767 + S[ao];\n\t            X(ap[(aj << 4) + m[ac]]);\n\t            X(n[ac]);\n\t            ao++\n\t        }\n\t        if (ae != ai) {\n\t            X(ag)\n\t        }\n\t        return al\n\t    }\n\n\t    function y () {\n\t        var ab = String.fromCharCode;\n\t        for (var aa = 0; aa < 256; aa++) {\n\t            e[aa] = ab(aa)\n\t        }\n\t    }\n\n\t    this.encode = function (an, aj, aB) {\n\t        var aa = new Date().getTime();\n\t        if (aj) {\n\t            R(aj)\n\t        }\n\t        j                       = new Array();\n\t        t                       = 0;\n\t        a                       = 7;\n\t        p(65496);\n\t        b();\n\t        D();\n\t        r(an.width, an.height);\n\t        H();\n\t        I();\n\t        var al                  = 0;\n\t        var aq                  = 0;\n\t        var ao                  = 0;\n\t        t                       = 0;\n\t        a                       = 7;\n\t        this.encode.displayName = \"_encode_\";\n\t        var at                  = an.data;\n\t        var ar                  = an.width;\n\t        var aA                  = an.height;\n\t        var ay                  = ar * 4;\n\t        var ai                  = ar * 3;\n\t        var ah, ag              = 0;\n\t        var am, ax, az;\n\t        var ab, ap, ac, af, ae;\n\t        while (ag < aA) {\n\t            ah = 0;\n\t            while (ah < ay) {\n\t                ab = ay * ag + ah;\n\t                ap = ab;\n\t                ac = -1;\n\t                af = 0;\n\t                for (ae = 0; ae < 64; ae++) {\n\t                    af = ae >> 3;\n\t                    ac = (ae & 7) * 4;\n\t                    ap = ab + (af * ay) + ac;\n\t                    if (ag + af >= aA) {\n\t                        ap -= (ay * (ag + 1 + af - aA))\n\t                    }\n\t                    if (ah + ac >= ay) {\n\t                        ap -= ((ah + ac) - ay + 4)\n\t                    }\n\t                    am    = at[ap++];\n\t                    ax    = at[ap++];\n\t                    az    = at[ap++];\n\t                    A[ae] = ((C[am] + C[(ax + 256) >> 0] + C[(az + 512) >> 0]) >> 16) - 128;\n\t                    f[ae] = ((C[(am + 768) >> 0] + C[(ax + 1024) >> 0] + C[(az + 1280) >> 0]) >> 16) - 128;\n\t                    U[ae] = ((C[(am + 1280) >> 0] + C[(ax + 1536) >> 0] + C[(az + 1792) >> 0]) >> 16) - 128\n\t                }\n\t                al = L(A, d, al, u, G);\n\t                aq = L(f, Z, aq, h, T);\n\t                ao = L(U, Z, ao, h, T);\n\t                ah += 32\n\t            }\n\t            ag += 8\n\t        }\n\t        if (a >= 0) {\n\t            var aw = [];\n\t            aw[1]  = a + 1;\n\t            aw[0]  = (1 << (a + 1)) - 1;\n\t            X(aw)\n\t        }\n\t        p(65497);\n\t        if (aB) {\n\t            var av = j.length;\n\t            var aC = new Uint8Array(av);\n\t            for (var au = 0; au < av; au++) {\n\t                aC[au] = j[au].charCodeAt()\n\t            }\n\t            j      = [];\n\t            var ak = new Date().getTime() - aa;\n\t            return aC\n\t        }\n\t        var ad = \"data:image/jpeg;base64,\" + btoa(j.join(\"\"));\n\t        j      = [];\n\t        var ak = new Date().getTime() - aa;\n\t        return ad\n\t    };\n\t    function R (ab) {\n\t        if (ab <= 0) {\n\t            ab = 1\n\t        }\n\t        if (ab > 100) {\n\t            ab = 100\n\t        }\n\t        if (x == ab) {\n\t            return\n\t        }\n\t        var aa = 0;\n\t        if (ab < 50) {\n\t            aa = Math.floor(5000 / ab)\n\t        } else {\n\t            aa = Math.floor(200 - ab * 2)\n\t        }\n\t        M(aa);\n\t        x      = ab;\n\t    }\n\n\t    function Q () {\n\t        var aa = new Date().getTime();\n\t        if (!l) {\n\t            l = 50\n\t        }\n\t        y();\n\t        W();\n\t        z();\n\t        V();\n\t        R(l);\n\t        var ab = new Date().getTime() - aa;\n\t    }\n\n\t    Q()\n\t}\n\n\tmodule.exports = JPEGEncoder;\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t// 保证按需加载的文件路径正确\n\t__webpack_require__.p = getJsDir('lrz') + '/';\n\twindow.URL              = window.URL || window.webkitURL;\n\n\tvar Promise          = __webpack_require__(1),\n\t    BlobFormDataShim = __webpack_require__(5),\n\t    exif             = __webpack_require__(6);\n\n\n\tvar UA = (function (userAgent) {\n\t    var ISOldIOS     = /OS (.*) like Mac OS X/g.exec(userAgent),\n\t        isOldAndroid = /Android (\\d.*?);/g.exec(userAgent) || /Android\\/(\\d.*?) /g.exec(userAgent);\n\n\t    // 判断设备是否是IOS7以下\n\t    // 判断设备是否是android4.5以下\n\t    // 判断是否iOS\n\t    // 判断是否android\n\t    // 判断是否QQ浏览器\n\t    var IOS_VERSION = ISOldIOS ? +ISOldIOS.pop().replace(/-/g, '.') : 0\n\t    return {\n\t        oldIOS    : ISOldIOS ? IOS_VERSION < 8 : false,\n\t        newIOS    : ISOldIOS ? IOS_VERSION >= 13 : false,\n\t        oldAndroid: isOldAndroid ? +isOldAndroid.pop().substr(0, 3) < 4.5 : false,\n\t        iOS       : /\\(i[^;]+;( U;)? CPU.+Mac OS X/.test(userAgent),\n\t        android   : /Android/g.test(userAgent),\n\t        mQQBrowser: /MQQBrowser/g.test(userAgent)\n\t    }\n\t})(navigator.userAgent);\n\n\n\tfunction Lrz (file, opts) {\n\t    var that = this;\n\n\t    if (!file) throw new Error('没有收到图片，可能的解决方案：https://github.com/think2011/localResizeIMG/issues/7');\n\n\t    opts = opts || {};\n\n\t    that.defaults = {\n\t        width    : null,\n\t        height   : null,\n\t        fieldName: 'file',\n\t        ingnoreOrientation: UA.iOS ? UA.newIOS : true,\n\t        quality  : 0.7\n\t    };\n\n\t    that.file = file;\n\n\t    for (var p in opts) {\n\t        if (!opts.hasOwnProperty(p)) continue;\n\t        that.defaults[p] = opts[p];\n\t    }\n\n\t    return this.init();\n\t}\n\n\tLrz.prototype.init = function () {\n\t    var that         = this,\n\t        file         = that.file,\n\t        fileIsString = typeof file === 'string',\n\t        fileIsBase64 = /^data:/.test(file),\n\t        img          = new Image(),\n\t        canvas       = document.createElement('canvas'),\n\t        blob         = fileIsString ? file : URL.createObjectURL(file);\n\n\t    that.img    = img;\n\t    that.blob   = blob;\n\t    that.canvas = canvas;\n\n\t    if (fileIsString) {\n\t        that.fileName = fileIsBase64 ? 'base64.jpg' : (file.split('/').pop());\n\t    } else {\n\t        that.fileName = file.name;\n\t    }\n\n\t    if (!document.createElement('canvas').getContext) {\n\t        throw new Error('浏览器不支持canvas');\n\t    }\n\n\t    return new Promise(function (resolve, reject) {\n\t        img.onerror = function () {\n\t            var err = new Error('加载图片文件失败');\n\t            reject(err);\n\t            throw err;\n\t        };\n\n\t        img.onload = function () {\n\t            that._getBase64()\n\t                .then(function (base64) {\n\t                    if (base64.length < 10) {\n\t                        var err = new Error('生成base64失败');\n\t                        reject(err);\n\t                        throw err;\n\t                    }\n\n\t                    return base64;\n\t                })\n\t                .then(function (base64) {\n\t                    var formData = null;\n\n\t                    // 压缩文件太大就采用源文件,且使用原生的FormData() @source #55\n\t                    if (typeof that.file === 'object' && base64.length > that.file.size) {\n\t                        formData = new FormData();\n\t                        file     = that.file;\n\t                    } else {\n\t                        formData = new BlobFormDataShim.FormData();\n\t                        file     = dataURItoBlob(base64);\n\t                    }\n\n\t                    formData.append(that.defaults.fieldName, file, (that.fileName.replace(/\\..+/g, '.jpg')));\n\n\t                    resolve({\n\t                        formData : formData,\n\t                        fileLen : +file.size,\n\t                        base64  : base64,\n\t                        base64Len: base64.length,\n\t                        origin   : that.file,\n\t                        file   : file\n\t                    });\n\n\t                    // 释放内存\n\t                    for (var p in that) {\n\t                        if (!that.hasOwnProperty(p)) continue;\n\n\t                        that[p] = null;\n\t                    }\n\t                    URL.revokeObjectURL(that.blob);\n\t                });\n\t        };\n\n\t        // 如果传入的是base64在移动端会报错\n\t        !fileIsBase64 && (img.crossOrigin = \"*\");\n\n\t        img.src = blob;\n\t    });\n\t};\n\n\tLrz.prototype._getBase64 = function () {\n\t    var that   = this,\n\t        img    = that.img,\n\t        file   = that.file,\n\t        canvas = that.canvas;\n\n\t    return new Promise(function (resolve) {\n\t        try {\n\t            // 传入blob在android4.3以下有bug\n\t            exif.getData(typeof file === 'object' ? file : img, function () {\n\t                that.orientation = that.defaults.ingnoreOrientation ? 0 : exif.getTag(this, \"Orientation\");\n\n\t                that.resize = that._getResize();\n\t                that.ctx    = canvas.getContext('2d');\n\n\t                canvas.width  = that.resize.width;\n\t                canvas.height = that.resize.height;\n\n\t                // 设置为白色背景，jpg是不支持透明的，所以会被默认为canvas默认的黑色背景。\n\t                that.ctx.fillStyle = '#fff';\n\t                that.ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n\t                // 根据设备对应处理方式\n\t                if (UA.oldIOS) {\n\t                    that._createBase64ForOldIOS().then(resolve);\n\t                }\n\t                else {\n\t                    that._createBase64().then(resolve);\n\t                }\n\t            });\n\t        } catch (err) {\n\t            // 这样能解决低内存设备闪退的问题吗？\n\t            throw new Error(err);\n\t        }\n\t    });\n\t};\n\n\n\tLrz.prototype._createBase64ForOldIOS = function () {\n\t    var that        = this,\n\t        img         = that.img,\n\t        canvas      = that.canvas,\n\t        defaults    = that.defaults,\n\t        orientation = that.orientation;\n\n\t    return new Promise(function (resolve) {\n\t        !/* require */(/* empty */function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(7)]; (function (MegaPixImage) {\n\t            var mpImg = new MegaPixImage(img);\n\n\t            if (\"5678\".indexOf(orientation) > -1) {\n\t                mpImg.render(canvas, {\n\t                    width      : canvas.height,\n\t                    height     : canvas.width,\n\t                    orientation: orientation\n\t                });\n\t            } else {\n\t                mpImg.render(canvas, {\n\t                    width      : canvas.width,\n\t                    height     : canvas.height,\n\t                    orientation: orientation\n\t                });\n\t            }\n\n\t            resolve(canvas.toDataURL('image/jpeg', defaults.quality));\n\t        }.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}());\n\t    });\n\t};\n\n\tLrz.prototype._createBase64 = function () {\n\t    var that        = this,\n\t        resize      = that.resize,\n\t        img         = that.img,\n\t        canvas      = that.canvas,\n\t        ctx         = that.ctx,\n\t        defaults    = that.defaults,\n\t        orientation = that.orientation;\n\n\t    // 调整为正确方向\n\t    switch (orientation) {\n\t        case 3:\n\t            ctx.rotate(180 * Math.PI / 180);\n\t            ctx.drawImage(img, -resize.width, -resize.height, resize.width, resize.height);\n\t            break;\n\t        case 6:\n\t            ctx.rotate(90 * Math.PI / 180);\n\t            ctx.drawImage(img, 0, -resize.width, resize.height, resize.width);\n\t            break;\n\t        case 8:\n\t            ctx.rotate(270 * Math.PI / 180);\n\t            ctx.drawImage(img, -resize.height, 0, resize.height, resize.width);\n\t            break;\n\n\t        case 2:\n\t            ctx.translate(resize.width, 0);\n\t            ctx.scale(-1, 1);\n\t            ctx.drawImage(img, 0, 0, resize.width, resize.height);\n\t            break;\n\t        case 4:\n\t            ctx.translate(resize.width, 0);\n\t            ctx.scale(-1, 1);\n\t            ctx.rotate(180 * Math.PI / 180);\n\t            ctx.drawImage(img, -resize.width, -resize.height, resize.width, resize.height);\n\t            break;\n\t        case 5:\n\t            ctx.translate(resize.width, 0);\n\t            ctx.scale(-1, 1);\n\t            ctx.rotate(90 * Math.PI / 180);\n\t            ctx.drawImage(img, 0, -resize.width, resize.height, resize.width);\n\t            break;\n\t        case 7:\n\t            ctx.translate(resize.width, 0);\n\t            ctx.scale(-1, 1);\n\t            ctx.rotate(270 * Math.PI / 180);\n\t            ctx.drawImage(img, -resize.height, 0, resize.height, resize.width);\n\t            break;\n\n\t        default:\n\t            ctx.drawImage(img, 0, 0, resize.width, resize.height);\n\t    }\n\n\t    return new Promise(function (resolve) {\n\t        if (UA.oldAndroid || UA.mQQBrowser || !navigator.userAgent) {\n\t            !/* require */(/* empty */function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(8)]; (function (JPEGEncoder) {\n\t                var encoder = new JPEGEncoder(),\n\t                    img     = ctx.getImageData(0, 0, canvas.width, canvas.height);\n\n\t                resolve(encoder.encode(img, defaults.quality * 100));\n\t            }.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}())\n\t        }\n\t        else {\n\t            resolve(canvas.toDataURL('image/jpeg', defaults.quality));\n\t        }\n\t    });\n\t};\n\n\tLrz.prototype._getResize = function () {\n\t    var that        = this,\n\t        img         = that.img,\n\t        defaults    = that.defaults,\n\t        width       = defaults.width,\n\t        height      = defaults.height,\n\t        orientation = that.orientation;\n\n\t    var ret = {\n\t        width : img.width,\n\t        height: img.height\n\t    };\n\n\t    if (\"5678\".indexOf(orientation) > -1) {\n\t        ret.width  = img.height;\n\t        ret.height = img.width;\n\t    }\n\n\t    // 如果原图小于设定，采用原图\n\t    if (ret.width < width || ret.height < height) {\n\t        return ret;\n\t    }\n\n\t    var scale = ret.width / ret.height;\n\n\t    if (width && height) {\n\t        if (scale >= width / height) {\n\t            if (ret.width > width) {\n\t                ret.width  = width;\n\t                ret.height = Math.ceil(width / scale);\n\t            }\n\t        } else {\n\t            if (ret.height > height) {\n\t                ret.height = height;\n\t                ret.width  = Math.ceil(height * scale);\n\t            }\n\t        }\n\t    }\n\t    else if (width) {\n\t        if (width < ret.width) {\n\t            ret.width  = width;\n\t            ret.height = Math.ceil(width / scale);\n\t        }\n\t    }\n\t    else if (height) {\n\t        if (height < ret.height) {\n\t            ret.width  = Math.ceil(height * scale);\n\t            ret.height = height;\n\t        }\n\t    }\n\n\t    // 超过这个值base64无法生成，在IOS上\n\t    while (ret.width >= 3264 || ret.height >= 2448) {\n\t        ret.width *= 0.8;\n\t        ret.height *= 0.8;\n\t    }\n\n\t    return ret;\n\t};\n\n\t/**\n\t * 获取当前js文件所在路径，必须得在代码顶部执行此函数\n\t * @returns {string}\n\t */\n\tfunction getJsDir (src) {\n\t    var script = null;\n\n\t    if (src) {\n\t        script = [].filter.call(document.scripts, function (v) {\n\t            return v.src.indexOf(src) !== -1;\n\t        })[0];\n\t    } else {\n\t        script = document.scripts[document.scripts.length - 1];\n\t    }\n\n\t    if (!script) return null;\n\n\t    return script.src.substr(0, script.src.lastIndexOf('/'));\n\t}\n\n\n\t/**\n\t * 转换成formdata\n\t * @param dataURI\n\t * @returns {*}\n\t *\n\t * @source http://stackoverflow.com/questions/4998908/convert-data-uri-to-file-then-append-to-formdata\n\t */\n\tfunction dataURItoBlob (dataURI) {\n\t    // convert base64/URLEncoded data component to raw binary data held in a string\n\t    var byteString;\n\t    if (dataURI.split(',')[0].indexOf('base64') >= 0)\n\t        byteString = atob(dataURI.split(',')[1]);\n\t    else\n\t        byteString = unescape(dataURI.split(',')[1]);\n\n\t    // separate out the mime component\n\t    var mimeString = dataURI.split(',')[0].split(':')[1].split(';')[0];\n\n\t    // write the bytes of the string to a typed array\n\t    var ia = new Uint8Array(byteString.length);\n\t    for (var i = 0; i < byteString.length; i++) {\n\t        ia[i] = byteString.charCodeAt(i);\n\t    }\n\n\t    return new BlobFormDataShim.Blob([ia.buffer], {type: mimeString});\n\t}\n\n\twindow.lrz = function (file, opts) {\n\t    return new Lrz(file, opts);\n\t};\n\n\t// 版本号来自package.json，构建时自动填充\n\twindow.lrz.version = '__packageJSON.version__';\n\n\tmodule.exports = window.lrz;\n\n\t/**\n\t *\n\t * 　　　┏┓　　　┏┓\n\t * 　　┏┛┻━━━┛┻┓\n\t * 　　┃　　　　　　　┃\n\t * 　　┃　　　━　　　┃\n\t * 　　┃　┳┛　┗┳　┃\n\t * 　　┃　　　　　　　┃\n\t * 　　┃　　　┻　　　┃\n\t * 　　┃　　　　　　　┃\n\t * 　　┗━┓　　　┏━┛Code is far away from bug with the animal protecting\n\t * 　　　　┃　　　┃    神兽保佑,代码无bug\n\t * 　　　　┃　　　┃\n\t * 　　　　┃　　　┗━━━┓\n\t * 　　　　┃　　　　　 ┣┓\n\t * 　　　　┃　　　　 ┏┛\n\t * 　　　　┗┓┓┏━┳┓┏┛\n\t * 　　　　　┃┫┫　┃┫┫\n\t * 　　　　　┗┻┛　┗┻┛\n\t *\n\t */\n\n\n\n\n/***/ })\n/******/ ])\n});\n;"]},"metadata":{},"sourceType":"script"}