{"ast":null,"code":"import\"antd-mobile/lib/toast/style/css\";import _Toast from\"antd-mobile/lib/toast\";import{jsx as _jsx}from\"react/jsx-runtime\";import React from\"react\";import{observer,inject}from\"mobx-react\";import{Route,Redirect,useLocation}from\"react-router-dom\";import routers from\"../routers\";var AuthRoute=function AuthRoute(props){var _useLocation=useLocation(),pathname=_useLocation.pathname;var userState=props.userState;var _ref=userState,user=_ref.user;var targetRouteObj=routers.find(function(item){return item.path===pathname;});var component=targetRouteObj.component;// 不需要拦截的页面直接放行\nif(targetRouteObj&&!targetRouteObj.auth&&!user.isLogin){return/*#__PURE__*/_jsx(Route,{path:pathname,component:component});}if(user.isLogin){// 登录\nif(pathname===\"/login\"){return/*#__PURE__*/_jsx(Redirect,{to:\"/\"});}else{return/*#__PURE__*/_jsx(Route,{path:pathname,component:component});}}else{// 未登录\nif(targetRouteObj&&targetRouteObj.auth){_Toast.info(\"请先登录\",1.3);return/*#__PURE__*/_jsx(Redirect,{to:\"/login\"});}else{return/*#__PURE__*/_jsx(Redirect,{to:\"/404\"});}}};export default inject('userState')(observer(AuthRoute));","map":null,"metadata":{},"sourceType":"module"}