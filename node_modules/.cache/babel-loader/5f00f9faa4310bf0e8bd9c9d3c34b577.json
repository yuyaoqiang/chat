{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport \"antd-mobile/lib/checkbox/style/css\";\nimport _Checkbox from \"antd-mobile/lib/checkbox\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport \"antd-mobile/lib/toast/style/css\";\nimport _Toast from \"antd-mobile/lib/toast\";\n\nvar _jsxFileName = \"/Users/yuanfang/Downloads/Telegram Desktop/\\u5C01\\u5B58/advisory-h5/src/pages/consignment/components/onSale.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { saleList, receive, notReceive } from \"../request\";\nimport { mm_dd_hh_mm_ss2 } from \"@utils/dataTime\";\nimport \"../style.scss\";\nimport { toFixed } from \"@utils/numberUtils\";\n\nconst OnSale = () => {\n  _s();\n\n  const [oneAlertState, setOneAlertState] = useState(false);\n  const [agentAlertState, setAgentAlertState] = useState(false);\n  const [unMoneyState, setUnMoneyState] = useState(false);\n  const [radioState, setRadioState] = useState(false);\n  const [data, setData] = useState(null);\n  const [current, setCurrent] = useState({});\n  useEffect(() => {\n    saleListHandle();\n    const id = setInterval(() => {\n      saleListHandle();\n    }, 3000);\n    return () => clearInterval(id);\n  }, []);\n\n  const saleListHandle = () => {\n    saleList().then(data => {\n      _Toast.hide();\n\n      setData(data);\n    });\n  };\n\n  const receiveHandle = () => {\n    _Toast.loading(\"提交中...\");\n\n    receive({\n      saleItemId: current.orderId\n    }).then(data => {\n      setOneAlertState(false);\n      setAgentAlertState(false);\n\n      _Toast.success(\"提交成功!\");\n    });\n  };\n\n  const notReceiveHandle = () => {\n    _Toast.loading(\"提交中...\");\n\n    notReceive({\n      saleItemId: current.orderId\n    }).then(data => {\n      setUnMoneyState(false);\n      setRadioState(false);\n\n      _Toast.success(\"提交成功!\");\n    });\n  };\n\n  const oneAlert = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"on-sale-alert\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"alert-top\",\n          children: \"\\u6536\\u6B3E\\u786E\\u8BA4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"alert-min\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"\\u8BF7\\u67E5\\u770B\", /*#__PURE__*/_jsxDEV(\"i\", {\n              children: \"\\u3010\\u94F6\\u884C\\u5361\\u3011\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 16\n            }, this), \"\\xA5\", current.payAmount, \"\\u662F\\u5426\\u5230\\u8D26\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"item\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"item-bank\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"\\u94F6\\u884C\\u5361\\u53F7:\", current.bankCardNo]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 55,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"\\u4ED8\\u6B3E\\u4EBA:\", current.payerName]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 56,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"item-order\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"\\u8BA2\\u5355\\u7F16\\u53F7:\", current.orderId]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: mm_dd_hh_mm_ss2(current.payTime)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"item-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"order-icon\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 63,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"order-i\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"special\",\n                  children: [\"\\xA5\", toFixed(current.payAmount)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 65,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [\"\\u8D5A:\", /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"info-icon\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 66,\n                    columnNumber: 18\n                  }, this), \"\\xA5\", toFixed(current.bonus)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 66,\n                  columnNumber: 10\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"alert-bottom\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            onClick: () => setOneAlertState(false),\n            children: \"\\u53D6\\u6D88\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            onClick: () => setAgentAlertState(true),\n            children: \"\\u5DF2\\u6536\\u5230\\u6B3E\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 4\n    }, this);\n  };\n\n  const agentAlert = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"on-sale-alert\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"alert-top red-bg\",\n          children: \"\\u6536\\u6B3E\\u786E\\u8BA4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"alert-min\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"\\u8BF7\\u518D\\u4E09\\u786E\\u8BA4,\\u94F6\\u884C\\u5361\\xA5\", current.payAmount, \"\\u662F\\u5426\\u5230\\u8D26\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"item\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"item-bank red-font\",\n              children: \"\\u82E5\\u672A\\u6536\\u5230\\u6B3E\\uFF0C\\u70B9\\u51FB\\u786E\\u8BA4\\u6536\\u6B3E,\\u9020\\u6210\\u8D44\\u91D1\\u635F\\u5931\\u81EA\\u884C\\u627F\\u62C5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"item-order text-min\",\n              children: \"\\u5982\\u6709\\u4E0D\\u786E\\u5B9A\\u7684\\u8BA2\\u5355\\u8BF7\\u8054\\u7CFB\\u5BA2\\u670D\\u5904\\u7406\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"alert-bottom\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            onClick: () => {\n              setOneAlertState(false);\n              setAgentAlertState(false);\n            },\n            children: \"\\u53D6\\u6D88\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            onClick: receiveHandle,\n            children: \"\\u518D\\u6B21\\u786E\\u8BA4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 4\n    }, this);\n  };\n\n  const unMoneyAlert = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"on-sale-alert\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"alert-top\",\n          children: \"\\u672A\\u6536\\u5230\\u6B3E\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"alert-min\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"yellow-font\",\n            children: \"\\u82E5\\u5DF2\\u6536\\u5230\\u6B3E\\u9879\\u5374\\u70B9\\u51FB\\u3010\\u672A\\u6536\\u5230\\u6B3E\\u3011,\\u6838\\u5B9E\\u540E\\u53EF\\u80FD\\u4F1A\\u5931\\u53BB\\u4EE3\\u552E\\u7684\\u673A\\u4F1A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"item\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"item-bank  just-start\",\n              children: [/*#__PURE__*/_jsxDEV(_Checkbox, {\n                onChange: e => {\n                  setRadioState(!radioState);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 9\n              }, this), \" \\u6211\\u5DF2\\u8BA4\\u771F\\u9605\\u8BFB\\u4EE5\\u4E0A\\u63D0\\u793A,\\u786E\\u5B9A\\u6CA1\\u6709\\u6536\\u5230\\u6B3E\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"alert-bottom\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: radioState ? \"\" : \"un-money\",\n            onClick: notReceiveHandle,\n            children: \"\\u672A\\u6536\\u5230\\u6B3E\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: radioState ? \"\" : \"un-money\",\n            onClick: () => {\n              setUnMoneyState(false);\n              setRadioState(false);\n            },\n            children: \"\\u53D6\\u6D88\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 4\n    }, this);\n  };\n\n  const tiemAlert = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"on-sale-alert\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"alert-top\",\n          children: \"\\u63D0\\u793A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"alert-min\",\n          children: \"\\u60A8\\u6709\\u4E00\\u7B14\\u8BA2\\u5355\\u5DF2\\u8D85\\u65F6,\\u8BF7\\u786E\\u8BA4\\u662F\\u5426\\u6536\\u6B3E \\u5E76\\u53CA\\u65F6\\u5904\\u7406!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"alert-bottom\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\u786E\\u5B9A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 4\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [oneAlertState && oneAlert(), agentAlertState && agentAlert(), unMoneyState && unMoneyAlert(), /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"consignments\",\n      children: data && data.map(item => {\n        return /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"item\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"item-bank\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"\\u94F6\\u884C\\u5361\\u53F7:\", item.bankCardNo]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 10\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"\\u4ED8\\u6B3E\\u4EBA:\", item.payerName]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 10\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"item-order\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"\\u8BA2\\u5355\\u7F16\\u53F7:\", item.orderId]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 10\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: mm_dd_hh_mm_ss2(item.payTime)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 10\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"item-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"order-icon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 10\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"order-i\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"special\",\n                children: [\"\\xA5\", toFixed(item.payAmount)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 167,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"\\u8D5A:\", /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"info-icon\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 168,\n                  columnNumber: 19\n                }, this), \"\\xA5\", toFixed(item.bonus)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 11\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 10\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"off-money\",\n              onClick: () => {\n                setCurrent(item);\n                setUnMoneyState(true);\n              },\n              children: \"\\u672A\\u6536\\u5230\\u6B3E\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 10\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"on-money\",\n              onClick: () => {\n                setCurrent(item);\n                setOneAlertState(true);\n              },\n              children: \"\\u5DF2\\u6536\\u5230\\u6B3E\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 10\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 9\n          }, this)]\n        }, item.orderId, true, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 8\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true);\n};\n\n_s(OnSale, \"iajLIzLZiSzBsOUm6IGdSgt/I/Y=\");\n\n_c = OnSale;\nexport default OnSale;\n\nvar _c;\n\n$RefreshReg$(_c, \"OnSale\");","map":{"version":3,"sources":["/Users/yuanfang/Downloads/Telegram Desktop/封存/advisory-h5/src/pages/consignment/components/onSale.tsx"],"names":["React","useEffect","useState","saleList","receive","notReceive","mm_dd_hh_mm_ss2","toFixed","OnSale","oneAlertState","setOneAlertState","agentAlertState","setAgentAlertState","unMoneyState","setUnMoneyState","radioState","setRadioState","data","setData","current","setCurrent","saleListHandle","id","setInterval","clearInterval","then","hide","receiveHandle","loading","saleItemId","orderId","success","notReceiveHandle","oneAlert","payAmount","bankCardNo","payerName","payTime","bonus","agentAlert","unMoneyAlert","e","tiemAlert","map","item"],"mappings":";;;;;;;;;;AACA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,QAAT,EAAmBC,OAAnB,EAA4BC,UAA5B,QAA8C,YAA9C;AACA,SAASC,eAAT,QAAgD,iBAAhD;AACA,OAAO,eAAP;AACA,SAASC,OAAT,QAAwB,oBAAxB;;AACA,MAAMC,MAAM,GAAG,MAAM;AAAA;;AACpB,QAAM,CAACC,aAAD,EAAgBC,gBAAhB,IAAoCR,QAAQ,CAAC,KAAD,CAAlD;AACA,QAAM,CAACS,eAAD,EAAkBC,kBAAlB,IAAwCV,QAAQ,CAAC,KAAD,CAAtD;AACA,QAAM,CAACW,YAAD,EAAeC,eAAf,IAAkCZ,QAAQ,CAAC,KAAD,CAAhD;AACA,QAAM,CAACa,UAAD,EAAaC,aAAb,IAA8Bd,QAAQ,CAAC,KAAD,CAA5C;AACA,QAAM,CAACe,IAAD,EAAOC,OAAP,IAAkBhB,QAAQ,CAAM,IAAN,CAAhC;AACA,QAAM,CAACiB,OAAD,EAAUC,UAAV,IAAwBlB,QAAQ,CAAM,EAAN,CAAtC;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACfoB,IAAAA,cAAc;AACd,UAAMC,EAAE,GAAGC,WAAW,CAAC,MAAM;AAC5BF,MAAAA,cAAc;AACd,KAFqB,EAEnB,IAFmB,CAAtB;AAGA,WAAO,MAAMG,aAAa,CAACF,EAAD,CAA1B;AACA,GANQ,EAMN,EANM,CAAT;;AAQA,QAAMD,cAAc,GAAG,MAAM;AAC5BlB,IAAAA,QAAQ,GAAGsB,IAAX,CAAgBR,IAAI,IAAI;AACvB,aAAMS,IAAN;;AACAR,MAAAA,OAAO,CAACD,IAAD,CAAP;AACA,KAHD;AAIA,GALD;;AAMA,QAAMU,aAAa,GAAG,MAAM;AAC3B,WAAMC,OAAN,CAAc,QAAd;;AACAxB,IAAAA,OAAO,CAAC;AAAEyB,MAAAA,UAAU,EAAEV,OAAO,CAACW;AAAtB,KAAD,CAAP,CAAyCL,IAAzC,CAA8CR,IAAI,IAAI;AACrDP,MAAAA,gBAAgB,CAAC,KAAD,CAAhB;AACAE,MAAAA,kBAAkB,CAAC,KAAD,CAAlB;;AACA,aAAMmB,OAAN,CAAc,OAAd;AACA,KAJD;AAKA,GAPD;;AAQA,QAAMC,gBAAgB,GAAG,MAAM;AAC9B,WAAMJ,OAAN,CAAc,QAAd;;AACAvB,IAAAA,UAAU,CAAC;AAAEwB,MAAAA,UAAU,EAAEV,OAAO,CAACW;AAAtB,KAAD,CAAV,CAA4CL,IAA5C,CAAiDR,IAAI,IAAI;AACxDH,MAAAA,eAAe,CAAC,KAAD,CAAf;AACAE,MAAAA,aAAa,CAAC,KAAD,CAAb;;AACA,aAAMe,OAAN,CAAc,OAAd;AACA,KAJD;AAKA,GAPD;;AASA,QAAME,QAAQ,GAAG,MAAM;AACtB,wBACC;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA,6BACC;AAAK,QAAA,SAAS,EAAC,eAAf;AAAA,gCACC;AAAG,UAAA,SAAS,EAAC,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADD,eAEC;AAAG,UAAA,SAAS,EAAC,WAAb;AAAA,kCACC;AAAA,0DAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAT,UAAuBd,OAAO,CAACe,SAA/B;AAAA;AAAA;AAAA;AAAA;AAAA,kBADD,eAEC;AAAK,YAAA,SAAS,EAAC,MAAf;AAAA,oCACC;AAAG,cAAA,SAAS,EAAC,WAAb;AAAA,sCACC;AAAA,wDAAYf,OAAO,CAACgB,UAApB;AAAA;AAAA;AAAA;AAAA;AAAA,sBADD,eAEC;AAAA,kDAAWhB,OAAO,CAACiB,SAAnB;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFD;AAAA;AAAA;AAAA;AAAA;AAAA,oBADD,eAKC;AAAG,cAAA,SAAS,EAAC,YAAb;AAAA,sCACC;AAAA,wDAAYjB,OAAO,CAACW,OAApB;AAAA;AAAA;AAAA;AAAA;AAAA,sBADD,eAEC;AAAA,0BAAOxB,eAAe,CAACa,OAAO,CAACkB,OAAT;AAAtB;AAAA;AAAA;AAAA;AAAA,sBAFD;AAAA;AAAA;AAAA;AAAA;AAAA,oBALD,eASC;AAAK,cAAA,SAAS,EAAC,WAAf;AAAA,sCACC;AAAM,gBAAA,SAAS,EAAC;AAAhB;AAAA;AAAA;AAAA;AAAA,sBADD,eAEC;AAAG,gBAAA,SAAS,EAAC,SAAb;AAAA,wCACC;AAAM,kBAAA,SAAS,EAAC,SAAhB;AAAA,qCAA4B9B,OAAO,CAACY,OAAO,CAACe,SAAT,CAAnC;AAAA;AAAA;AAAA;AAAA;AAAA,wBADD,eAEC;AAAA,qDAAQ;AAAG,oBAAA,SAAS,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,0BAAR,UAAuC3B,OAAO,CAACY,OAAO,CAACmB,KAAT,CAA9C;AAAA;AAAA;AAAA;AAAA;AAAA,wBAFD;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFD;AAAA;AAAA;AAAA;AAAA;AAAA,oBATD;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFD;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFD,eAsBC;AAAG,UAAA,SAAS,EAAC,cAAb;AAAA,kCACC;AAAM,YAAA,OAAO,EAAE,MAAM5B,gBAAgB,CAAC,KAAD,CAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADD,eAEC;AAAM,YAAA,OAAO,EAAE,MAAME,kBAAkB,CAAC,IAAD,CAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFD;AAAA;AAAA;AAAA;AAAA;AAAA,gBAtBD;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,YADD;AA+BA,GAhCD;;AAkCA,QAAM2B,UAAU,GAAG,MAAM;AACxB,wBACC;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA,6BACC;AAAK,QAAA,SAAS,EAAC,eAAf;AAAA,gCACC;AAAG,UAAA,SAAS,EAAC,kBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADD,eAEC;AAAG,UAAA,SAAS,EAAC,WAAb;AAAA,kCACC;AAAA,gFAAiBpB,OAAO,CAACe,SAAzB;AAAA;AAAA;AAAA;AAAA;AAAA,kBADD,eAEC;AAAK,YAAA,SAAS,EAAC,MAAf;AAAA,oCACC;AAAG,cAAA,SAAS,EAAC,oBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADD,eAIC;AAAG,cAAA,SAAS,EAAC,qBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJD;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFD;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFD,eAaC;AAAG,UAAA,SAAS,EAAC,cAAb;AAAA,kCACC;AAAM,YAAA,OAAO,EAAE,MAAM;AACpBxB,cAAAA,gBAAgB,CAAC,KAAD,CAAhB;AACAE,cAAAA,kBAAkB,CAAC,KAAD,CAAlB;AACA,aAHD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADD,eAKC;AAAM,YAAA,OAAO,EAAEe,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBALD;AAAA;AAAA;AAAA;AAAA;AAAA,gBAbD;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,YADD;AAyBA,GA1BD;;AA4BA,QAAMa,YAAY,GAAG,MAAM;AAC1B,wBACC;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA,6BACC;AAAK,QAAA,SAAS,EAAC,eAAf;AAAA,gCACC;AAAG,UAAA,SAAS,EAAC,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADD,eAEC;AAAG,UAAA,SAAS,EAAC,WAAb;AAAA,kCACC;AAAM,YAAA,SAAS,EAAC,aAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADD,eAEC;AAAK,YAAA,SAAS,EAAC,MAAf;AAAA,mCACC;AAAG,cAAA,SAAS,EAAC,uBAAb;AAAA,sCACC;AAAU,gBAAA,QAAQ,EAAGC,CAAD,IAAO;AAAEzB,kBAAAA,aAAa,CAAC,CAACD,UAAF,CAAb;AAA4B;AAAzD;AAAA;AAAA;AAAA;AAAA,sBADD;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,kBAFD;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFD,eAUC;AAAG,UAAA,SAAS,EAAC,cAAb;AAAA,kCACC;AAAM,YAAA,SAAS,EAAEA,UAAU,GAAG,EAAH,GAAQ,UAAnC;AAA+C,YAAA,OAAO,EAAEiB,gBAAxD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADD,eAEC;AAAM,YAAA,SAAS,EAAEjB,UAAU,GAAG,EAAH,GAAQ,UAAnC;AAA+C,YAAA,OAAO,EAAE,MAAM;AAC7DD,cAAAA,eAAe,CAAC,KAAD,CAAf;AACAE,cAAAA,aAAa,CAAC,KAAD,CAAb;AACA,aAHD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFD;AAAA;AAAA;AAAA;AAAA;AAAA,gBAVD;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,YADD;AAsBA,GAvBD;;AAyBA,QAAM0B,SAAS,GAAG,MAAM;AACvB,wBACC;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA,6BACC;AAAK,QAAA,SAAS,EAAC,eAAf;AAAA,gCACC;AAAG,UAAA,SAAS,EAAC,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADD,eAEC;AAAG,UAAA,SAAS,EAAC,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFD,eAGC;AAAG,UAAA,SAAS,EAAC,cAAb;AAAA,iCACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,gBAHD;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,YADD;AAWA,GAZD;;AAaA,sBACC;AAAA,eACGjC,aAAa,IAAIwB,QAAQ,EAD5B,EAEGtB,eAAe,IAAI4B,UAAU,EAFhC,EAGG1B,YAAY,IAAI2B,YAAY,EAH/B,eAIC;AAAI,MAAA,SAAS,EAAC,cAAd;AAAA,gBAEEvB,IAAI,IAAIA,IAAI,CAAC0B,GAAL,CAAUC,IAAD,IAAe;AAC/B,4BACC;AAAI,UAAA,SAAS,EAAC,MAAd;AAAA,kCACC;AAAG,YAAA,SAAS,EAAC,WAAb;AAAA,oCACC;AAAA,sDAAYA,IAAI,CAACT,UAAjB;AAAA;AAAA;AAAA;AAAA;AAAA,oBADD,eAEC;AAAA,gDAAWS,IAAI,CAACR,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFD;AAAA;AAAA;AAAA;AAAA;AAAA,kBADD,eAKC;AAAG,YAAA,SAAS,EAAC,YAAb;AAAA,oCACC;AAAA,sDAAYQ,IAAI,CAACd,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA,oBADD,eAEC;AAAA,wBAAOxB,eAAe,CAACsC,IAAI,CAACP,OAAN;AAAtB;AAAA;AAAA;AAAA;AAAA,oBAFD;AAAA;AAAA;AAAA;AAAA;AAAA,kBALD,eASC;AAAK,YAAA,SAAS,EAAC,WAAf;AAAA,oCACC;AAAM,cAAA,SAAS,EAAC;AAAhB;AAAA;AAAA;AAAA;AAAA,oBADD,eAEC;AAAG,cAAA,SAAS,EAAC,SAAb;AAAA,sCACC;AAAM,gBAAA,SAAS,EAAC,SAAhB;AAAA,mCAA4B9B,OAAO,CAACqC,IAAI,CAACV,SAAN,CAAnC;AAAA;AAAA;AAAA;AAAA;AAAA,sBADD,eAEC;AAAA,mDAAQ;AAAG,kBAAA,SAAS,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,wBAAR,UAAuC3B,OAAO,CAACqC,IAAI,CAACN,KAAN,CAA9C;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFD;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFD,eAMC;AAAM,cAAA,SAAS,EAAC,WAAhB;AAA4B,cAAA,OAAO,EAAE,MAAM;AAC1ClB,gBAAAA,UAAU,CAACwB,IAAD,CAAV;AACA9B,gBAAAA,eAAe,CAAC,IAAD,CAAf;AACA,eAHD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAND,eAUC;AAAM,cAAA,SAAS,EAAC,UAAhB;AAA2B,cAAA,OAAO,EAAE,MAAM;AACzCM,gBAAAA,UAAU,CAACwB,IAAD,CAAV;AACAlC,gBAAAA,gBAAgB,CAAC,IAAD,CAAhB;AACA,eAHD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAVD;AAAA;AAAA;AAAA;AAAA;AAAA,kBATD;AAAA,WAA0BkC,IAAI,CAACd,OAA/B;AAAA;AAAA;AAAA;AAAA,gBADD;AA2BA,OA5BO;AAFV;AAAA;AAAA;AAAA;AAAA,YAJD;AAAA,kBADD;AAyCA,CApLD;;GAAMtB,M;;KAAAA,M;AAqLN,eAAeA,MAAf","sourcesContent":["import { Checkbox, Radio, Toast } from \"antd-mobile\";\nimport React, { useEffect, useState } from \"react\";\nimport { saleList, receive, notReceive } from \"../request\"\nimport { mm_dd_hh_mm_ss2, yyyymmddhhmmss } from \"@utils/dataTime\"\nimport \"../style.scss\"\nimport { toFixed } from \"@utils/numberUtils\";\nconst OnSale = () => {\n const [oneAlertState, setOneAlertState] = useState(false)\n const [agentAlertState, setAgentAlertState] = useState(false)\n const [unMoneyState, setUnMoneyState] = useState(false)\n const [radioState, setRadioState] = useState(false)\n const [data, setData] = useState<any>(null)\n const [current, setCurrent] = useState<any>({})\n\n useEffect(() => {\n  saleListHandle();\n  const id = setInterval(() => {\n   saleListHandle();\n  }, 3000);\n  return () => clearInterval(id);\n }, [])\n\n const saleListHandle = () => {\n  saleList().then(data => {\n   Toast.hide()\n   setData(data)\n  })\n }\n const receiveHandle = () => {\n  Toast.loading(\"提交中...\")\n  receive({ saleItemId: current.orderId }).then(data => {\n   setOneAlertState(false)\n   setAgentAlertState(false)\n   Toast.success(\"提交成功!\")\n  })\n }\n const notReceiveHandle = () => {\n  Toast.loading(\"提交中...\")\n  notReceive({ saleItemId: current.orderId }).then(data => {\n   setUnMoneyState(false)\n   setRadioState(false)\n   Toast.success(\"提交成功!\")\n  })\n }\n\n const oneAlert = () => {\n  return (\n   <div className=\"alert-container\">\n    <div className=\"on-sale-alert\">\n     <p className=\"alert-top\">收款确认</p>\n     <p className=\"alert-min\">\n      <span>请查看<i>【银行卡】</i>¥{current.payAmount}是否到账</span>\n      <div className=\"item\">\n       <p className=\"item-bank\">\n        <span>银行卡号:{current.bankCardNo}</span>\n        <span>付款人:{current.payerName}</span>\n       </p>\n       <p className=\"item-order\">\n        <span>订单编号:{current.orderId}</span>\n        <span>{mm_dd_hh_mm_ss2(current.payTime)}</span>\n       </p>\n       <div className=\"item-info\">\n        <span className=\"order-icon\"></span>\n        <p className=\"order-i\">\n         <span className=\"special\">¥{toFixed(current.payAmount)}</span>\n         <span>赚:<i className=\"info-icon\"></i>¥{toFixed(current.bonus)}</span>\n        </p>\n       </div>\n      </div>\n     </p>\n     <p className=\"alert-bottom\">\n      <span onClick={() => setOneAlertState(false)}>取消</span>\n      <span onClick={() => setAgentAlertState(true)}>已收到款</span>\n     </p>\n    </div>\n   </div>\n  )\n }\n\n const agentAlert = () => {\n  return (\n   <div className=\"alert-container\">\n    <div className=\"on-sale-alert\">\n     <p className=\"alert-top red-bg\">收款确认</p>\n     <p className=\"alert-min\">\n      <span>请再三确认,银行卡¥{current.payAmount}是否到账</span>\n      <div className=\"item\">\n       <p className=\"item-bank red-font\">\n        若未收到款，点击确认收款,造成资金损失自行承担\n       </p>\n       <p className=\"item-order text-min\">\n        如有不确定的订单请联系客服处理\n       </p>\n      </div>\n     </p>\n     <p className=\"alert-bottom\">\n      <span onClick={() => {\n       setOneAlertState(false)\n       setAgentAlertState(false)\n      }}>取消</span>\n      <span onClick={receiveHandle}>再次确认</span>\n     </p>\n    </div>\n   </div>\n  )\n }\n\n const unMoneyAlert = () => {\n  return (\n   <div className=\"alert-container\">\n    <div className=\"on-sale-alert\">\n     <p className=\"alert-top\">未收到款</p>\n     <p className=\"alert-min\">\n      <span className=\"yellow-font\">若已收到款项却点击【未收到款】,核实后可能会失去代售的机会</span>\n      <div className=\"item\">\n       <p className=\"item-bank  just-start\">\n        <Checkbox onChange={(e) => { setRadioState(!radioState) }} /> 我已认真阅读以上提示,确定没有收到款\n       </p>\n      </div>\n     </p>\n     <p className=\"alert-bottom\">\n      <span className={radioState ? \"\" : \"un-money\"} onClick={notReceiveHandle}>未收到款</span>\n      <span className={radioState ? \"\" : \"un-money\"} onClick={() => {\n       setUnMoneyState(false)\n       setRadioState(false)\n      }}>取消</span>\n     </p>\n    </div>\n   </div>\n  )\n }\n\n const tiemAlert = () => {\n  return (\n   <div className=\"alert-container\">\n    <div className=\"on-sale-alert\">\n     <p className=\"alert-top\">提示</p>\n     <p className=\"alert-min\">您有一笔订单已超时,请确认是否收款 并及时处理!</p>\n     <p className=\"alert-bottom\">\n      <span>确定</span>\n     </p>\n    </div>\n   </div>\n  )\n }\n return (\n  <>\n   { oneAlertState && oneAlert()}\n   { agentAlertState && agentAlert()}\n   { unMoneyState && unMoneyAlert()}\n   <ul className=\"consignments\">\n    {\n     data && data.map((item: any) => {\n      return (\n       <li className=\"item\" key={item.orderId}>\n        <p className=\"item-bank\">\n         <span>银行卡号:{item.bankCardNo}</span>\n         <span>付款人:{item.payerName}</span>\n        </p>\n        <p className=\"item-order\">\n         <span>订单编号:{item.orderId}</span>\n         <span>{mm_dd_hh_mm_ss2(item.payTime)}</span>\n        </p>\n        <div className=\"item-info\">\n         <span className=\"order-icon\"></span>\n         <p className=\"order-i\">\n          <span className=\"special\">¥{toFixed(item.payAmount)}</span>\n          <span>赚:<i className=\"info-icon\"></i>¥{toFixed(item.bonus)}</span>\n         </p>\n         <span className=\"off-money\" onClick={() => {\n          setCurrent(item)\n          setUnMoneyState(true)\n         }}>未收到款</span>\n         <span className=\"on-money\" onClick={() => {\n          setCurrent(item)\n          setOneAlertState(true)\n         }}>已收到款</span>\n        </div>\n       </li>\n      )\n     })\n    }\n\n   </ul>\n  </>\n )\n}\nexport default OnSale;"]},"metadata":{},"sourceType":"module"}