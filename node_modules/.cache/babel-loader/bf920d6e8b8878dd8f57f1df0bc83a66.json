{"ast":null,"code":"import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import\"antd-mobile/lib/toast/style/css\";import _Toast from\"antd-mobile/lib/toast\";import _slicedToArray from\"/Users/yuanfang/Downloads/Telegram Desktop/\\u5C01\\u5B58/advisory-h5/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{saleBankCard,saleBankCardStart}from\"../request\";import\"../style.scss\";var status={'WORKING':'停止代售','IDLE':'开始代售'};var OnSale=function OnSale(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var banks=props.banks;useEffect(function(){saleBankCardHandle();},[]);var saleBankCardHandle=function saleBankCardHandle(){_Toast.loading(\"加载中\");saleBankCard().then(function(data){_Toast.hide();setData(data);});};var _onClick=function onClick(status,id){if(status=='WORKING'){stopSale(id);}else{startSale(id);}};var startSale=function startSale(cardId){saleBankCardStart({cardId:cardId}).then(function(data){_Toast.success(\"开启成功\");saleBankCardHandle();});};var stopSale=function stopSale(cardId){saleBankCardStart({cardId:cardId}).then(function(data){_Toast.success(\"停止成功\");saleBankCardHandle();});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"ul\",{className:\"agent-sale\",children:data&&data.map(function(item){return/*#__PURE__*/_jsxs(\"li\",{className:\"item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"item-bank\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"agent-sale-icon\",children:banks[item.bankType]?banks[item.bankType].slice(0,1):''}),/*#__PURE__*/_jsxs(\"p\",{className:\"agent-sale-info\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[banks[item.bankType],\":\",item.cardNo]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u6301\\u5361\\u4EBA:\",item.owner]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"item-info\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"order-i\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"special\",children:[\"\\u5DF2\\u63A5\\u5355\\u7B14\\u6570:\",item.orderCount]})}),/*#__PURE__*/_jsx(\"span\",{className:\"on-money\",onClick:function onClick(){return _onClick(item.status,item.bankCardId);},children:status[item.status]})]})]});})})});};export default OnSale;","map":{"version":3,"sources":["/Users/yuanfang/Downloads/Telegram Desktop/封存/advisory-h5/src/pages/consignment/components/agentSale.tsx"],"names":["React","useEffect","useState","saleBankCard","saleBankCardStart","status","OnSale","props","data","setData","banks","saleBankCardHandle","loading","then","hide","onClick","id","stopSale","startSale","cardId","success","map","item","bankType","slice","cardNo","owner","orderCount","bankCardId"],"mappings":"yZACA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,YAAT,CAAuBC,iBAAvB,KAAkE,YAAlE,CACA,MAAO,eAAP,CACA,GAAMC,CAAAA,MAAW,CAAG,CACnB,UAAW,MADQ,CAEnB,OAAQ,MAFW,CAApB,CAIA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACC,KAAD,CAAgB,eACNL,QAAQ,CAAM,EAAN,CADF,wCACvBM,IADuB,eACjBC,OADiB,kBAEtBC,CAAAA,KAFsB,CAEZH,KAFY,CAEtBG,KAFsB,CAI9BT,SAAS,CAAC,UAAM,CACfU,kBAAkB,GAClB,CAFQ,CAEN,EAFM,CAAT,CAIA,GAAMA,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,EAAM,CAChC,OAAMC,OAAN,CAAc,KAAd,EACAT,YAAY,GAAGU,IAAf,CAAoB,SAAAL,IAAI,CAAI,CAC3B,OAAMM,IAAN,GACAL,OAAO,CAACD,IAAD,CAAP,CACA,CAHD,EAIA,CAND,CAOA,GAAMO,CAAAA,QAAO,CAAG,QAAVA,CAAAA,OAAU,CAACV,MAAD,CAAiBW,EAAjB,CAAgC,CAC/C,GAAIX,MAAM,EAAI,SAAd,CAAyB,CACxBY,QAAQ,CAACD,EAAD,CAAR,CACA,CAFD,IAEO,CACNE,SAAS,CAACF,EAAD,CAAT,CACA,CACD,CAND,CAOA,GAAME,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,MAAD,CAAoB,CACrCf,iBAAiB,CAAC,CAAEe,MAAM,CAANA,MAAF,CAAD,CAAjB,CAA8BN,IAA9B,CAAmC,SAAAL,IAAI,CAAI,CAC1C,OAAMY,OAAN,CAAc,MAAd,EACAT,kBAAkB,GAClB,CAHD,EAIA,CALD,CAMA,GAAMM,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACE,MAAD,CAAoB,CACpCf,iBAAiB,CAAC,CAAEe,MAAM,CAANA,MAAF,CAAD,CAAjB,CAA8BN,IAA9B,CAAmC,SAAAL,IAAI,CAAI,CAC1C,OAAMY,OAAN,CAAc,MAAd,EACAT,kBAAkB,GAClB,CAHD,EAIA,CALD,CAMA,mBACC,sCACC,WAAI,SAAS,CAAC,YAAd,UACEH,IAAI,EAAIA,IAAI,CAACa,GAAL,CAAS,SAACC,IAAD,CAAe,CAChC,mBACC,YAAI,SAAS,CAAC,MAAd,wBACC,aAAK,SAAS,CAAC,WAAf,wBACC,aAAM,SAAS,CAAC,iBAAhB,UAAmCZ,KAAK,CAACY,IAAI,CAACC,QAAN,CAAL,CAAuBb,KAAK,CAACY,IAAI,CAACC,QAAN,CAAL,CAAqBC,KAArB,CAA2B,CAA3B,CAA8B,CAA9B,CAAvB,CAA0D,EAA7F,EADD,cAEC,WAAG,SAAS,CAAC,iBAAb,wBACC,wBAAOd,KAAK,CAACY,IAAI,CAACC,QAAN,CAAZ,KAA8BD,IAAI,CAACG,MAAnC,GADD,cAEC,8CAAWH,IAAI,CAACI,KAAhB,GAFD,GAFD,GADD,cAQC,aAAK,SAAS,CAAC,WAAf,wBACC,UAAG,SAAS,CAAC,SAAb,uBACC,cAAM,SAAS,CAAC,SAAhB,6CAAiCJ,IAAI,CAACK,UAAtC,GADD,EADD,cAIC,aAAM,SAAS,CAAC,UAAhB,CAA2B,OAAO,CAAE,yBAAMZ,CAAAA,QAAO,CAACO,IAAI,CAACjB,MAAN,CAAciB,IAAI,CAACM,UAAnB,CAAb,EAApC,UAAkFvB,MAAM,CAACiB,IAAI,CAACjB,MAAN,CAAxF,EAJD,GARD,GADD,CAiBA,CAlBQ,CADV,EADD,EADD,CAyBA,CA3DD,CA4DA,cAAeC,CAAAA,MAAf","sourcesContent":["import { Toast } from \"antd-mobile\";\nimport React, { useEffect, useState } from \"react\";\nimport { saleBankCard, saleBankCardStart, saleBankCardStop } from \"../request\"\nimport \"../style.scss\"\nconst status: any = {\n 'WORKING': '停止代售',\n 'IDLE': '开始代售'\n}\nconst OnSale = (props: any) => {\n const [data, setData] = useState<any>([])\n const { banks } = props;\n\n useEffect(() => {\n  saleBankCardHandle()\n }, [])\n\n const saleBankCardHandle = () => {\n  Toast.loading(\"加载中\")\n  saleBankCard().then(data => {\n   Toast.hide()\n   setData(data)\n  })\n }\n const onClick = (status: string, id: string) => {\n  if (status == 'WORKING') {\n   stopSale(id)\n  } else {\n   startSale(id)\n  }\n }\n const startSale = (cardId: string) => {\n  saleBankCardStart({ cardId }).then(data => {\n   Toast.success(\"开启成功\");\n   saleBankCardHandle();\n  })\n }\n const stopSale = (cardId: string) => {\n  saleBankCardStart({ cardId }).then(data => {\n   Toast.success(\"停止成功\");\n   saleBankCardHandle();\n  })\n }\n return (\n  <>\n   <ul className=\"agent-sale\">\n    {data && data.map((item: any) => {\n     return (\n      <li className=\"item\">\n       <div className=\"item-bank\">\n        <span className=\"agent-sale-icon\">{banks[item.bankType] ? banks[item.bankType].slice(0, 1) : ''}</span>\n        <p className=\"agent-sale-info\">\n         <span>{banks[item.bankType]}:{item.cardNo}</span>\n         <span>持卡人:{item.owner}</span>\n        </p>\n       </div>\n       <div className=\"item-info\">\n        <p className=\"order-i\">\n         <span className=\"special\">已接单笔数:{item.orderCount}</span>\n        </p>\n        <span className=\"on-money\" onClick={() => onClick(item.status, item.bankCardId)}>{status[item.status]}</span>\n       </div>\n      </li>\n     )\n    })}\n   </ul>\n  </>\n )\n}\nexport default OnSale;"]},"metadata":{},"sourceType":"module"}