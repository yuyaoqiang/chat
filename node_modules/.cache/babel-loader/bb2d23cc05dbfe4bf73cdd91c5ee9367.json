{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import\"antd-mobile/lib/toast/style/css\";import _Toast from\"antd-mobile/lib/toast\";import _defineProperty from\"/Users/yuanfang/Downloads/Telegram Desktop/\\u5C01\\u5B58/advisory-h5/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/yuanfang/Downloads/Telegram Desktop/\\u5C01\\u5B58/advisory-h5/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/yuanfang/Downloads/Telegram Desktop/\\u5C01\\u5B58/advisory-h5/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import HeaderBar from\"@components/header\";import{useHistory}from\"react-router-dom\";import{observer,inject}from\"mobx-react\";import{transferCion}from\"./request\";import\"./style.scss\";var Transform=function Transform(props){var _useHistory=useHistory(),goBack=_useHistory.goBack,push=_useHistory.push;var homeState=props.homeState;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),transData=_useState2[0],setTransData=_useState2[1];var data=homeState.data,refreshData=homeState.refreshData;var change=function change(e,key){setTransData(_objectSpread(_objectSpread({},transData),{},_defineProperty({},key,e.target.value)));};var transferCionHandle=function transferCionHandle(){transferCion(transData).then(function(res){_Toast.success(\"转账成功!\");push(\"/\");});};var submit=function submit(){var transferAmount=transData.transferAmount,receiverLoginName=transData.receiverLoginName,receiverName=transData.receiverName,loginPwd=transData.loginPwd;if(!transferAmount||!receiverLoginName||!receiverName||!loginPwd){_Toast.fail(\"填写信息不能为空 \",1.5);return;}if(transferAmount<=0){_Toast.fail(\"转账金额不能小于0\",1.5);return;}if(transferAmount>data.coinAmount){_Toast.fail(\"账户余额不足\",1.5);return;}transferCionHandle();};return/*#__PURE__*/_jsxs(\"div\",{className:\"transform-wrap\",children:[/*#__PURE__*/_jsx(HeaderBar,{goback:goBack,title:\"转账\"}),/*#__PURE__*/_jsx(\"div\",{className:\"transform-top\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"transform-coin\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"coin-number\",children:[/*#__PURE__*/_jsx(\"i\",{}),/*#__PURE__*/_jsx(\"span\",{children:data.coinAmount})]}),/*#__PURE__*/_jsx(\"p\",{className:\"coin-text\",children:\"Q\\u5E01\\u4F59\\u989D\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"transf-form\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u8F6C\\u8D26\\u91D1\\u989D\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"\\u8BF7\\u8F93\\u5165\\u8F6C\\u8D26\\u91D1\\u989D\",onChange:function onChange(e){change(e,\"transferAmount\");}})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u5BF9\\u65B9\\u8D26\\u53F7\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\u8BF7\\u8F93\\u5165\\u5BF9\\u65B9\\u8D26\\u53F7\",onChange:function onChange(e){change(e,\"receiverLoginName\");}})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u5BF9\\u65B9\\u59D3\\u540D\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\u8BF7\\u8F93\\u5165\\u5BF9\\u65B9\\u59D3\\u540D\",onChange:function onChange(e){change(e,\"receiverName\");}})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u767B\\u9646\\u5BC6\\u7801\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"\\u8BF7\\u8F93\\u5165\\u767B\\u9646\\u5BC6\\u7801\",onChange:function onChange(e){change(e,\"loginPwd\");}})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"transf-bottom\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"transf-alert\",children:\"Q\\u5E01\\u5C06\\u8F6C\\u5165\\u5BF9\\u65B9\\u8D26\\u53F7\\u65E0\\u6CD5\\u9000\\u6B3E\"}),/*#__PURE__*/_jsx(\"p\",{className:\"transf-entry\",onClick:function onClick(){return submit();},children:\"\\u786E\\u5B9A\\u8F6C\\u8D26\"})]})]});};export default inject('homeState')(observer(Transform));","map":{"version":3,"sources":["/Users/yuanfang/Downloads/Telegram Desktop/封存/advisory-h5/src/pages/transform/index.tsx"],"names":["React","useState","HeaderBar","useHistory","observer","inject","transferCion","Transform","props","goBack","push","homeState","transData","setTransData","data","refreshData","change","e","key","target","value","transferCionHandle","then","res","success","submit","transferAmount","receiverLoginName","receiverName","loginPwd","fail","coinAmount"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport HeaderBar from \"@components/header\"\nimport { useHistory } from \"react-router-dom\";\nimport { observer, inject } from \"mobx-react\"\nimport { transferCion } from \"./request\"\nimport \"./style.scss\"\nimport { Toast } from \"antd-mobile\";\nconst Transform = (props: any) => {\n  const { goBack, push } = useHistory();\n  const { homeState } = props;\n  const [transData, setTransData] = useState<any>({});\n  const { data, refreshData } = homeState\n\n  const change = (e: any, key: string) => {\n    setTransData({ ...transData, [key]: e.target.value })\n  }\n\n  const transferCionHandle = () => {\n    transferCion(transData).then(res => {\n      Toast.success(\"转账成功!\");\n      push(\"/\")\n    })\n  }\n\n  const submit = () => {\n    const { transferAmount, receiverLoginName, receiverName, loginPwd } = transData;\n    if (!transferAmount || !receiverLoginName || !receiverName || !loginPwd) {\n      Toast.fail(\"填写信息不能为空 \", 1.5);\n      return\n    }\n    if (transferAmount <= 0) {\n      Toast.fail(\"转账金额不能小于0\", 1.5);\n      return;\n    }\n    if (transferAmount > data.coinAmount) {\n      Toast.fail(\"账户余额不足\", 1.5);\n      return;\n    }\n    transferCionHandle()\n  }\n  return (\n    <div className=\"transform-wrap\">\n      <HeaderBar goback={goBack} title={\"转账\"} />\n      <div className=\"transform-top\">\n        <div className=\"transform-coin\">\n          <p className=\"coin-number\">\n            <i></i>\n            <span>{data.coinAmount}</span>\n          </p>\n          <p className=\"coin-text\">Q币余额</p>\n        </div>\n      </div>\n      <div className=\"transf-form\">\n        <p>\n          <span>转账金额</span>\n          <input type=\"number\" placeholder=\"请输入转账金额\" onChange={(e) => { change(e, \"transferAmount\") }} />\n        </p>\n        <p>\n          <span>对方账号</span>\n          <input type=\"text\" placeholder=\"请输入对方账号\" onChange={(e) => { change(e, \"receiverLoginName\") }} />\n        </p>\n        <p>\n          <span>对方姓名</span>\n          <input type=\"text\" placeholder=\"请输入对方姓名\" onChange={(e) => { change(e, \"receiverName\") }} />\n        </p>\n        <p>\n          <span>登陆密码</span>\n          <input type=\"password\" placeholder=\"请输入登陆密码\" onChange={(e) => { change(e, \"loginPwd\") }} />\n        </p>\n      </div>\n\n      <div className=\"transf-bottom\">\n        <p className=\"transf-alert\">Q币将转入对方账号无法退款</p>\n        <p className=\"transf-entry\" onClick={() => submit()}>\n          确定转账\n    </p>\n      </div>\n    </div>\n  )\n}\nexport default inject('homeState')((observer(Transform)));"]},"metadata":{},"sourceType":"module"}