{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/yuanfang/Downloads/Telegram Desktop/\\u5C01\\u5B58/advisory-h5/src/pages/bills/index.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { statistics, queryPages } from \"./request\";\nimport './style.scss';\nimport { mm_dd_hh_mm_ss2 } from \"@utils/dataTime\";\nimport { toFixed } from \"@utils/numberUtils\";\nconst arr = [{\n  code: 'TRANSFER_OUT',\n  text: \"转出\"\n}, {\n  code: 'TRANSFER_IN',\n  text: \"代销扣款\"\n}, {\n  code: 'DEPOSIT_REFUND',\n  text: \"代销退款\"\n}, {\n  code: 'DEPOSIT_BONUS',\n  text: \"代销收益\"\n}, {\n  code: 'DEPOSIT_RECALL',\n  text: \"代销追回\"\n}, {\n  code: 'MANUAL_ADJUST',\n  text: \"额度修正\"\n}, {\n  code: 'TIMING_TASK_REVOKE',\n  text: \"限时任务冲正\"\n}, {\n  code: 'TIMING_TASK_INCOME',\n  text: \"限时任务奖励\"\n}, {\n  code: 'TIMING_TASK_BONUS',\n  text: \"限时任务收益\"\n}];\nconst Status = {\n  'TRANSFER_OUT': \"转出\",\n  'TRANSFER_IN': \"转入\",\n  'DEPOSIT_COST': \"代销扣款\",\n  'DEPOSIT_REFUND': \"代销退款\",\n  'DEPOSIT_BONUS': \"代销收益\",\n  'DEPOSIT_RECALL': \"代销追回\",\n  'MANUAL_ADJUST': \"额度修正\",\n  'TIMING_TASK_REVOKE': \"限时任务冲正\",\n  'TIMING_TASK_INCOME': \"限时任务奖励\",\n  'TIMING_TASK_BONUS': \"限时任务收益\"\n};\n\nconst Bills = () => {\n  _s();\n\n  const {\n    goBack\n  } = useHistory();\n  const [selector, setSelector] = useState(false);\n  const [dataInfo, setDataInfo] = useState({});\n  const [dataList, setDataList] = useState([]);\n  const [type, setType] = useState();\n\n  const statisticsHandle = () => {\n    statistics({}).then(data => {\n      setDataInfo(data);\n    });\n  };\n\n  const queryPagesHandle = data => {\n    queryPages(data).then(data => {\n      setDataList(data);\n    });\n  };\n\n  useEffect(() => {\n    queryPagesHandle();\n    statisticsHandle();\n  }, []);\n  useEffect(() => {\n    if (!type) return;\n    queryPagesHandle({\n      transReasons: type\n    });\n  }, [type]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [selector && /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"selects\",\n      children: arr.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n        onClick: () => {\n          setType(item.code);\n          setSelector(false);\n        },\n        children: item.text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 42\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 25\n    }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"bills-header-wrap\",\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"goback\",\n          onClick: goBack\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 16\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"title\",\n          children: \"\\u8D26\\u5355\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 16\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"title small-title\",\n          onClick: () => setSelector(!selector)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 16\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 10\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bills-detail\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"\\u8FD17\\u65E5\\u4E2A\\u4EBA\\u4EE3\\u552E\\u6536\\u76CA \\xA5\", toFixed(dataInfo.depositAmount)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"\\u8FD17\\u65E5Q\\u5E01\\u8D2D\\u4E70\\u603B\\u989D \\xA5\", toFixed(dataInfo.withdrawAmount)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 10\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"bills-list\",\n      children: dataList && dataList.map(item => {\n        return /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"bills-list-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"type-name\",\n              children: Status[item.transReason]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 25\n            }, this), item.accountingAction === 'CREDIT' ? /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"type-money add-money\",\n              children: [\"+\", toFixed(item.amount)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 28\n            }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"type-money less-money\",\n              children: [\"-\", toFixed(item.amount)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 28\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 22\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"type-order\",\n              children: [\"\\u8BA2\\u5355\\u7F16\\u53F7:\", item.orderNo]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"type-time\",\n              children: mm_dd_hh_mm_ss2(item.createdDate)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 22\n          }, this)]\n        }, item.orderNo, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 26\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 10\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Bills, \"HI2qrOOtI/VLTW2Bvyz4c9hX/kk=\", false, function () {\n  return [useHistory];\n});\n\n_c = Bills;\nexport default Bills;\n\nvar _c;\n\n$RefreshReg$(_c, \"Bills\");","map":{"version":3,"sources":["/Users/yuanfang/Downloads/Telegram Desktop/封存/advisory-h5/src/pages/bills/index.tsx"],"names":["React","useEffect","useState","useHistory","statistics","queryPages","mm_dd_hh_mm_ss2","toFixed","arr","code","text","Status","Bills","goBack","selector","setSelector","dataInfo","setDataInfo","dataList","setDataList","type","setType","statisticsHandle","then","data","queryPagesHandle","transReasons","map","item","depositAmount","withdrawAmount","transReason","accountingAction","amount","orderNo","createdDate"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport HeaderBar from \"@components/header\"\nimport { useHistory } from \"react-router-dom\";\nimport { Picker, List, Toast } from \"antd-mobile\"\nimport { statistics, queryPages } from \"./request\"\nimport './style.scss'\nimport { mm_dd_hh_mm_ss2 } from \"@utils/dataTime\";\nimport { toFixed } from \"@utils/numberUtils\";\nconst arr = [\n   { code: 'TRANSFER_OUT', text: \"转出\" },\n   { code: 'TRANSFER_IN', text: \"代销扣款\" },\n   { code: 'DEPOSIT_REFUND', text: \"代销退款\" },\n   { code: 'DEPOSIT_BONUS', text: \"代销收益\" },\n   { code: 'DEPOSIT_RECALL', text: \"代销追回\" },\n   { code: 'MANUAL_ADJUST', text: \"额度修正\" },\n   { code: 'TIMING_TASK_REVOKE', text: \"限时任务冲正\" },\n   { code: 'TIMING_TASK_INCOME', text: \"限时任务奖励\" },\n   { code: 'TIMING_TASK_BONUS', text: \"限时任务收益\" },\n]\nconst Status: any = {\n   'TRANSFER_OUT': \"转出\",\n   'TRANSFER_IN': \"转入\",\n   'DEPOSIT_COST': \"代销扣款\",\n   'DEPOSIT_REFUND': \"代销退款\",\n   'DEPOSIT_BONUS': \"代销收益\",\n   'DEPOSIT_RECALL': \"代销追回\",\n   'MANUAL_ADJUST': \"额度修正\",\n   'TIMING_TASK_REVOKE': \"限时任务冲正\",\n   'TIMING_TASK_INCOME': \"限时任务奖励\",\n   'TIMING_TASK_BONUS': \"限时任务收益\"\n}\nconst Bills = () => {\n   const { goBack } = useHistory();\n   const [selector, setSelector] = useState(false)\n   const [dataInfo, setDataInfo] = useState<any>({})\n   const [dataList, setDataList] = useState<any>([])\n   const [type, setType] = useState<any>()\n   const statisticsHandle = () => {\n      statistics({}).then(data => {\n         setDataInfo(data)\n      })\n   }\n   const queryPagesHandle = (data?: any) => {\n      queryPages(data).then(data => {\n         setDataList(data)\n      })\n   }\n   useEffect(() => {\n      queryPagesHandle();\n      statisticsHandle()\n   }, [])\n\n   useEffect(() => {\n      if (!type) return;\n      queryPagesHandle({ transReasons: type })\n   }, [type])\n   return (\n      <>\n         {\n            selector && <ul className=\"selects\">\n               {\n                  arr.map((item: any) => <li onClick={() => {\n                     setType(item.code)\n                     setSelector(false)\n                  }}>{item.text}</li>)\n               }\n            </ul>\n         }\n         <header className=\"bills-header-wrap\">\n            <ul className=\"container\">\n               <li className=\"goback\" onClick={goBack}></li>\n               <li className=\"title\">账单</li>\n               <li className=\"title small-title\" onClick={() => setSelector(!selector)}></li>\n            </ul>\n         </header>\n         <div className=\"bills-detail\">\n            <p>近7日个人代售收益 ¥{toFixed(dataInfo.depositAmount)}</p>\n            <p>近7日Q币购买总额 ¥{toFixed(dataInfo.withdrawAmount)}</p>\n         </div>\n         <ul className=\"bills-list\">\n            {\n               dataList && dataList.map((item: any) => {\n                  return <li className=\"bills-list-item\" key={item.orderNo}>\n                     <p>\n                        <span className=\"type-name\">{Status[item.transReason]}</span>\n                        {item.accountingAction === 'CREDIT' ?\n                           <span className=\"type-money add-money\">+{toFixed(item.amount)}</span>\n                           :\n                           <span className=\"type-money less-money\">-{toFixed(item.amount)}</span>}\n                     </p>\n                     <p>\n                        <span className=\"type-order\">订单编号:{item.orderNo}</span>\n                        <span className=\"type-time\">{mm_dd_hh_mm_ss2(item.createdDate)}</span>\n                     </p>\n                  </li>\n               })\n            }\n         </ul>\n      </>\n   )\n}\nexport default Bills;"]},"metadata":{},"sourceType":"module"}