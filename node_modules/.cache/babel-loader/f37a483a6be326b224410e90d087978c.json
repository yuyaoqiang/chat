{"ast":null,"code":"import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"/Users/yuanfang/Downloads/Telegram Desktop/\\u5C01\\u5B58/advisory-h5/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{useHistory}from\"react-router-dom\";import{statistics,queryPages}from\"./request\";import'./style.scss';import{mm_dd_hh_mm_ss2}from\"@utils/dataTime\";import{toFixed}from\"@utils/numberUtils\";var arr=[{code:'TRANSFER_OUT',text:\"转出\"},{code:'TRANSFER_IN',text:\"代销扣款\"},{code:'DEPOSIT_REFUND',text:\"代销退款\"},{code:'DEPOSIT_BONUS',text:\"代销收益\"},{code:'DEPOSIT_RECALL',text:\"代销追回\"},{code:'MANUAL_ADJUST',text:\"额度修正\"},{code:'TIMING_TASK_REVOKE',text:\"限时任务冲正\"},{code:'TIMING_TASK_INCOME',text:\"限时任务奖励\"},{code:'TIMING_TASK_BONUS',text:\"限时任务收益\"}];var Status={'TRANSFER_OUT':\"转出\",'TRANSFER_IN':\"转入\",'DEPOSIT_COST':\"代销扣款\",'DEPOSIT_REFUND':\"代销退款\",'DEPOSIT_BONUS':\"代销收益\",'DEPOSIT_RECALL':\"代销追回\",'MANUAL_ADJUST':\"额度修正\",'TIMING_TASK_REVOKE':\"限时任务冲正\",'TIMING_TASK_INCOME':\"限时任务奖励\",'TIMING_TASK_BONUS':\"限时任务收益\"};var Bills=function Bills(){var _useHistory=useHistory(),goBack=_useHistory.goBack;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),selector=_useState2[0],setSelector=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),dataInfo=_useState4[0],setDataInfo=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),dataList=_useState6[0],setDataList=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),type=_useState8[0],setType=_useState8[1];var statisticsHandle=function statisticsHandle(){statistics({}).then(function(data){setDataInfo(data);});};var queryPagesHandle=function queryPagesHandle(data){queryPages(data).then(function(data){setDataList(data);});};useEffect(function(){queryPagesHandle();statisticsHandle();},[]);useEffect(function(){if(!type)return;queryPagesHandle({transReasons:type});},[type]);return/*#__PURE__*/_jsxs(_Fragment,{children:[selector&&/*#__PURE__*/_jsx(\"ul\",{className:\"selects\",children:arr.map(function(item){return/*#__PURE__*/_jsx(\"li\",{onClick:function onClick(){setType(item.code);setSelector(false);},children:item.text});})}),/*#__PURE__*/_jsx(\"header\",{className:\"bills-header-wrap\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"goback\",onClick:goBack}),/*#__PURE__*/_jsx(\"li\",{className:\"title\",children:\"\\u8D26\\u5355\"}),/*#__PURE__*/_jsx(\"li\",{className:\"title small-title\",onClick:function onClick(){return setSelector(!selector);}})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bills-detail\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u8FD17\\u65E5\\u4E2A\\u4EBA\\u4EE3\\u552E\\u6536\\u76CA \\xA5\",toFixed(dataInfo.depositAmount)]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u8FD17\\u65E5Q\\u5E01\\u8D2D\\u4E70\\u603B\\u989D \\xA5\",toFixed(dataInfo.withdrawAmount)]})]}),/*#__PURE__*/_jsx(\"ul\",{className:\"bills-list\",children:dataList&&dataList.map(function(item){return/*#__PURE__*/_jsxs(\"li\",{className:\"bills-list-item\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"type-name\",children:Status[item.transReason]}),item.accountingAction==='CREDIT'?/*#__PURE__*/_jsxs(\"span\",{className:\"type-money add-money\",children:[\"+\",toFixed(item.amount)]}):/*#__PURE__*/_jsxs(\"span\",{className:\"type-money less-money\",children:[\"-\",toFixed(item.amount)]})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsxs(\"span\",{className:\"type-order\",children:[\"\\u8BA2\\u5355\\u7F16\\u53F7:\",item.orderNo]}),/*#__PURE__*/_jsx(\"span\",{className:\"type-time\",children:mm_dd_hh_mm_ss2(item.createdDate)})]})]},item.orderNo);})})]});};export default Bills;","map":{"version":3,"sources":["/Users/yuanfang/Downloads/Telegram Desktop/封存/advisory-h5/src/pages/bills/index.tsx"],"names":["React","useEffect","useState","useHistory","statistics","queryPages","mm_dd_hh_mm_ss2","toFixed","arr","code","text","Status","Bills","goBack","selector","setSelector","dataInfo","setDataInfo","dataList","setDataList","type","setType","statisticsHandle","then","data","queryPagesHandle","transReasons","map","item","depositAmount","withdrawAmount","transReason","accountingAction","amount","orderNo","createdDate"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport HeaderBar from \"@components/header\"\nimport { useHistory } from \"react-router-dom\";\nimport { Picker, List, Toast } from \"antd-mobile\"\nimport { statistics, queryPages } from \"./request\"\nimport './style.scss'\nimport { mm_dd_hh_mm_ss2 } from \"@utils/dataTime\";\nimport { toFixed } from \"@utils/numberUtils\";\nconst arr = [\n   { code: 'TRANSFER_OUT', text: \"转出\" },\n   { code: 'TRANSFER_IN', text: \"代销扣款\" },\n   { code: 'DEPOSIT_REFUND', text: \"代销退款\" },\n   { code: 'DEPOSIT_BONUS', text: \"代销收益\" },\n   { code: 'DEPOSIT_RECALL', text: \"代销追回\" },\n   { code: 'MANUAL_ADJUST', text: \"额度修正\" },\n   { code: 'TIMING_TASK_REVOKE', text: \"限时任务冲正\" },\n   { code: 'TIMING_TASK_INCOME', text: \"限时任务奖励\" },\n   { code: 'TIMING_TASK_BONUS', text: \"限时任务收益\" },\n]\nconst Status: any = {\n   'TRANSFER_OUT': \"转出\",\n   'TRANSFER_IN': \"转入\",\n   'DEPOSIT_COST': \"代销扣款\",\n   'DEPOSIT_REFUND': \"代销退款\",\n   'DEPOSIT_BONUS': \"代销收益\",\n   'DEPOSIT_RECALL': \"代销追回\",\n   'MANUAL_ADJUST': \"额度修正\",\n   'TIMING_TASK_REVOKE': \"限时任务冲正\",\n   'TIMING_TASK_INCOME': \"限时任务奖励\",\n   'TIMING_TASK_BONUS': \"限时任务收益\"\n}\nconst Bills = () => {\n   const { goBack } = useHistory();\n   const [selector, setSelector] = useState(false)\n   const [dataInfo, setDataInfo] = useState<any>({})\n   const [dataList, setDataList] = useState<any>([])\n   const [type, setType] = useState<any>()\n   const statisticsHandle = () => {\n      statistics({}).then(data => {\n         setDataInfo(data)\n      })\n   }\n   const queryPagesHandle = (data?: any) => {\n      queryPages(data).then(data => {\n         setDataList(data)\n      })\n   }\n   useEffect(() => {\n      queryPagesHandle();\n      statisticsHandle()\n   }, [])\n\n   useEffect(() => {\n      if (!type) return;\n      queryPagesHandle({ transReasons: type })\n   }, [type])\n   return (\n      <>\n         {\n            selector && <ul className=\"selects\">\n               {\n                  arr.map((item: any) => <li onClick={() => {\n                     setType(item.code)\n                     setSelector(false)\n                  }}>{item.text}</li>)\n               }\n            </ul>\n         }\n         <header className=\"bills-header-wrap\">\n            <ul className=\"container\">\n               <li className=\"goback\" onClick={goBack}></li>\n               <li className=\"title\">账单</li>\n               <li className=\"title small-title\" onClick={() => setSelector(!selector)}></li>\n            </ul>\n         </header>\n         <div className=\"bills-detail\">\n            <p>近7日个人代售收益 ¥{toFixed(dataInfo.depositAmount)}</p>\n            <p>近7日Q币购买总额 ¥{toFixed(dataInfo.withdrawAmount)}</p>\n         </div>\n         <ul className=\"bills-list\">\n            {\n               dataList && dataList.map((item: any) => {\n                  return <li className=\"bills-list-item\" key={item.orderNo}>\n                     <p>\n                        <span className=\"type-name\">{Status[item.transReason]}</span>\n                        {item.accountingAction === 'CREDIT' ?\n                           <span className=\"type-money add-money\">+{toFixed(item.amount)}</span>\n                           :\n                           <span className=\"type-money less-money\">-{toFixed(item.amount)}</span>}\n                     </p>\n                     <p>\n                        <span className=\"type-order\">订单编号:{item.orderNo}</span>\n                        <span className=\"type-time\">{mm_dd_hh_mm_ss2(item.createdDate)}</span>\n                     </p>\n                  </li>\n               })\n            }\n         </ul>\n      </>\n   )\n}\nexport default Bills;"]},"metadata":{},"sourceType":"module"}