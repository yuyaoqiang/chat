{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import\"antd-mobile/lib/toast/style/css\";import _Toast from\"antd-mobile/lib/toast\";import _defineProperty from\"/Users/yuanfang/Downloads/Telegram Desktop/\\u5C01\\u5B58/advisory-h5/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/yuanfang/Downloads/Telegram Desktop/\\u5C01\\u5B58/advisory-h5/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/yuanfang/Downloads/Telegram Desktop/\\u5C01\\u5B58/advisory-h5/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import HeaderBar from\"@components/header\";import{useHistory}from\"react-router-dom\";import{observer,inject}from\"mobx-react\";import{transferCion}from\"./request\";import\"./style.scss\";var Transform=function Transform(props){var _useHistory=useHistory(),goBack=_useHistory.goBack,push=_useHistory.push;var homeState=props.homeState;var _useState=useState({transferAmount:'',receiverLoginName:'',receiverName:'',loginPwd:''}),_useState2=_slicedToArray(_useState,2),transData=_useState2[0],setTransData=_useState2[1];var data=homeState.data,refreshData=homeState.refreshData;var change=function change(e,key){setTransData(_objectSpread(_objectSpread({},transData),{},_defineProperty({},key,e.target.value)));};var transferCionHandle=function transferCionHandle(){_Toast.loading(\"操作中...\");transferCion(transData).then(function(res){_Toast.success(\"转账成功!\");push(\"/\");}).catch(function(err){setTransData({transferAmount:'',receiverLoginName:'',receiverName:'',loginPwd:''});});};var submit=function submit(){var transferAmount=transData.transferAmount,receiverLoginName=transData.receiverLoginName,receiverName=transData.receiverName,loginPwd=transData.loginPwd;if(!transferAmount||!receiverLoginName||!receiverName||!loginPwd){_Toast.fail(\"填写信息不能为空 \",1.5);return;}if(transferAmount<=0){_Toast.fail(\"转账金额不能小于0\",1.5);return;}if(transferAmount>data.coinAmount){_Toast.fail(\"账户余额不足\",1.5);return;}transferCionHandle();};return/*#__PURE__*/_jsxs(\"div\",{className:\"transform-wrap\",children:[/*#__PURE__*/_jsx(HeaderBar,{goback:goBack,title:\"转账\"}),/*#__PURE__*/_jsx(\"div\",{className:\"transform-top\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"transform-coin\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"coin-number\",children:[/*#__PURE__*/_jsx(\"i\",{}),/*#__PURE__*/_jsx(\"span\",{children:data.coinAmount})]}),/*#__PURE__*/_jsx(\"p\",{className:\"coin-text\",children:\"Q\\u5E01\\u4F59\\u989D\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"transf-form\",children:/*#__PURE__*/_jsxs(\"form\",{method:\"post\",action:\"/form\",autoComplete:\"off\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u8F6C\\u8D26\\u91D1\\u989D\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"\\u8BF7\\u8F93\\u5165\\u8F6C\\u8D26\\u91D1\\u989D\",value:transData.transferAmount,onChange:function onChange(e){change(e,\"transferAmount\");}})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u5BF9\\u65B9\\u8D26\\u53F7\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\u8BF7\\u8F93\\u5165\\u5BF9\\u65B9\\u8D26\\u53F7\",value:transData.receiverLoginName,onChange:function onChange(e){change(e,\"receiverLoginName\");}})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u5BF9\\u65B9\\u59D3\\u540D\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",autoComplete:\"off\",placeholder:\"\\u8BF7\\u8F93\\u5165\\u5BF9\\u65B9\\u59D3\\u540D\",value:transData.receiverName,onChange:function onChange(e){change(e,\"receiverName\");}})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u767B\\u9646\\u5BC6\\u7801\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",autoComplete:\"off\",placeholder:\"\\u8BF7\\u8F93\\u5165\\u767B\\u9646\\u5BC6\\u7801\",value:transData.loginPwd,onChange:function onChange(e){change(e,\"loginPwd\");}})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"transf-bottom\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"transf-alert\",children:\"Q\\u5E01\\u5C06\\u8F6C\\u5165\\u5BF9\\u65B9\\u8D26\\u53F7\\u65E0\\u6CD5\\u9000\\u6B3E\"}),/*#__PURE__*/_jsx(\"p\",{className:\"transf-entry\",onClick:function onClick(){return submit();},children:\"\\u786E\\u5B9A\\u8F6C\\u8D26\"})]})]});};export default inject('homeState')(observer(Transform));","map":null,"metadata":{},"sourceType":"module"}