{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport \"antd-mobile/lib/modal/style/css\";\nimport _Modal from \"antd-mobile/lib/modal\";\nimport \"antd-mobile/lib/toast/style/css\";\nimport _Toast from \"antd-mobile/lib/toast\";\n\nvar _jsxFileName = \"/Users/yuanfang/Downloads/Telegram Desktop/\\u5C01\\u5B58/advisory-h5/src/pages/banks/index.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport HeaderBar from \"@components/header\";\nimport { useHistory } from \"react-router-dom\";\nimport { queryBanks, deleteBank } from \"./request\";\nimport { observer, inject } from \"mobx-react\";\nimport \"./style.scss\";\nvar Status;\n\n(function (Status) {\n  Status[\"WAIT_FOR_APPROVE\"] = \"\\u5BA1\\u6279\\u4E2D\";\n  Status[\"ENABLE\"] = \"\\u542F\\u7528\";\n  Status[\"DISABLE\"] = \"\\u7981\\u7528\";\n})(Status || (Status = {}));\n\nconst Banks = props => {\n  _s();\n\n  const {\n    goBack,\n    push\n  } = useHistory();\n  const {\n    banksState\n  } = props;\n  const {\n    mapBanks\n  } = banksState;\n  const [banks, setBanks] = useState(null);\n  useEffect(() => {\n    queryBanksHandle();\n  }, []);\n\n  const queryBanksHandle = () => {\n    _Toast.loading(\"加载中...\");\n\n    queryBanks().then(data => {\n      setBanks(data);\n\n      _Toast.hide();\n    });\n  };\n\n  const deleteBankHandle = row => {\n    let {\n      cardNo\n    } = row;\n\n    _Modal.alert('提示', '确定删除银行卡?', [{\n      text: '取消',\n      onPress: () => console.log('cancel')\n    }, {\n      text: '确定',\n      onPress: () => {\n        _Toast.loading(\"加载中...\");\n\n        deleteBank({\n          cardId: cardNo\n        }).then(data => {\n          setBanks(data);\n\n          _Toast.hide();\n        });\n      }\n    }]);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"banks-wrap\",\n    children: [/*#__PURE__*/_jsxDEV(HeaderBar, {\n      goback: goBack,\n      title: \"银行卡\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"banks-container\",\n      children: banks && banks.map((item, index) => {\n        return /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"banks-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"bank-icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"back-right-wrap\",\n            children: [item.status === 'WAIT_FOR_APPROVE' && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"review-icon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 48\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"right-top\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: mapBanks[item.bank]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 57,\n                columnNumber: 10\n              }, this), item.status !== 'WAIT_FOR_APPROVE' && /*#__PURE__*/_jsxDEV(\"span\", {\n                onClick: () => deleteBankHandle(item),\n                children: \"\\u5220\\u9664\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 49\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"right-min\",\n              children: item.cardNo\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"right-bottom\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"\\u6301\\u5361\\u4EBA:\", item.owner]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 10\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [item.province, \" \", item.city]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 10\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 8\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 7\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"add-wrap\",\n      onClick: () => push('addBank'),\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"add-icon\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"\\u6DFB\\u52A0\\u94F6\\u884C\\u5361\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 3\n  }, this);\n};\n\n_s(Banks, \"ltRx7LRQAdItgitfpV1Xr+6KScY=\", false, function () {\n  return [useHistory];\n});\n\n_c = Banks;\nexport default inject('banksState')(observer(Banks));\n\nvar _c;\n\n$RefreshReg$(_c, \"Banks\");","map":{"version":3,"sources":["/Users/yuanfang/Downloads/Telegram Desktop/封存/advisory-h5/src/pages/banks/index.tsx"],"names":["React","useEffect","useState","HeaderBar","useHistory","queryBanks","deleteBank","observer","inject","Status","Banks","props","goBack","push","banksState","mapBanks","banks","setBanks","queryBanksHandle","loading","then","data","hide","deleteBankHandle","row","cardNo","alert","text","onPress","console","log","cardId","map","item","index","status","bank","owner","province","city"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport HeaderBar from \"@components/header\"\nimport { useHistory } from \"react-router-dom\";\nimport { queryBanks, deleteBank } from \"./request\";\nimport { observer, inject } from \"mobx-react\"\nimport \"./style.scss\"\nimport { Toast, Modal } from \"antd-mobile\";\nenum Status {\n \"WAIT_FOR_APPROVE\" = \"审批中\",\n \"ENABLE\" = \"启用\",\n \"DISABLE\" = \"禁用\",\n}\nconst Banks = (props: any) => {\n const { goBack, push } = useHistory();\n const { banksState } = props;\n const { mapBanks } = banksState;\n const [banks, setBanks] = useState<any>(null)\n useEffect(() => {\n  queryBanksHandle()\n }, [])\n const queryBanksHandle = () => {\n  Toast.loading(\"加载中...\")\n  queryBanks().then(data => {\n   setBanks(data)\n   Toast.hide();\n  })\n }\n const deleteBankHandle = (row:any) => {\n  let {cardNo}= row;\n  Modal.alert('提示', '确定删除银行卡?', [\n   { text: '取消', onPress: () => console.log('cancel') },\n   {\n    text: '确定',\n    onPress: () => {\n     Toast.loading(\"加载中...\");\n     deleteBank({cardId:cardNo}).then(data => {\n      setBanks(data)\n      Toast.hide();\n     })\n    }\n   },\n  ])\n\n\n }\n return (\n  <div className=\"banks-wrap\">\n   <HeaderBar goback={goBack} title={\"银行卡\"} />\n   <ul className=\"banks-container\">\n    {banks && banks.map((item: any, index: number) => {\n     return (\n      <li className=\"banks-item\" key={index}>\n       <span className=\"bank-icon\"></span>\n       <div className=\"back-right-wrap\">\n        {item.status === 'WAIT_FOR_APPROVE' && <p className=\"review-icon\"></p>}\n        <p className=\"right-top\">\n         <span>{mapBanks[item.bank]}</span>\n         {\n          item.status !== 'WAIT_FOR_APPROVE' && <span onClick={()=>deleteBankHandle(item)}>删除</span>\n         }\n        </p>\n        <p className=\"right-min\">{item.cardNo}</p>\n        <p className=\"right-bottom\">\n         <span>持卡人:{item.owner}</span>\n         <span>{item.province} {item.city}</span>\n        </p>\n       </div>\n      </li>\n     )\n    })}\n   </ul>\n   <div className=\"add-wrap\" onClick={() => push('addBank')}>\n    <span className=\"add-icon\"></span>\n    <span>添加银行卡</span>\n   </div>\n  </div >\n )\n}\nexport default inject('banksState')((observer(Banks)));"]},"metadata":{},"sourceType":"module"}