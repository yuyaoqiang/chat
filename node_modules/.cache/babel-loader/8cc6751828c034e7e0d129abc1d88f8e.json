{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import\"antd-mobile/lib/toast/style/css\";import _Toast from\"antd-mobile/lib/toast\";import _slicedToArray from\"/Users/yuanfang/Downloads/Telegram Desktop/\\u5C01\\u5B58/advisory-h5/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{hh_mm_ss_zh}from\"@utils/dataTime\";import{toFixed,zhNumber}from\"@utils/numberUtils\";import React,{useState}from\"react\";import{obtainTimingTask}from\"../request\";import'../style.scss';var TimerList=function TimerList(props){var setCheckTab=props.setCheckTab,mapBanks=props.mapBanks,data=props.data,transType=props.transType;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),entryOrderFlag=_useState2[0],setEntryOrderFlag=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),successOrderFlag=_useState4[0],setSuccessOrderFlag=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),current=_useState6[0],setCurrent=_useState6[1];var obtainTimingTaskHandle=function obtainTimingTaskHandle(){_Toast.loading(\"领取中...\");obtainTimingTask({taskId:current.taskId}).then(function(data){setSuccessOrderFlag(true);_Toast.hide();});};var entryOrder=function entryOrder(){return/*#__PURE__*/_jsx(\"div\",{className:\"alert-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"on-sale-alert\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"alert-top\",children:\"\\u63D0\\u793A\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"alert-min\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u9886\\u53D6\\u540E\\u5C06\\u6263\\u9664\",toFixed(current.cashAmount),\",\\u662F\\u5426\\u9886\\u53D6\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"left\",children:[/*#__PURE__*/_jsx(\"i\",{className:transType?'def-bank-icon':'ali-pay-icon'}),/*#__PURE__*/_jsx(\"span\",{children:mapBanks[current.bankType]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"min\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u3010\",zhNumber(current.cashAmount),\"\\u3011\\xA5\",toFixed(current.cashAmount)]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u4EFB\\u52A1\\u5956\\u52B1:\",/*#__PURE__*/_jsx(\"i\",{}),toFixed(current.taskBonus)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"right\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u9886\\u53D6\\u5012\\u8BA1\\u65F6\"}),/*#__PURE__*/_jsx(\"span\",{children:hh_mm_ss_zh(current.waitTimeout)})]})]})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"alert-bottom\",children:[/*#__PURE__*/_jsx(\"span\",{onClick:function onClick(){return setEntryOrderFlag(false);},children:\"\\u53D6\\u6D88\"}),/*#__PURE__*/_jsx(\"span\",{onClick:function onClick(){setEntryOrderFlag(false);obtainTimingTaskHandle();},children:\"\\u786E\\u5B9A\"})]})]})});};var successOrder=function successOrder(){return/*#__PURE__*/_jsx(\"div\",{className:\"alert-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"on-sale-alert\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"alert-top\",children:\"\\u63D0\\u793A\"}),/*#__PURE__*/_jsx(\"p\",{className:\"alert-min\",children:/*#__PURE__*/_jsx(\"div\",{className:\"item font-40\",children:\"\\u606D\\u559C\\u60A8\\uFF0C\\u9886\\u53D6\\u6210\\u529F\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"alert-bottom\",children:/*#__PURE__*/_jsx(\"span\",{onClick:function onClick(){setSuccessOrderFlag(false);setCheckTab(2);},children:\"\\u786E\\u5B9A\"})})]})});};var aliPlayRender=function aliPlayRender(){return data&&data.map(function(item){if(item.bankType!=='ALIPAY')return;return/*#__PURE__*/_jsxs(React.Fragment,{children:[successOrderFlag&&successOrder(),entryOrderFlag&&entryOrder(),/*#__PURE__*/_jsxs(\"li\",{className:\"timers-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"left\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"ali-pay-icon\"}),/*#__PURE__*/_jsx(\"span\",{children:mapBanks[item.bankType]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"min\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u3010\",zhNumber(item.cashAmount),\"\\u3011\\xA5\",toFixed(item.cashAmount)]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u4EFB\\u52A1\\u5956\\u52B1:\",/*#__PURE__*/_jsx(\"i\",{}),toFixed(item.taskBonus)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"right\",children:[/*#__PURE__*/_jsx(\"span\",{onClick:function onClick(){setEntryOrderFlag(true);setCurrent(item);},children:\"\\u9886\\u53D6\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u9886\\u53D6\\u5012\\u8BA1\\u65F6\"}),/*#__PURE__*/_jsxs(\"span\",{children:[hh_mm_ss_zh(item.waitTimeout),\" \"]})]})]},item.taskId)]},item.taskId);});};var banksRender=function banksRender(){return data&&data.map(function(item,index){if(item.bankType==='ALIPAY')return;return/*#__PURE__*/_jsxs(React.Fragment,{children:[successOrderFlag&&successOrder(),entryOrderFlag&&entryOrder(),/*#__PURE__*/_jsxs(\"li\",{className:\"timers-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"left\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"def-bank-icon\"}),/*#__PURE__*/_jsx(\"span\",{children:mapBanks[item.bankType]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"min\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u3010\",zhNumber(item.cashAmount),\"\\u3011\\xA5\",toFixed(item.cashAmount)]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u4EFB\\u52A1\\u5956\\u52B1:\",/*#__PURE__*/_jsx(\"i\",{}),toFixed(item.taskBonus)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"right\",children:[/*#__PURE__*/_jsx(\"span\",{onClick:function onClick(){setEntryOrderFlag(true);setCurrent(item);},children:\"\\u9886\\u53D6\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u9886\\u53D6\\u5012\\u8BA1\\u65F6\"}),/*#__PURE__*/_jsxs(\"span\",{children:[hh_mm_ss_zh(item.waitTimeout),\" \"]})]})]},item.taskId)]},item.taskId);});};return/*#__PURE__*/_jsx(\"ul\",{className:\"timers-wrap\",children:transType===true?banksRender():aliPlayRender()});};export default TimerList;","map":{"version":3,"sources":["/Users/yuanfang/Downloads/Telegram Desktop/封存/advisory-h5/src/pages/timeMission/component/list.tsx"],"names":["hh_mm_ss_zh","toFixed","zhNumber","React","useState","obtainTimingTask","TimerList","props","setCheckTab","mapBanks","data","transType","entryOrderFlag","setEntryOrderFlag","successOrderFlag","setSuccessOrderFlag","current","setCurrent","obtainTimingTaskHandle","loading","taskId","then","hide","entryOrder","cashAmount","bankType","taskBonus","waitTimeout","successOrder","aliPlayRender","map","item","banksRender","index"],"mappings":"oWAAA,OAASA,WAAT,KAA4B,iBAA5B,CAEA,OAASC,OAAT,CAAkBC,QAAlB,KAAkC,oBAAlC,CAEA,MAAOC,CAAAA,KAAP,EAAgBC,QAAhB,KAA2C,OAA3C,CACA,OAAsBC,gBAAtB,KAA8C,YAA9C,CACA,MAAO,eAAP,CACA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,KAAD,CAAgB,IACzBC,CAAAA,WADyB,CACkBD,KADlB,CACzBC,WADyB,CACZC,QADY,CACkBF,KADlB,CACZE,QADY,CACFC,IADE,CACkBH,KADlB,CACFG,IADE,CACIC,SADJ,CACkBJ,KADlB,CACII,SADJ,eAEWP,QAAQ,CAAC,KAAD,CAFnB,wCAE1BQ,cAF0B,eAEVC,iBAFU,8BAGeT,QAAQ,CAAC,KAAD,CAHvB,yCAG1BU,gBAH0B,eAGRC,mBAHQ,8BAIHX,QAAQ,CAAM,EAAN,CAJL,yCAI1BY,OAJ0B,eAIjBC,UAJiB,eAKjC,GAAMC,CAAAA,sBAAsB,CAAG,QAAzBA,CAAAA,sBAAyB,EAAM,CACpC,OAAMC,OAAN,CAAc,QAAd,EACAd,gBAAgB,CAAC,CAAEe,MAAM,CAAEJ,OAAO,CAACI,MAAlB,CAAD,CAAhB,CAA6CC,IAA7C,CAAkD,SAAAX,IAAI,CAAI,CACzDK,mBAAmB,CAAC,IAAD,CAAnB,CACA,OAAMO,IAAN,GACA,CAHD,EAIA,CAND,CAOA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACxB,mBACC,YAAK,SAAS,CAAC,iBAAf,uBACC,aAAK,SAAS,CAAC,eAAf,wBACC,UAAG,SAAS,CAAC,WAAb,0BADD,cAEC,aAAK,SAAS,CAAC,WAAf,wBACC,+DAAatB,OAAO,CAACe,OAAO,CAACQ,UAAT,CAApB,+BADD,cAEC,aAAK,SAAS,CAAC,MAAf,wBACC,aAAK,SAAS,CAAC,MAAf,wBACC,UAAG,SAAS,CAAEb,SAAS,CAAG,eAAH,CAAqB,cAA5C,EADD,cAEC,sBAAOF,QAAQ,CAACO,OAAO,CAACS,QAAT,CAAf,EAFD,GADD,cAKC,aAAK,SAAS,CAAC,KAAf,wBACC,iCAAQvB,QAAQ,CAACc,OAAO,CAACQ,UAAT,CAAhB,cAAwCvB,OAAO,CAACe,OAAO,CAACQ,UAAT,CAA/C,GADD,cAEC,iEAAW,YAAX,CAAmBvB,OAAO,CAACe,OAAO,CAACU,SAAT,CAA1B,GAFD,GALD,cASC,aAAK,SAAS,CAAC,OAAf,wBACC,wDADD,cAEC,sBAAO1B,WAAW,CAACgB,OAAO,CAACW,WAAT,CAAlB,EAFD,GATD,GAFD,GAFD,cAmBC,WAAG,SAAS,CAAC,cAAb,wBACC,aAAM,OAAO,CAAE,yBAAMd,CAAAA,iBAAiB,CAAC,KAAD,CAAvB,EAAf,0BADD,cAEC,aAAM,OAAO,CAAE,kBAAM,CACpBA,iBAAiB,CAAC,KAAD,CAAjB,CACAK,sBAAsB,GACtB,CAHD,0BAFD,GAnBD,GADD,EADD,CAgCA,CAjCD,CAmCA,GAAMU,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CAC1B,mBACC,YAAK,SAAS,CAAC,iBAAf,uBACC,aAAK,SAAS,CAAC,eAAf,wBACC,UAAG,SAAS,CAAC,WAAb,0BADD,cAEC,UAAG,SAAS,CAAC,WAAb,uBACC,YAAK,SAAS,CAAC,cAAf,8DADD,EAFD,cAOC,UAAG,SAAS,CAAC,cAAb,uBACC,aAAM,OAAO,CAAE,kBAAM,CACpBb,mBAAmB,CAAC,KAAD,CAAnB,CACAP,WAAW,CAAC,CAAD,CAAX,CACA,CAHD,0BADD,EAPD,GADD,EADD,CAkBA,CAnBD,CAoBA,GAAMqB,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,CAC3B,MACCnB,CAAAA,IAAI,EAAIA,IAAI,CAACoB,GAAL,CAAS,SAACC,IAAD,CAAe,CAC/B,GAAIA,IAAI,CAACN,QAAL,GAAkB,QAAtB,CAAgC,OAChC,mBACC,MAAC,KAAD,CAAO,QAAP,YACEX,gBAAgB,EAAIc,YAAY,EADlC,CAEEhB,cAAc,EAAIW,UAAU,EAF9B,cAGC,YAAI,SAAS,CAAC,aAAd,wBACC,aAAK,SAAS,CAAC,MAAf,wBACC,UAAG,SAAS,CAAC,cAAb,EADD,cAEC,sBAAOd,QAAQ,CAACsB,IAAI,CAACN,QAAN,CAAf,EAFD,GADD,cAKC,aAAK,SAAS,CAAC,KAAf,wBACC,iCAAQvB,QAAQ,CAAC6B,IAAI,CAACP,UAAN,CAAhB,cAAqCvB,OAAO,CAAC8B,IAAI,CAACP,UAAN,CAA5C,GADD,cAEC,iEAAW,YAAX,CAAmBvB,OAAO,CAAC8B,IAAI,CAACL,SAAN,CAA1B,GAFD,GALD,cASC,aAAK,SAAS,CAAC,OAAf,wBACC,aAAM,OAAO,CAAE,kBAAM,CACpBb,iBAAiB,CAAC,IAAD,CAAjB,CACAI,UAAU,CAACc,IAAD,CAAV,CACA,CAHD,0BADD,cAKC,wDALD,cAMC,wBAAO/B,WAAW,CAAC+B,IAAI,CAACJ,WAAN,CAAlB,OAND,GATD,GAAiCI,IAAI,CAACX,MAAtC,CAHD,GAAqBW,IAAI,CAACX,MAA1B,CADD,CAwBA,CA1BO,CADT,CA6BA,CA9BD,CA+BA,GAAMY,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACzB,MACCtB,CAAAA,IAAI,EAAIA,IAAI,CAACoB,GAAL,CAAS,SAACC,IAAD,CAAYE,KAAZ,CAA8B,CAC9C,GAAIF,IAAI,CAACN,QAAL,GAAkB,QAAtB,CAAgC,OAChC,mBACC,MAAC,KAAD,CAAO,QAAP,YACEX,gBAAgB,EAAIc,YAAY,EADlC,CAEEhB,cAAc,EAAIW,UAAU,EAF9B,cAGC,YAAI,SAAS,CAAC,aAAd,wBACC,aAAK,SAAS,CAAC,MAAf,wBACC,UAAG,SAAS,CAAC,eAAb,EADD,cAEC,sBAAOd,QAAQ,CAACsB,IAAI,CAACN,QAAN,CAAf,EAFD,GADD,cAKC,aAAK,SAAS,CAAC,KAAf,wBACC,iCAAQvB,QAAQ,CAAC6B,IAAI,CAACP,UAAN,CAAhB,cAAqCvB,OAAO,CAAC8B,IAAI,CAACP,UAAN,CAA5C,GADD,cAEC,iEAAW,YAAX,CAAmBvB,OAAO,CAAC8B,IAAI,CAACL,SAAN,CAA1B,GAFD,GALD,cASC,aAAK,SAAS,CAAC,OAAf,wBACC,aAAM,OAAO,CAAE,kBAAM,CACpBb,iBAAiB,CAAC,IAAD,CAAjB,CACAI,UAAU,CAACc,IAAD,CAAV,CACA,CAHD,0BADD,cAKC,wDALD,cAMC,wBAAO/B,WAAW,CAAC+B,IAAI,CAACJ,WAAN,CAAlB,OAND,GATD,GAAiCI,IAAI,CAACX,MAAtC,CAHD,GAAqBW,IAAI,CAACX,MAA1B,CADD,CAwBA,CA1BO,CADT,CA6BA,CA9BD,CA+BA,mBACC,WAAI,SAAS,CAAC,aAAd,UAEET,SAAS,GAAK,IAAd,CAAqBqB,WAAW,EAAhC,CAAqCH,aAAa,EAFpD,EADD,CAOA,CAxID,CAyIA,cAAevB,CAAAA,SAAf","sourcesContent":["import { hh_mm_ss_zh } from \"@utils/dataTime\";\nimport { transferArrayToObj } from \"@utils/helpers\";\nimport { toFixed, zhNumber } from \"@utils/numberUtils\";\nimport { Toast } from \"antd-mobile\";\nimport React, { useState, useEffect } from \"react\";\nimport { timingTasks, obtainTimingTask } from \"../request\"\nimport '../style.scss'\nconst TimerList = (props: any) => {\n const { setCheckTab, mapBanks, data, transType } = props;\n const [entryOrderFlag, setEntryOrderFlag] = useState(false)\n const [successOrderFlag, setSuccessOrderFlag] = useState(false)\n const [current, setCurrent] = useState<any>({})\n const obtainTimingTaskHandle = () => {\n  Toast.loading(\"领取中...\")\n  obtainTimingTask({ taskId: current.taskId }).then(data => {\n   setSuccessOrderFlag(true);\n   Toast.hide()\n  })\n }\n const entryOrder = () => {\n  return (\n   <div className=\"alert-container\">\n    <div className=\"on-sale-alert\">\n     <p className=\"alert-top\">提示</p>\n     <div className=\"alert-min\">\n      <span>领取后将扣除{toFixed(current.cashAmount)},是否领取</span>\n      <div className=\"item\">\n       <div className=\"left\">\n        <i className={transType ? 'def-bank-icon' : 'ali-pay-icon'}></i>\n        <span>{mapBanks[current.bankType]}</span>\n       </div>\n       <div className=\"min\">\n        <span>【{zhNumber(current.cashAmount)}】¥{toFixed(current.cashAmount)}</span>\n        <span>任务奖励:<i></i>{toFixed(current.taskBonus)}</span>\n       </div>\n       <div className=\"right\">\n        <span>领取倒计时</span>\n        <span>{hh_mm_ss_zh(current.waitTimeout)}</span>\n       </div>\n      </div>\n     </div>\n     <p className=\"alert-bottom\">\n      <span onClick={() => setEntryOrderFlag(false)}>取消</span>\n      <span onClick={() => {\n       setEntryOrderFlag(false);\n       obtainTimingTaskHandle();\n      }}>确定</span>\n\n     </p>\n    </div>\n   </div>\n  )\n }\n\n const successOrder = () => {\n  return (\n   <div className=\"alert-container\">\n    <div className=\"on-sale-alert\">\n     <p className=\"alert-top\">提示</p>\n     <p className=\"alert-min\">\n      <div className=\"item font-40\">\n       恭喜您，领取成功\n      </div>\n     </p>\n     <p className=\"alert-bottom\">\n      <span onClick={() => {\n       setSuccessOrderFlag(false)\n       setCheckTab(2)\n      }}>确定</span>\n     </p>\n    </div>\n   </div>\n  )\n }\n const aliPlayRender = () => {\n  return (\n   data && data.map((item: any) => {\n    if (item.bankType !== 'ALIPAY') return\n    return (\n     <React.Fragment key={item.taskId}>\n      {successOrderFlag && successOrder()}\n      {entryOrderFlag && entryOrder()}\n      <li className=\"timers-item\" key={item.taskId}>\n       <div className=\"left\">\n        <i className=\"ali-pay-icon\"></i>\n        <span>{mapBanks[item.bankType]}</span>\n       </div>\n       <div className=\"min\">\n        <span>【{zhNumber(item.cashAmount)}】¥{toFixed(item.cashAmount)}</span>\n        <span>任务奖励:<i></i>{toFixed(item.taskBonus)}</span>\n       </div>\n       <div className=\"right\">\n        <span onClick={() => {\n         setEntryOrderFlag(true)\n         setCurrent(item)\n        }}>领取</span>\n        <span>领取倒计时</span>\n        <span>{hh_mm_ss_zh(item.waitTimeout)} </span>\n       </div>\n      </li>\n     </React.Fragment>\n    )\n   })\n  )\n }\n const banksRender = () => {\n  return (\n   data && data.map((item: any, index: number) => {\n    if (item.bankType === 'ALIPAY') return\n    return (\n     <React.Fragment key={item.taskId}>\n      {successOrderFlag && successOrder()}\n      {entryOrderFlag && entryOrder()}\n      <li className=\"timers-item\" key={item.taskId}>\n       <div className=\"left\">\n        <i className=\"def-bank-icon\"></i>\n        <span>{mapBanks[item.bankType]}</span>\n       </div>\n       <div className=\"min\">\n        <span>【{zhNumber(item.cashAmount)}】¥{toFixed(item.cashAmount)}</span>\n        <span>任务奖励:<i></i>{toFixed(item.taskBonus)}</span>\n       </div>\n       <div className=\"right\">\n        <span onClick={() => {\n         setEntryOrderFlag(true);\n         setCurrent(item)\n        }}>领取</span>\n        <span>领取倒计时</span>\n        <span>{hh_mm_ss_zh(item.waitTimeout)} </span>\n       </div>\n      </li>\n     </React.Fragment >\n    )\n   })\n  )\n }\n return (\n  <ul className=\"timers-wrap\">\n   {\n    transType === true ? banksRender() : aliPlayRender()\n   }\n  </ul>\n )\n}\nexport default TimerList;"]},"metadata":{},"sourceType":"module"}