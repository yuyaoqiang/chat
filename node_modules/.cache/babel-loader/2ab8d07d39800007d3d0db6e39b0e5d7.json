{"ast":null,"code":"import _initializerDefineProperty from\"/Users/yuanfang/Downloads/Telegram Desktop/\\u5C01\\u5B58/advisory-h5/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/initializerDefineProperty\";import _classCallCheck from\"/Users/yuanfang/Downloads/Telegram Desktop/\\u5C01\\u5B58/advisory-h5/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/yuanfang/Downloads/Telegram Desktop/\\u5C01\\u5B58/advisory-h5/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _applyDecoratedDescriptor from\"/Users/yuanfang/Downloads/Telegram Desktop/\\u5C01\\u5B58/advisory-h5/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/applyDecoratedDescriptor\";import _initializerWarningHelper from\"/Users/yuanfang/Downloads/Telegram Desktop/\\u5C01\\u5B58/advisory-h5/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/initializerWarningHelper\";var _class,_descriptor,_descriptor2,_descriptor3,_temp;import{observable,computed,action,makeObservable,autorun}from\"mobx\";var UserState=(_class=(_temp=/*#__PURE__*/function(){function UserState(){var _this=this;_classCallCheck(this,UserState);_initializerDefineProperty(this,\"user\",_descriptor,this);_initializerDefineProperty(this,\"logout\",_descriptor2,this);_initializerDefineProperty(this,\"updateUser\",_descriptor3,this);makeObservable(this);autorun(function(){var userStr=sessionStorage.getItem('user');if(userStr){_this.updateUser(JSON.parse(userStr));}});}_createClass(UserState,[{key:\"msg\",get:function get(){return\"\".concat(this.user.mobilePhone);}}]);return UserState;}(),_temp),(_descriptor=_applyDecoratedDescriptor(_class.prototype,\"user\",[observable],{configurable:true,enumerable:true,writable:true,initializer:function initializer(){return{Authorization:\"\",isLogin:false};}}),_descriptor2=_applyDecoratedDescriptor(_class.prototype,\"logout\",[action],{configurable:true,enumerable:true,writable:true,initializer:function initializer(){var _this2=this;return function(){_this2.user.isLogin=false;sessionStorage.clear();};}}),_descriptor3=_applyDecoratedDescriptor(_class.prototype,\"updateUser\",[action],{configurable:true,enumerable:true,writable:true,initializer:function initializer(){var _this3=this;return function(user){_this3.user=user;sessionStorage.setItem('user',JSON.stringify(user));};}}),_applyDecoratedDescriptor(_class.prototype,\"msg\",[computed],Object.getOwnPropertyDescriptor(_class.prototype,\"msg\"),_class.prototype)),_class);export default UserState;","map":{"version":3,"sources":["/Users/yuanfang/Downloads/Telegram Desktop/封存/advisory-h5/src/pages/userInfo/stroe.ts"],"names":["observable","computed","action","makeObservable","autorun","UserState","userStr","sessionStorage","getItem","updateUser","JSON","parse","user","mobilePhone","Authorization","isLogin","clear","setItem","stringify"],"mappings":"2hCAAA,OAASA,UAAT,CAAqBC,QAArB,CAA+BC,MAA/B,CAAuCC,cAAvC,CAAuDC,OAAvD,KAAsE,MAAtE,C,GACMC,CAAAA,S,wCACJ,oBAAc,qOACZF,cAAc,CAAC,IAAD,CAAd,CACAC,OAAO,CAAC,UAAM,CACZ,GAAME,CAAAA,OAAO,CAAGC,cAAc,CAACC,OAAf,CAAuB,MAAvB,CAAhB,CACA,GAAIF,OAAJ,CAAa,CACX,KAAI,CAACG,UAAL,CAAgBC,IAAI,CAACC,KAAL,CAAWL,OAAX,CAAhB,EACD,CACF,CALM,CAAP,CAMD,C,qDAmBmB,CAClB,gBAAU,KAAKM,IAAL,CAAUC,WAApB,EACD,C,gGAnBAb,U,4FAAuB,CACtBc,aAAa,CAAE,EADO,CAEtBC,OAAO,CAAE,KAFa,C,uEAMvBb,M,4GAAgB,WAAM,CACrB,MAAI,CAACU,IAAL,CAAUG,OAAV,CAAoB,KAApB,CACAR,cAAc,CAACS,KAAf,GACD,C,2EAGAd,M,4GAAoB,UAACU,IAAD,CAAoB,CACvC,MAAI,CAACA,IAAL,CAAYA,IAAZ,CACAL,cAAc,CAACU,OAAf,CAAuB,MAAvB,CAA+BP,IAAI,CAACQ,SAAL,CAAeN,IAAf,CAA/B,EACD,C,uDAEAX,Q,qFAIH,cAAeI,CAAAA,SAAf","sourcesContent":["import { observable, computed, action, makeObservable, autorun } from \"mobx\";\nclass UserState {\n  constructor() {\n    makeObservable(this)\n    autorun(() => {\n      const userStr = sessionStorage.getItem('user');\n      if (userStr) {\n        this.updateUser(JSON.parse(userStr));\n      }\n    })\n  }\n\n  @observable user: any = {\n    Authorization: \"\",\n    isLogin: false,\n\n  }\n\n  @action logout = () => {\n    this.user.isLogin = false;\n    sessionStorage.clear();\n  }\n\n  //登录成功后更新用户\n  @action updateUser = (user: UserData) => {\n    this.user = user\n    sessionStorage.setItem('user', JSON.stringify(user))\n  }\n\n  @computed get msg() {\n    return `${this.user.mobilePhone}`\n  }\n}\nexport default UserState;"]},"metadata":{},"sourceType":"module"}