{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import\"antd-mobile/lib/toast/style/css\";import _Toast from\"antd-mobile/lib/toast\";import _defineProperty from\"/Users/yuanfang/Downloads/Telegram Desktop/\\u5C01\\u5B58/advisory-h5/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/yuanfang/Downloads/Telegram Desktop/\\u5C01\\u5B58/advisory-h5/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/yuanfang/Downloads/Telegram Desktop/\\u5C01\\u5B58/advisory-h5/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import HeaderBar from\"@components/header\";import{useHistory}from\"react-router-dom\";import{changePwd}from\"./request\";import\"./style.scss\";var Password=function Password(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),info=_useState2[0],setInfo=_useState2[1];var _useHistory=useHistory(),goBack=_useHistory.goBack,push=_useHistory.push;var change=function change(e,key){setInfo(_objectSpread(_objectSpread({},info),{},_defineProperty({},key,e.target.value)));};var changePwdHandle=function changePwdHandle(){var oldPwd=info.oldPwd,newPwd=info.newPwd,entryPwd=info.entryPwd;if(!oldPwd||!newPwd||!entryPwd){_Toast.fail(\"您有选项未填写\");return;}if(newPwd!==entryPwd){_Toast.fail(\"新密码与确认密码不一致\");return;}_Toast.loading(\"修改中...\");changePwd({oldPwd:oldPwd,newPwd:newPwd}).then(function(data){_Toast.success(\"修改成功\");push(\"userInfo\");}).catch(function(err){_Toast.success(\"修改失败\");});};return/*#__PURE__*/_jsxs(\"div\",{className:\"password-wrap\",children:[/*#__PURE__*/_jsx(HeaderBar,{goback:goBack,title:\"修改密码\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"main\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"inputs\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"icons pw\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u539F\\u5BC6\\u7801\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",onChange:function onChange(e){change(e,\"oldPwd\");},placeholder:\"\\u8BF7\\u8F93\\u5165\\u539F\\u5BC6\\u7801\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"inputs\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"icons pw\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u65B0\\u5BC6\\u7801\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",onChange:function onChange(e){change(e,\"newPwd\");},placeholder:\"6-18\\u4F4D\\u5927\\u5C0F\\u5199\\u5B57\\u6BCD+\\u6570\\u5B57\\u7EC4\\u5408\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"inputs\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"icons pw\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u786E\\u8BA4\\u5BC6\\u7801\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",onChange:function onChange(e){change(e,\"entryPwd\");},placeholder:\"\\u786E\\u8BA4\\u5BC6\\u7801\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"pay-on-btn\",onClick:function onClick(){return changePwdHandle();},children:\"\\u786E\\u8BA4\"})]});};export default Password;","map":null,"metadata":{},"sourceType":"module"}