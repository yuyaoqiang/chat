{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport \"antd-mobile/lib/list-view/style/css\";\nimport _ListView from \"antd-mobile/lib/list-view\";\nimport \"antd-mobile/lib/pull-to-refresh/style/css\";\nimport _PullToRefresh from \"antd-mobile/lib/pull-to-refresh\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/yuanfang/code/advisory-h5/src/pages/bills/index.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { statistics, queryPagesByParams } from \"./request\";\nimport { mm_dd_hh_mm_ss2 } from \"@utils/dataTime\";\nimport { observer, inject } from \"mobx-react\";\nimport usePaginationHooks from \"@hooks/usePaginationHooks\";\nimport { toFixed } from \"@utils/numberUtils\";\nimport './style.scss';\nconst arr = [{\n  code: 'TRANSFER_OUT',\n  text: \"转出\"\n}, {\n  code: 'TRANSFER_IN',\n  text: \"转入\"\n}, {\n  code: 'DEPOSIT_COST',\n  text: \"代收扣款\"\n}, {\n  code: 'DEPOSIT_REFUND',\n  text: \"代收退款\"\n}, {\n  code: 'DEPOSIT_BONUS',\n  text: \"代收收益\"\n}, {\n  code: 'DEPOSIT_RECALL',\n  text: \"代销追回\"\n}, {\n  code: 'MANUAL_ADJUST',\n  text: \"额度修正\"\n}, {\n  code: 'TIMING_TASK_REVOKE',\n  text: \"限时任务冲正\"\n}, {\n  code: 'TIMING_TASK_INCOME',\n  text: \"限时任务奖励\"\n}, {\n  code: 'TIMING_TASK_BONUS',\n  text: \"限时任务收益\"\n}, {\n  code: 'MERCHANT_DEPOSIT_FEE',\n  text: \"商户代收费用\"\n}, {\n  code: 'MERCHANT_DEPOSIT_ADD',\n  text: \"商户代收费成功，额度增加\"\n}, {\n  code: 'MERCHANT_TIMING_TASK_FEE',\n  text: \"商户限时任务费用\"\n}, {\n  code: 'MERCHANT_TIMING_TASK_MINUS',\n  text: \"商户限时任务成功，额度减少\"\n}, {\n  code: 'MERCHANT_TIMING_TASK_RETURN',\n  text: \"商户限时任务退回，额度补回\"\n}, {\n  code: 'DEPOSIT_BONUS_TOP',\n  text: '代收代理收益'\n}, {\n  code: 'DEPOSIT_BONUS_SECOND',\n  text: '代收代理收益'\n}, {\n  code: 'DEPOSIT_BONUS_RECOMMEND1',\n  text: '代收收益推荐人1'\n}, {\n  code: 'DEPOSIT_BONUS_RECOMMEND2',\n  text: '代收收益推荐人2'\n}, {\n  code: 'DEPOSIT_BONUS_RECOMMEND3',\n  text: '代收收益推荐人3'\n}, {\n  code: 'TIMING_TASK_BONUS_TOP',\n  text: '限时任务代理收益'\n}, {\n  code: 'TIMING_TASK_BONUS_SECOND',\n  text: '限时任务代理收益'\n}, {\n  code: 'TIMING_TASK_BONUS_RECOMMEND1',\n  text: '限时任务收益推荐人1'\n}, {\n  code: 'TIMING_TASK_BONUS_RECOMMEND2',\n  text: '限时任务收益推荐人2'\n}, {\n  code: 'TIMING_TASK_BONUS_RECOMMEND3',\n  text: '限时任务收益推荐人3'\n}];\nconst Status = {\n  'TRANSFER_OUT': \"转出\",\n  'TRANSFER_IN': \"转入\",\n  'DEPOSIT_COST': \"代收扣款\",\n  'DEPOSIT_REFUND': \"代收退款\",\n  'DEPOSIT_BONUS': \"代收收益\",\n  'DEPOSIT_RECALL': \"代收追回\",\n  'MANUAL_ADJUST': \"额度修正\",\n  'TIMING_TASK_REVOKE': \"限时任务冲正\",\n  'TIMING_TASK_INCOME': \"限时任务奖励\",\n  'TIMING_TASK_BONUS': \"限时任务收益\",\n  'MERCHANT_DEPOSIT_FEE': \"商户代收费用\",\n  'MERCHANT_DEPOSIT_ADD': \"商户代收费成功，额度增加\",\n  'MERCHANT_TIMING_TASK_FEE': \"商户限时任务费用\",\n  'MERCHANT_TIMING_TASK_MINUS': \"商户限时任务成功，额度减少\",\n  'MERCHANT_TIMING_TASK_RETURN': \"商户限时任务退回，额度补回\",\n  'DEPOSIT_BONUS_TOP': '代收代理收益',\n  'DEPOSIT_BONUS_SECOND': '代收代理收益',\n  'DEPOSIT_BONUS_RECOMMEND1': '代收收益推荐人1',\n  'DEPOSIT_BONUS_RECOMMEND2': '代收收益推荐人2',\n  'DEPOSIT_BONUS_RECOMMEND3': '代收收益推荐人3',\n  'TIMING_TASK_BONUS_TOP': '限时任务代理收益',\n  'TIMING_TASK_BONUS_SECOND': '限时任务代理收益',\n  'TIMING_TASK_BONUS_RECOMMEND1': '限时任务收益推荐人1',\n  'TIMING_TASK_BONUS_RECOMMEND2': '限时任务收益推荐人2',\n  'TIMING_TASK_BONUS_RECOMMEND3': '限时任务收益推荐人3'\n};\n\nconst Bills = props => {\n  _s();\n\n  const {\n    goBack\n  } = useHistory();\n  const [selector, setSelector] = useState(false);\n  const [dataInfo, setDataInfo] = useState({});\n  const [dataList, setDataList] = useState([]);\n  const [type, setType] = useState(null);\n  const {\n    commonState\n  } = props;\n  const ref = useRef(null);\n  const [containerHeieght, setContainerHeight] = useState(5);\n  const {\n    setIndicator,\n    setRefresing,\n    indicator,\n    refreshing,\n    dataSource\n  } = usePaginationHooks({\n    queryPages: queryPagesByParams,\n    params: {\n      transReasons: type\n    }\n  });\n  useEffect(() => {\n    const htmlFont = Number(document.documentElement.style.fontSize.slice(0, 2));\n    const clientHeight = commonState.clientHeight; //@ts-ignore\n\n    const top = ReactDOM.findDOMNode(ref.current).offsetTop;\n    setContainerHeight((clientHeight - top) / htmlFont);\n  }, []);\n  useEffect(() => {\n    statistics({}).then(data => {\n      setDataInfo(data);\n    });\n  }, []);\n\n  const row = (rowData, sectionID, rowID) => {\n    return /*#__PURE__*/_jsxDEV(\"li\", {\n      className: \"bills-list-item\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"type-name\",\n          children: Status[rowData.transReason]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 16\n        }, this), rowData.accountingAction === 'CREDIT' ? /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"type-money add-money\",\n          children: [\"+\", toFixed(rowData.amount)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 19\n        }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"type-money less-money\",\n          children: [\"-\", toFixed(rowData.amount)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"type-time\",\n          children: [\"\\u8BA2\\u5355\\u7F16\\u53F7:\", rowData.orderNo]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 16\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"type-order\",\n          children: [\"\\u63A5\\u5355\\u4F1A\\u5458\\u8D26\\u53F7:\", rowData.acceptOrderLoginName]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 16\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"type-order\",\n          children: [\"\\u63A5\\u5355\\u989D\\u5EA6:\", rowData.orderAmount]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 16\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"type-time\",\n          children: [\"\\u8BA2\\u5355\\u65E5\\u671F:\", mm_dd_hh_mm_ss2(rowData.createdDate)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 16\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 13\n      }, this)]\n    }, rowID, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 10\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [selector && /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"selects\",\n      children: arr.map(item => {\n        return /*#__PURE__*/_jsxDEV(\"li\", {\n          onClick: () => {\n            setType(item.code);\n            setSelector(false);\n            setRefresing();\n          },\n          children: item.text\n        }, item.code, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 29\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 25\n    }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"bills-header-wrap\",\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"goback\",\n          onClick: goBack\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 16\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"title\",\n          children: \"\\u8D26\\u5355\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 16\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"title small-title\",\n          onClick: () => setSelector(!selector)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 16\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 10\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bills-detail\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"\\u8FD17\\u65E5\\u4E2A\\u4EBA\\u4EE3\\u552E\\u6536\\u76CA \\xA5\", toFixed(dataInfo.depositAmount)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"\\u8FD17\\u65E5\\u6210\\u529F\\u4EE3\\u552E\\u603B\\u989D \\xA5\", toFixed(dataInfo.withdrawAmount)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 10\n    }, this), /*#__PURE__*/_jsxDEV(_ListView, {\n      className: \"bills-list\",\n      ref: ref,\n      style: {\n        height: `${containerHeieght}rem`\n      },\n      dataSource: dataSource,\n      renderFooter: () => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: 'center'\n          },\n          children: !indicator ? '正在加载中.....' : '没有更多数据'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 26\n        }, this);\n      },\n      renderRow: row,\n      useBodyScroll: false //@ts-ignore\n      ,\n      pullToRefresh: /*#__PURE__*/_jsxDEV(_PullToRefresh, {\n        refreshing: refreshing,\n        onRefresh: setRefresing\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 28\n      }, this),\n      onEndReached: setIndicator,\n      pageSize: 20\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 10\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Bills, \"VifQyT5Q7JXTo7YQLTA2MkKWe2w=\", false, function () {\n  return [useHistory, usePaginationHooks];\n});\n\n_c = Bills;\nexport default inject('commonState')(observer(Bills));\n\nvar _c;\n\n$RefreshReg$(_c, \"Bills\");","map":{"version":3,"sources":["/Users/yuanfang/code/advisory-h5/src/pages/bills/index.tsx"],"names":["React","useEffect","useRef","useState","useHistory","statistics","queryPagesByParams","mm_dd_hh_mm_ss2","observer","inject","usePaginationHooks","toFixed","arr","code","text","Status","Bills","props","goBack","selector","setSelector","dataInfo","setDataInfo","dataList","setDataList","type","setType","commonState","ref","containerHeieght","setContainerHeight","setIndicator","setRefresing","indicator","refreshing","dataSource","queryPages","params","transReasons","htmlFont","Number","document","documentElement","style","fontSize","slice","clientHeight","top","ReactDOM","findDOMNode","current","offsetTop","then","data","row","rowData","sectionID","rowID","transReason","accountingAction","amount","orderNo","acceptOrderLoginName","orderAmount","createdDate","map","item","depositAmount","withdrawAmount","height","textAlign"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { statistics,queryPagesByParams } from \"./request\"\nimport { mm_dd_hh_mm_ss2 } from \"@utils/dataTime\";\nimport { ListView, PullToRefresh } from \"antd-mobile\";\nimport { observer, inject } from \"mobx-react\"\nimport usePaginationHooks from \"@hooks/usePaginationHooks\"\nimport { toFixed } from \"@utils/numberUtils\";\nimport './style.scss'\nconst arr = [\n   { code: 'TRANSFER_OUT', text: \"转出\" },\n   { code: 'TRANSFER_IN', text: \"转入\" },\n   { code: 'DEPOSIT_COST', text: \"代收扣款\" },\n   { code: 'DEPOSIT_REFUND', text: \"代收退款\" },\n   { code: 'DEPOSIT_BONUS', text: \"代收收益\" },\n   { code: 'DEPOSIT_RECALL', text: \"代销追回\" },\n   { code: 'MANUAL_ADJUST', text: \"额度修正\" },\n   { code: 'TIMING_TASK_REVOKE', text: \"限时任务冲正\" },\n   { code: 'TIMING_TASK_INCOME', text: \"限时任务奖励\" },\n   { code: 'TIMING_TASK_BONUS', text: \"限时任务收益\" },\n   { code: 'MERCHANT_DEPOSIT_FEE', text: \"商户代收费用\" },\n   { code: 'MERCHANT_DEPOSIT_ADD', text: \"商户代收费成功，额度增加\" },\n   { code: 'MERCHANT_TIMING_TASK_FEE', text: \"商户限时任务费用\" },\n   { code: 'MERCHANT_TIMING_TASK_MINUS', text: \"商户限时任务成功，额度减少\" },\n   { code: 'MERCHANT_TIMING_TASK_RETURN', text: \"商户限时任务退回，额度补回\" },\n   { code: 'DEPOSIT_BONUS_TOP', text: '代收代理收益' },\n   { code: 'DEPOSIT_BONUS_SECOND', text: '代收代理收益' },\n   { code: 'DEPOSIT_BONUS_RECOMMEND1', text: '代收收益推荐人1' },\n   { code: 'DEPOSIT_BONUS_RECOMMEND2', text: '代收收益推荐人2' },\n   { code: 'DEPOSIT_BONUS_RECOMMEND3', text: '代收收益推荐人3' },\n   { code: 'TIMING_TASK_BONUS_TOP', text: '限时任务代理收益' },\n   { code: 'TIMING_TASK_BONUS_SECOND', text: '限时任务代理收益' },\n   { code: 'TIMING_TASK_BONUS_RECOMMEND1', text: '限时任务收益推荐人1' },\n   { code: 'TIMING_TASK_BONUS_RECOMMEND2', text: '限时任务收益推荐人2' },\n   { code: 'TIMING_TASK_BONUS_RECOMMEND3', text: '限时任务收益推荐人3' },\n]\nconst Status: any = {\n  'TRANSFER_OUT': \"转出\",\n  'TRANSFER_IN': \"转入\",\n  'DEPOSIT_COST': \"代收扣款\",\n  'DEPOSIT_REFUND': \"代收退款\",\n  'DEPOSIT_BONUS': \"代收收益\",\n  'DEPOSIT_RECALL': \"代收追回\",\n  'MANUAL_ADJUST': \"额度修正\",\n  'TIMING_TASK_REVOKE': \"限时任务冲正\",\n  'TIMING_TASK_INCOME': \"限时任务奖励\",\n  'TIMING_TASK_BONUS': \"限时任务收益\",\n  'MERCHANT_DEPOSIT_FEE': \"商户代收费用\",\n  'MERCHANT_DEPOSIT_ADD': \"商户代收费成功，额度增加\",\n  'MERCHANT_TIMING_TASK_FEE': \"商户限时任务费用\",\n  'MERCHANT_TIMING_TASK_MINUS': \"商户限时任务成功，额度减少\",\n  'MERCHANT_TIMING_TASK_RETURN': \"商户限时任务退回，额度补回\",\n  'DEPOSIT_BONUS_TOP': '代收代理收益',\n  'DEPOSIT_BONUS_SECOND': '代收代理收益',\n  'DEPOSIT_BONUS_RECOMMEND1': '代收收益推荐人1',\n  'DEPOSIT_BONUS_RECOMMEND2': '代收收益推荐人2',\n  'DEPOSIT_BONUS_RECOMMEND3': '代收收益推荐人3',\n  'TIMING_TASK_BONUS_TOP': '限时任务代理收益',\n  'TIMING_TASK_BONUS_SECOND': '限时任务代理收益',\n  'TIMING_TASK_BONUS_RECOMMEND1': '限时任务收益推荐人1',\n  'TIMING_TASK_BONUS_RECOMMEND2': '限时任务收益推荐人2',\n  'TIMING_TASK_BONUS_RECOMMEND3': '限时任务收益推荐人3',\n}\nconst Bills = (props: any) => {\n   const { goBack } = useHistory();\n   const [selector, setSelector] = useState(false)\n   const [dataInfo, setDataInfo] = useState<any>({})\n   const [dataList, setDataList] = useState<any>([])\n   const [type, setType] = useState<any>(null)\n   const { commonState } = props;\n   const ref: any = useRef(null);\n   const [containerHeieght, setContainerHeight] = useState(5)\n   const { setIndicator, setRefresing, indicator, refreshing, dataSource } = usePaginationHooks({ queryPages: queryPagesByParams,params:{ transReasons: type }});\n   useEffect(() => {\n      const htmlFont: number = Number(document.documentElement.style.fontSize.slice(0, 2));\n      const clientHeight: number = commonState.clientHeight;\n      //@ts-ignore\n      const top = ReactDOM.findDOMNode(ref.current).offsetTop\n      setContainerHeight((clientHeight - top) / htmlFont)\n   }, [])\n   useEffect(() => {\n      statistics({}).then(data => {\n         setDataInfo(data)\n      })\n   }, [])\n \n   const row = (rowData: any, sectionID: any, rowID: any) => {\n      return (\n         <li className=\"bills-list-item\"  key={rowID}>\n            <p>\n               <span className=\"type-name\">{Status[rowData.transReason]}</span>\n               {rowData.accountingAction === 'CREDIT' ?\n                  <span className=\"type-money add-money\">+{toFixed(rowData.amount)}</span>\n                  :\n                  <span className=\"type-money less-money\">-{toFixed(rowData.amount)}</span>}\n            </p>\n            <p>\n               <span className=\"type-time\">订单编号:{rowData.orderNo}</span>\n            </p>\n            <p>\n               <span className=\"type-order\">接单会员账号:{rowData.acceptOrderLoginName}</span>\n               <span className=\"type-order\">接单额度:{rowData.orderAmount}</span>\n            </p>\n            <p>\n               <span className=\"type-time\">订单日期:{mm_dd_hh_mm_ss2(rowData.createdDate)}</span>\n            </p>\n         </li>\n      );\n   };\n   return (\n      <>\n         {\n            selector && <ul className=\"selects\">\n               {\n                  arr.map((item: any) => {\n                     return <li key={item.code} \n                     onClick={() => { \n                        setType(item.code); \n                        setSelector(false);\n                        setRefresing();\n                      }}>{item.text}</li>\n                  })\n               }\n            </ul>\n         }\n         <header className=\"bills-header-wrap\">\n            <ul className=\"container\">\n               <li className=\"goback\" onClick={goBack}></li>\n               <li className=\"title\">账单</li>\n               <li className=\"title small-title\" onClick={() => setSelector(!selector)}></li>\n            </ul>\n         </header>\n         <div className=\"bills-detail\">\n            <p>近7日个人代售收益 ¥{toFixed(dataInfo.depositAmount)}</p>\n            <p>近7日成功代售总额 ¥{toFixed(dataInfo.withdrawAmount)}</p>\n         </div>\n         <ListView\n            className=\"bills-list\"\n            ref={ref}\n            style={{ height: `${containerHeieght}rem` }}\n            dataSource={dataSource}\n            renderFooter={\n               () => {\n                  return <div style={{ textAlign: 'center' }}>\n                     {!indicator ? '正在加载中.....' : '没有更多数据'}\n                  </div>\n               }\n            }\n            renderRow={row}\n            useBodyScroll={false}\n            //@ts-ignore\n            pullToRefresh={<PullToRefresh refreshing={refreshing} onRefresh={setRefresing} />}\n            onEndReached={setIndicator}\n            pageSize={20}\n         />\n      </>\n   )\n}\nexport default inject('commonState')((observer(Bills)));"]},"metadata":{},"sourceType":"module"}