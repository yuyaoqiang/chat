{"ast":null,"code":"import\"antd-mobile/lib/toast/style/css\";import _Toast from\"antd-mobile/lib/toast\";import axios from'axios';var baseURL=process.env.NODE_ENV==='production'?'':'';var timeout=60000;var reqeust=axios.create({timeout:timeout,transformRequest:[function(data){if(typeof data==='string'){return data;}data=JSON.stringify(data);return data;}],transformResponse:[function(data){if(typeof data==='string'&&data.startsWith('{')){data=JSON.parse(data);}return data;}]});// 请求拦截器\nreqeust.interceptors.request.use(function(config){var token=sessionStorage.getItem(\"user\");var url=sessionStorage.getItem(\"text-url\");var strToken=JSON.parse(token)||{};var hostname=window.location.hostname;if(process.env.NODE_ENV==='production'){config.url=url?\"\".concat(url).concat(baseURL).concat(config.url):\"https://api.rgroiho.cn\".concat(config.url);}else{config.url=\"\".concat(baseURL).concat(config.url);}config.headers.Authorization=strToken.Authorization;return config;},function(error){error.msg='服务器异常，请联系管理员！';return Promise.resolve(error);});/**\n *响应拦截器\n* 自定义状态处理\n*/reqeust.interceptors.response.use(function(response){var data=response.data,status=response.status;if(!data){return data;}if(typeof data==='string'&&(data.startsWith('{')||data.startsWith('['))){return JSON.parse(data);}else{return data;}},function(error){_Toast.fail(\"\".concat(error.response&&error.response.data?error.response.data.message:'请求错误'));return Promise.reject(error.response);});export default reqeust;","map":null,"metadata":{},"sourceType":"module"}