{"ast":null,"code":"import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"/Users/yuanfang/Downloads/Telegram Desktop/\\u5C01\\u5B58/advisory-h5/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{useHistory}from\"react-router-dom\";import{statistics,queryPages}from\"./request\";import{mm_dd_hh_mm_ss2}from\"@utils/dataTime\";import{toFixed}from\"@utils/numberUtils\";import'./style.scss';var arr=[{code:'TRANSFER_OUT',text:\"转出\"},{code:'TRANSFER_IN',text:\"转入\"},{code:'DEPOSIT_COST',text:\"代收扣款\"},{code:'DEPOSIT_REFUND',text:\"代收退款\"},{code:'DEPOSIT_BONUS',text:\"代收收益\"},{code:'DEPOSIT_RECALL',text:\"代销追回\"},{code:'MANUAL_ADJUST',text:\"额度修正\"},{code:'TIMING_TASK_REVOKE',text:\"限时任务冲正\"},{code:'TIMING_TASK_INCOME',text:\"限时任务奖励\"},{code:'TIMING_TASK_BONUS',text:\"限时任务收益\"},{code:'MERCHANT_DEPOSIT_FEE',text:\"商户代收费用\"},{code:'MERCHANT_DEPOSIT_ADD',text:\"商户代收费成功，额度增加\"},{code:'MERCHANT_TIMING_TASK_FEE',text:\"商户限时任务费用\"},{code:'MERCHANT_TIMING_TASK_MINUS',text:\"商户限时任务成功，额度减少\"},{code:'MERCHANT_TIMING_TASK_RETURN',text:\"商户限时任务退回，额度补回\"},{code:'DEPOSIT_BONUS_TOP',text:'代收收益总代'},{code:'DEPOSIT_BONUS_SECOND',text:'代收收益二级代理'},{code:'DEPOSIT_BONUS_RECOMMEND1',text:'代收收益推荐人1'},{code:'DEPOSIT_BONUS_RECOMMEND2',text:'代收收益推荐人2'},{code:'DEPOSIT_BONUS_RECOMMEND3',text:'代收收益推荐人3'},{code:'TIMING_TASK_BONUS_TOP',text:'限时任务收益总代'},{code:'TIMING_TASK_BONUS_SECOND',text:'限时任务收益二级代理'},{code:'TIMING_TASK_BONUS_RECOMMEND1',text:'限时任务收益推荐人1'},{code:'TIMING_TASK_BONUS_RECOMMEND2',text:'限时任务收益推荐人2'},{code:'TIMING_TASK_BONUS_RECOMMEND3',text:'限时任务收益推荐人3'}];var Status={'TRANSFER_OUT':\"转出\",'TRANSFER_IN':\"转入\",'DEPOSIT_COST':\"代收扣款\",'DEPOSIT_REFUND':\"代收退款\",'DEPOSIT_BONUS':\"代收收益\",'DEPOSIT_RECALL':\"代收追回\",'MANUAL_ADJUST':\"额度修正\",'TIMING_TASK_REVOKE':\"限时任务冲正\",'TIMING_TASK_INCOME':\"限时任务奖励\",'TIMING_TASK_BONUS':\"限时任务收益\",'MERCHANT_DEPOSIT_FEE':\"商户代收费用\",'MERCHANT_DEPOSIT_ADD':\"商户代收费成功，额度增加\",'MERCHANT_TIMING_TASK_FEE':\"商户限时任务费用\",'MERCHANT_TIMING_TASK_MINUS':\"商户限时任务成功，额度减少\",'MERCHANT_TIMING_TASK_RETURN':\"商户限时任务退回，额度补回\",'DEPOSIT_BONUS_TOP':'代收收益总代','DEPOSIT_BONUS_SECOND':'代收收益二级代理','DEPOSIT_BONUS_RECOMMEND1':'代收收益推荐人1','DEPOSIT_BONUS_RECOMMEND2':'代收收益推荐人2','DEPOSIT_BONUS_RECOMMEND3':'代收收益推荐人3','TIMING_TASK_BONUS_TOP':'限时任务收益总代','TIMING_TASK_BONUS_SECOND':'限时任务收益二级代理','TIMING_TASK_BONUS_RECOMMEND1':'限时任务收益推荐人1','TIMING_TASK_BONUS_RECOMMEND2':'限时任务收益推荐人2','TIMING_TASK_BONUS_RECOMMEND3':'限时任务收益推荐人3'};var Bills=function Bills(){var _useHistory=useHistory(),goBack=_useHistory.goBack;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),selector=_useState2[0],setSelector=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),dataInfo=_useState4[0],setDataInfo=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),dataList=_useState6[0],setDataList=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),type=_useState8[0],setType=_useState8[1];var statisticsHandle=function statisticsHandle(){statistics({}).then(function(data){setDataInfo(data);});};var queryPagesHandle=function queryPagesHandle(data){queryPages(data).then(function(data){setDataList(data);});};useEffect(function(){queryPagesHandle();statisticsHandle();},[]);useEffect(function(){if(!type)return;queryPagesHandle({transReasons:type});},[type]);return/*#__PURE__*/_jsxs(_Fragment,{children:[selector&&/*#__PURE__*/_jsx(\"ul\",{className:\"selects\",children:arr.map(function(item){return/*#__PURE__*/_jsx(\"li\",{onClick:function onClick(){setType(item.code);setSelector(false);},children:item.text});})}),/*#__PURE__*/_jsx(\"header\",{className:\"bills-header-wrap\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"goback\",onClick:goBack}),/*#__PURE__*/_jsx(\"li\",{className:\"title\",children:\"\\u8D26\\u5355\"}),/*#__PURE__*/_jsx(\"li\",{className:\"title small-title\",onClick:function onClick(){return setSelector(!selector);}})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bills-detail\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u8FD17\\u65E5\\u4E2A\\u4EBA\\u4EE3\\u552E\\u6536\\u76CA \\xA5\",toFixed(dataInfo.depositAmount)]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u8FD17\\u65E5Q\\u5E01\\u8D2D\\u4E70\\u603B\\u989D \\xA5\",toFixed(dataInfo.withdrawAmount)]})]}),/*#__PURE__*/_jsx(\"ul\",{className:\"bills-list\",children:dataList&&dataList.map(function(item){return/*#__PURE__*/_jsxs(\"li\",{className:\"bills-list-item\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"type-name\",children:Status[item.transReason]}),item.accountingAction==='CREDIT'?/*#__PURE__*/_jsxs(\"span\",{className:\"type-money add-money\",children:[\"+\",toFixed(item.amount)]}):/*#__PURE__*/_jsxs(\"span\",{className:\"type-money less-money\",children:[\"-\",toFixed(item.amount)]})]}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsxs(\"span\",{className:\"type-order\",children:[\"\\u8BA2\\u5355\\u7F16\\u53F7:\",item.orderNo]})}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsxs(\"span\",{className:\"type-time\",children:[\"\\u8BA2\\u5355\\u65E5\\u671F:\",mm_dd_hh_mm_ss2(item.createdDate)]})})]},item.orderNo);})})]});};export default Bills;","map":null,"metadata":{},"sourceType":"module"}