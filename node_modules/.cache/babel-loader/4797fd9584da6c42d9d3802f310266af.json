{"ast":null,"code":"import \"antd-mobile/lib/list-view/style/css\";\nimport _ListView from \"antd-mobile/lib/list-view\";\nimport \"antd-mobile/lib/pull-to-refresh/style/css\";\nimport _PullToRefresh from \"antd-mobile/lib/pull-to-refresh\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/yuanfang/code/chat/src/pages/consignmentRecord/index.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useRef, useState } from \"react\";\nimport HeaderBar from \"@components/header\";\nimport { useHistory } from \"react-router-dom\";\nimport { saleHistory } from \"./request\";\nimport { observer, inject } from \"mobx-react\";\nimport usePaginationHooks from \"@hooks/usePaginationHooks\";\nimport \"./style.scss\";\nimport { mm_dd_hh_mm_ss2 } from \"@utils/dataTime\";\nimport { toFixed } from \"@utils/numberUtils\";\n\nconst Activity = props => {\n  _s();\n\n  const ref = useRef(null);\n  const [containerHeieght, setContainerHeight] = useState(5);\n  const {\n    setIndicator,\n    setRefresing,\n    indicator,\n    refreshing,\n    dataSource\n  } = usePaginationHooks({\n    queryPages: saleHistory\n  });\n  const {\n    goBack\n  } = useHistory();\n  const {\n    commonState\n  } = props;\n  useEffect(() => {\n    const htmlFont = Number(document.documentElement.style.fontSize.slice(0, 2));\n    const clientHeight = commonState.clientHeight; //@ts-ignore\n\n    const top = ReactDOM.findDOMNode(ref.current).offsetTop;\n    setContainerHeight((clientHeight - top) / htmlFont);\n  }, []);\n\n  const row = (rowData, sectionID, rowID) => {\n    return /*#__PURE__*/_jsxDEV(\"li\", {\n      className: \"item\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"item-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"item-top\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"order-icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 32,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"order-i\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"special\",\n              children: [\"\\xA5\", toFixed(rowData.payAmount)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 34,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"\\u8D5A:\", /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"info-icon\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 35,\n                columnNumber: 23\n              }, this), \"\\xA5\", toFixed(rowData.bonus)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 35,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 33,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"success\",\n          children: [rowData.orderStatus === 'SUCCESS' && !rowData.copyNewOrder ? /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              color: '#45db5e'\n            },\n            children: \"\\u6210\\u529F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 75\n          }, this) : null, rowData.orderStatus === 'SUCCESS' && rowData.copyNewOrder ? /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              color: '#45db5e'\n            },\n            children: \"\\u590D\\u5236\\u8865\\u5355\\u6210\\u529F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 74\n          }, this) : null, rowData.orderStatus === 'CHASE_SUCCESS' ? /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              color: 'red'\n            },\n            children: \"\\u5DF2\\u8FFD\\u56DE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 56\n          }, this) : null, rowData.orderStatus === 'NOT_RECEIVE_MONEY' && !rowData.copyNewOrder ? /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              color: 'red'\n            },\n            children: \"\\u5931\\u8D25\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 85\n          }, this) : null, rowData.orderStatus === 'NOT_RECEIVE_MONEY' && rowData.copyNewOrder ? /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              color: 'red'\n            },\n            children: \"\\u590D\\u5236\\u8865\\u5355\\u5931\\u8D25\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 84\n          }, this) : null, rowData.orderStatus === 'WAIT_USER_ACK' && rowData.resetOrder ? /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              color: 'red'\n            },\n            children: \"\\u91CD\\u7F6E\\u786E\\u8BA4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 78\n          }, this) : null, rowData.orderStatus === 'WAIT_USER_ACK' && rowData.dropOrder ? /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              color: 'red'\n            },\n            children: \"\\u6389\\u5355.\\u5F85\\u786E\\u8BA4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 77\n          }, this) : null, rowData.orderStatus === 'WAIT_USER_ACK' && rowData.copyNewOrder ? /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              color: 'red'\n            },\n            children: \"\\u590D\\u5236\\u8865\\u5355.\\u5F85\\u786E\\u8BA4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 80\n          }, this) : null, rowData.orderStatus === 'WAIT_USER_ACK' && !rowData.resetOrder && !rowData.dropOrder && !rowData.copyNewOrder ? /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              color: 'red'\n            },\n            children: \"\\u7B49\\u5F85\\u4F1A\\u5458\\u786E\\u8BA4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 126\n          }, this) : null, rowData.orderStatus === 'SUBMIT_TIMEOUT' ? /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              color: 'red'\n            },\n            children: \"\\u786E\\u8BA4\\u8D85\\u65F6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 57\n          }, this) : null, rowData.orderStatus === 'WAIT_PLATFORM_CHECK_FOR_NOT_RECEIVE' ? /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              color: 'red'\n            },\n            children: \"\\u5F85\\u5BA1\\u6838\\u672A\\u5230\\u6B3E\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 78\n          }, this) : null]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"item-bank\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"\\u94F6\\u884C\\u5361\\u53F7:\", rowData.bankCardNo]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"\\u59D3\\u540D:\", rowData.payerName]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"item-order\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"\\u8BA2\\u5355\\u7F16\\u53F7:\", rowData.orderId]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            flex: '1 1 30%',\n            textAlign: 'end'\n          },\n          children: mm_dd_hh_mm_ss2(rowData.payTime)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)]\n    }, rowID, true, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"consignment-record-wrap\",\n    children: [/*#__PURE__*/_jsxDEV(HeaderBar, {\n      goback: goBack,\n      title: \"代售记录\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(_ListView, {\n      className: \"consignments\",\n      ref: ref,\n      style: {\n        height: `${containerHeieght}rem`\n      },\n      dataSource: dataSource,\n      renderFooter: () => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: 'center'\n          },\n          children: !indicator ? '正在加载中.....' : '没有更多数据'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 20\n        }, this);\n      },\n      renderRow: row,\n      useBodyScroll: false //@ts-ignore\n      ,\n      pullToRefresh: /*#__PURE__*/_jsxDEV(_PullToRefresh, {\n        refreshing: refreshing,\n        onRefresh: setRefresing\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 24\n      }, this),\n      onEndReached: setIndicator,\n      pageSize: 20\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Activity, \"cXXJBrlAZqUIl3M0ZRnD+nrkapA=\", false, function () {\n  return [usePaginationHooks, useHistory];\n});\n\n_c = Activity;\nexport default inject('commonState')(observer(Activity));\n\nvar _c;\n\n$RefreshReg$(_c, \"Activity\");","map":{"version":3,"sources":["/Users/yuanfang/code/chat/src/pages/consignmentRecord/index.tsx"],"names":["React","useEffect","useRef","useState","HeaderBar","useHistory","saleHistory","observer","inject","usePaginationHooks","mm_dd_hh_mm_ss2","toFixed","Activity","props","ref","containerHeieght","setContainerHeight","setIndicator","setRefresing","indicator","refreshing","dataSource","queryPages","goBack","commonState","htmlFont","Number","document","documentElement","style","fontSize","slice","clientHeight","top","ReactDOM","findDOMNode","current","offsetTop","row","rowData","sectionID","rowID","payAmount","bonus","orderStatus","copyNewOrder","color","resetOrder","dropOrder","bankCardNo","payerName","orderId","flex","textAlign","payTime","height"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,MAA3B,EAAmCC,QAAnC,QAAmD,OAAnD;AACA,OAAOC,SAAP,MAAsB,oBAAtB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,WAAT,QAA4B,WAA5B;AACA,SAASC,QAAT,EAAmBC,MAAnB,QAAiC,YAAjC;AACA,OAAOC,kBAAP,MAA+B,2BAA/B;AAEA,OAAO,cAAP;AAEA,SAASC,eAAT,QAAgC,iBAAhC;AACA,SAASC,OAAT,QAAwB,oBAAxB;;AACA,MAAMC,QAAQ,GAAIC,KAAD,IAAgB;AAAA;;AAC/B,QAAMC,GAAQ,GAAGZ,MAAM,CAAC,IAAD,CAAvB;AACA,QAAM,CAACa,gBAAD,EAAmBC,kBAAnB,IAAyCb,QAAQ,CAAC,CAAD,CAAvD;AACA,QAAM;AAAEc,IAAAA,YAAF;AAAgBC,IAAAA,YAAhB;AAA8BC,IAAAA,SAA9B;AAAyCC,IAAAA,UAAzC;AAAqDC,IAAAA;AAArD,MAAoEZ,kBAAkB,CAAC;AAACa,IAAAA,UAAU,EAAEhB;AAAb,GAAD,CAA5F;AACA,QAAM;AAAEiB,IAAAA;AAAF,MAAalB,UAAU,EAA7B;AACA,QAAM;AAAEmB,IAAAA;AAAF,MAAkBX,KAAxB;AAEAZ,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMwB,QAAgB,GAAGC,MAAM,CAACC,QAAQ,CAACC,eAAT,CAAyBC,KAAzB,CAA+BC,QAA/B,CAAwCC,KAAxC,CAA8C,CAA9C,EAAiD,CAAjD,CAAD,CAA/B;AACA,UAAMC,YAAoB,GAAGR,WAAW,CAACQ,YAAzC,CAFc,CAGd;;AACA,UAAMC,GAAG,GAAGC,QAAQ,CAACC,WAAT,CAAqBrB,GAAG,CAACsB,OAAzB,EAAkCC,SAA9C;AACArB,IAAAA,kBAAkB,CAAC,CAACgB,YAAY,GAAIC,GAAjB,IAAwBR,QAAzB,CAAlB;AACD,GANQ,EAMN,EANM,CAAT;;AAQA,QAAMa,GAAG,GAAG,CAACC,OAAD,EAAeC,SAAf,EAA+BC,KAA/B,KAA8C;AACxD,wBACE;AAAI,MAAA,SAAS,EAAC,MAAd;AAAA,8BACE;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA,gCACE;AAAK,UAAA,SAAS,EAAC,UAAf;AAAA,kCACE;AAAM,YAAA,SAAS,EAAC;AAAhB;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAG,YAAA,SAAS,EAAC,SAAb;AAAA,oCACE;AAAM,cAAA,SAAS,EAAC,SAAhB;AAAA,iCAA4B9B,OAAO,CAAC4B,OAAO,CAACG,SAAT,CAAnC;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE;AAAA,iDAAQ;AAAG,gBAAA,SAAS,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,sBAAR,UAAuC/B,OAAO,CAAC4B,OAAO,CAACI,KAAT,CAA9C;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAQE;AAAM,UAAA,SAAS,EAAC,SAAhB;AAAA,qBAEGJ,OAAO,CAACK,WAAR,KAAwB,SAAxB,IAAqC,CAACL,OAAO,CAACM,YAA9C,gBAA6D;AAAM,YAAA,KAAK,EAAE;AAAEC,cAAAA,KAAK,EAAE;AAAT,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAA7D,GAA4G,IAF/G,EAIGP,OAAO,CAACK,WAAR,KAAwB,SAAxB,IAAqCL,OAAO,CAACM,YAA7C,gBAA4D;AAAM,YAAA,KAAK,EAAE;AAAEC,cAAAA,KAAK,EAAE;AAAT,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAA5D,GAA+G,IAJlH,EAMGP,OAAO,CAACK,WAAR,KAAwB,eAAxB,gBAA0C;AAAM,YAAA,KAAK,EAAE;AAAEE,cAAAA,KAAK,EAAE;AAAT,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAA1C,GAAsF,IANzF,EAQGP,OAAO,CAACK,WAAR,KAAwB,mBAAxB,IAA+C,CAACL,OAAO,CAACM,YAAxD,gBAAuE;AAAM,YAAA,KAAK,EAAE;AAAEC,cAAAA,KAAK,EAAE;AAAT,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAvE,GAAkH,IARrH,EAUGP,OAAO,CAACK,WAAR,KAAwB,mBAAxB,IAA+CL,OAAO,CAACM,YAAvD,gBAAsE;AAAM,YAAA,KAAK,EAAE;AAAEC,cAAAA,KAAK,EAAE;AAAT,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAtE,GAAqH,IAVxH,EAYGP,OAAO,CAACK,WAAR,KAAwB,eAAxB,IAA2CL,OAAO,CAACQ,UAAnD,gBAAgE;AAAM,YAAA,KAAK,EAAE;AAAED,cAAAA,KAAK,EAAE;AAAT,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAhE,GAA6G,IAZhH,EAcGP,OAAO,CAACK,WAAR,KAAwB,eAAxB,IAA2CL,OAAO,CAACS,SAAnD,gBAA+D;AAAM,YAAA,KAAK,EAAE;AAAEF,cAAAA,KAAK,EAAE;AAAT,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAA/D,GAA8G,IAdjH,EAgBGP,OAAO,CAACK,WAAR,KAAwB,eAAxB,IAA2CL,OAAO,CAACM,YAAnD,gBAAkE;AAAM,YAAA,KAAK,EAAE;AAAEC,cAAAA,KAAK,EAAE;AAAT,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAlE,GAAmH,IAhBtH,EAkBGP,OAAO,CAACK,WAAR,KAAwB,eAAxB,IAA2C,CAACL,OAAO,CAACQ,UAApD,IAAkE,CAACR,OAAO,CAACS,SAA3E,IAAwF,CAACT,OAAO,CAACM,YAAjG,gBAAgH;AAAM,YAAA,KAAK,EAAE;AAAEC,cAAAA,KAAK,EAAE;AAAT,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAhH,GAA+J,IAlBlK,EAoBGP,OAAO,CAACK,WAAR,KAAwB,gBAAxB,gBAA2C;AAAM,YAAA,KAAK,EAAE;AAAEE,cAAAA,KAAK,EAAE;AAAT,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAA3C,GAAwF,IApB3F,EAsBGP,OAAO,CAACK,WAAR,KAAwB,qCAAxB,gBAAgE;AAAM,YAAA,KAAK,EAAE;AAAEE,cAAAA,KAAK,EAAE;AAAT,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAhE,GAA+G,IAtBlH;AAAA;AAAA;AAAA;AAAA;AAAA,gBARF;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAkCE;AAAG,QAAA,SAAS,EAAC,WAAb;AAAA,gCACE;AAAA,kDAAYP,OAAO,CAACU,UAApB;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAA,sCAAUV,OAAO,CAACW,SAAlB;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,cAlCF,eAsCE;AAAG,QAAA,SAAS,EAAC,YAAb;AAAA,gCACE;AAAA,kDAAYX,OAAO,CAACY,OAApB;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAM,UAAA,KAAK,EAAE;AAAEC,YAAAA,IAAI,EAAE,SAAR;AAAmBC,YAAAA,SAAS,EAAE;AAA9B,WAAb;AAAA,oBAAqD3C,eAAe,CAAC6B,OAAO,CAACe,OAAT;AAApE;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,cAtCF;AAAA,OAA0Bb,KAA1B;AAAA;AAAA;AAAA;AAAA,YADF;AA6CD,GA9CD;;AA+CA,sBACE;AAAK,IAAA,SAAS,EAAC,yBAAf;AAAA,4BACE,QAAC,SAAD;AAAW,MAAA,MAAM,EAAElB,MAAnB;AAA2B,MAAA,KAAK,EAAE;AAAlC;AAAA;AAAA;AAAA;AAAA,YADF,eAEE;AACE,MAAA,SAAS,EAAC,cADZ;AAEE,MAAA,GAAG,EAAET,GAFP;AAGE,MAAA,KAAK,EAAE;AAAEyC,QAAAA,MAAM,EAAG,GAAExC,gBAAiB;AAA9B,OAHT;AAIE,MAAA,UAAU,EAAEM,UAJd;AAKE,MAAA,YAAY,EACV,MAAM;AACJ,4BAAO;AAAK,UAAA,KAAK,EAAE;AAAEgC,YAAAA,SAAS,EAAE;AAAb,WAAZ;AAAA,oBACJ,CAAClC,SAAD,GAAa,YAAb,GAA4B;AADxB;AAAA;AAAA;AAAA;AAAA,gBAAP;AAGD,OAVL;AAYE,MAAA,SAAS,EAAEmB,GAZb;AAaE,MAAA,aAAa,EAAE,KAbjB,CAcE;AAdF;AAeE,MAAA,aAAa,eAAE;AAAe,QAAA,UAAU,EAAElB,UAA3B;AAAuC,QAAA,SAAS,EAAEF;AAAlD;AAAA;AAAA;AAAA;AAAA,cAfjB;AAgBE,MAAA,YAAY,EAAED,YAhBhB;AAiBE,MAAA,QAAQ,EAAE;AAjBZ;AAAA;AAAA;AAAA;AAAA,YAFF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAwBD,CAtFD;;GAAML,Q;UAGsEH,kB,EACvDJ,U;;;KAJfO,Q;AAuFN,eAAeJ,MAAM,CAAC,aAAD,CAAN,CAAuBD,QAAQ,CAACK,QAAD,CAA/B,CAAf","sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport HeaderBar from \"@components/header\"\nimport { useHistory } from \"react-router-dom\";\nimport { saleHistory } from \"./request\"\nimport { observer, inject } from \"mobx-react\"\nimport usePaginationHooks from \"@hooks/usePaginationHooks\"\nimport { ListView, PullToRefresh } from \"antd-mobile\";\nimport \"./style.scss\"\nimport { Toast } from \"antd-mobile\";\nimport { mm_dd_hh_mm_ss2 } from \"@utils/dataTime\";\nimport { toFixed } from \"@utils/numberUtils\";\nconst Activity = (props: any) => {\n  const ref: any = useRef(null);\n  const [containerHeieght, setContainerHeight] = useState(5)\n  const { setIndicator, setRefresing, indicator, refreshing, dataSource } = usePaginationHooks({queryPages: saleHistory });\n  const { goBack } = useHistory();\n  const { commonState } = props;\n\n  useEffect(() => {\n    const htmlFont: number = Number(document.documentElement.style.fontSize.slice(0, 2));\n    const clientHeight: number = commonState.clientHeight;\n    //@ts-ignore\n    const top = ReactDOM.findDOMNode(ref.current).offsetTop\n    setContainerHeight((clientHeight  - top) / htmlFont)\n  }, [])\n\n  const row = (rowData: any, sectionID: any, rowID: any) => {\n    return (\n      <li className=\"item\" key={rowID}>\n        <div className=\"item-info\">\n          <div className=\"item-top\">\n            <span className=\"order-icon\"></span>\n            <p className=\"order-i\">\n              <span className=\"special\">¥{toFixed(rowData.payAmount)}</span>\n              <span>赚:<i className=\"info-icon\"></i>¥{toFixed(rowData.bonus)}</span>\n            </p>\n          </div>\n          <span className=\"success\">\n            {/*  成功  掉单  */}\n            {rowData.orderStatus === 'SUCCESS' && !rowData.copyNewOrder ? <span style={{ color: '#45db5e' }}>成功</span> : null}\n            {/*  成功  复制补单  */}\n            {rowData.orderStatus === 'SUCCESS' && rowData.copyNewOrder ? <span style={{ color: '#45db5e' }}>复制补单成功</span> : null}\n            {/*  已追回  */}\n            {rowData.orderStatus === 'CHASE_SUCCESS' ? <span style={{ color: 'red' }}>已追回</span> : null}\n            {/*  失败  */}\n            {rowData.orderStatus === 'NOT_RECEIVE_MONEY' && !rowData.copyNewOrder ? <span style={{ color: 'red' }}>失败</span> : null}\n            {/*  失败 复制补单  */}\n            {rowData.orderStatus === 'NOT_RECEIVE_MONEY' && rowData.copyNewOrder ? <span style={{ color: 'red' }}>复制补单失败</span> : null}\n            {/*  重置确认  */}\n            {rowData.orderStatus === 'WAIT_USER_ACK' && rowData.resetOrder ? <span style={{ color: 'red' }}>重置确认</span> : null}\n            {/*  掉单.待确认  */}\n            {rowData.orderStatus === 'WAIT_USER_ACK' && rowData.dropOrder ? <span style={{ color: 'red' }}>掉单.待确认</span> : null}\n            {/*  复制补单.待确认  */}\n            {rowData.orderStatus === 'WAIT_USER_ACK' && rowData.copyNewOrder ? <span style={{ color: 'red' }}>复制补单.待确认</span> : null}\n            {/*  等待会员确认  */}\n            {rowData.orderStatus === 'WAIT_USER_ACK' && !rowData.resetOrder && !rowData.dropOrder && !rowData.copyNewOrder ? <span style={{ color: 'red' }}>等待会员确认</span> : null}\n            {/*  确认超时  */}\n            {rowData.orderStatus === 'SUBMIT_TIMEOUT' ? <span style={{ color: 'red' }}>确认超时</span> : null}\n            {/*  待审核未到款  */}\n            {rowData.orderStatus === 'WAIT_PLATFORM_CHECK_FOR_NOT_RECEIVE' ? <span style={{ color: 'red' }}>待审核未到款</span> : null}\n          </span>\n        </div>\n        <p className=\"item-bank\">\n          <span>银行卡号:{rowData.bankCardNo}</span>\n          <span>姓名:{rowData.payerName}</span>\n        </p>\n        <p className=\"item-order\">\n          <span>订单编号:{rowData.orderId}</span>\n          <span style={{ flex: '1 1 30%', textAlign: 'end' }}>{mm_dd_hh_mm_ss2(rowData.payTime)}</span>\n        </p>\n      </li>\n    );\n  };\n  return (\n    <div className=\"consignment-record-wrap\">\n      <HeaderBar goback={goBack} title={\"代售记录\"} />\n      <ListView\n        className=\"consignments\"\n        ref={ref}\n        style={{ height: `${containerHeieght}rem` }}\n        dataSource={dataSource}\n        renderFooter={\n          () => {\n            return <div style={{ textAlign: 'center' }}>\n              {!indicator ? '正在加载中.....' : '没有更多数据'}\n            </div>\n          }\n        }\n        renderRow={row}\n        useBodyScroll={false}\n        //@ts-ignore\n        pullToRefresh={<PullToRefresh refreshing={refreshing} onRefresh={setRefresing} />}\n        onEndReached={setIndicator}\n        pageSize={20}\n      />\n    </div>\n  )\n}\nexport default inject('commonState')((observer(Activity)));"]},"metadata":{},"sourceType":"module"}